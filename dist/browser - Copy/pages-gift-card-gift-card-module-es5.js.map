{"version":3,"sources":["webpack:///src/app/layout/pages/gift-card/gift-card-list/gift-card-list.component.html","webpack:///src/app/layout/pages/gift-card/gift-card-list/gift-card-list.component.scss","webpack:///src/app/layout/pages/gift-card/gift-card-list/gift-card-list.component.ts","webpack:///src/app/layout/pages/gift-card/gift-card-routing.module.ts","webpack:///src/app/layout/pages/gift-card/gift-card.module.ts"],"names":["GiftCardListComponent","http","util","message","userService","translate","isPayOnline","isLoading","loggedIn","seeMore","max","giftList","transaction","paymentOrderModel","selectedGift","currency","CURRENCY","settingsSubscription","getSettings","subscribe","settings","styleSubscription","getStyles","style","userSubscription","currentUser","user","getGiftCards","params","languageId","handler","zoneOffset","format","getData","giftCard","list","response","data","gift","err","alert","instant","amount","error","toast","makePayment","form_data","gift_id","id","gateway_unique_id","paymentGatewayId","customer_payment_id","card_id","CURRENCY_NAME","zone_offset","quantity","token","postData","purchase","unsubscribe","index","selector","template","routes","path","component","title","description","keyword","GiftCardRoutingModule","imports","forChild","exports","GiftCardModule","declarations"],"mappings":"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","file":"pages-gift-card-gift-card-module-es5.js","sourcesContent":["export default \"<section id=\\\"Coupons-page\\\">\\n    <div class=\\\"container\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-md-12\\\">\\n                <h3>Gift Cards</h3>\\n            </div>\\n            <ng-container *ngIf=\\\"giftList.length; then gifts else noGift\\\"></ng-container>\\n            <ng-template #gifts>\\n                <div class=\\\"col-md-6\\\" *ngFor=\\\"let gift of giftList;trackBy:trackByGiftFn\\\">\\n                    <div class=\\\"Coupons-box\\\">\\n                        <div class=\\\"Coupons-number\\\">\\n                            <h1 class=\\\"red_color\\\" *ngIf=\\\"gift.price_type == 1\\\">{{gift.percentage_value}}%</h1>\\n                            <h1 class=\\\"red_color\\\" *ngIf=\\\"gift.price_type != 1\\\">{{gift.price}}</h1>\\n                            <span>OFF</span>\\n                        </div>\\n                        <div class=\\\"Coupons-detail\\\">\\n                            <p class=\\\"gift-price d-inline-block float-right\\\">{{currency}} {{gift.price}}</p>\\n                            <h2 class=\\\"d-inline-block\\\" (click)=\\\"selectedGift = gift\\\"><a data-toggle=\\\"modal\\\"\\n                                    data-target=\\\"#myModal\\\">{{gift?.name}}</a>\\n                            </h2>\\n                            <div class=\\\"text-left\\\">\\n                                <app-see-more [max]='100' [text]=\\\"gift?.description\\\"></app-see-more>\\n                            </div>\\n\\n                            <div class=\\\"Coupons-btn\\\">\\n                                <a class=\\\"Coupons-buy\\\" (click)=\\\"onBuyNow(gift)\\\">Buy Now</a>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </ng-template>\\n\\n            <ng-template #noGift>\\n                <div class=\\\"no-gift\\\">\\n                    <h4>no gift card avaiable</h4>\\n                </div>\\n            </ng-template>\\n        </div>\\n    </div>\\n</section>\\n\\n<div id=\\\"myModal\\\" class=\\\"modal fade\\\" role=\\\"dialog\\\">\\n    <div class=\\\"modal-dialog modal-md\\\">\\n\\n        <!-- Modal content-->\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header\\\">\\n                <button type=\\\"button\\\" class=\\\"close\\\" data-dismiss=\\\"modal\\\"></button>\\n                <!-- <h4 class=\\\"modal-title\\\">{{selectedGift?.gift_name}}</h4> -->\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"Coupons-detail-outter\\\">\\n                    <div class=\\\"Coupons-detail-discount\\\">\\n                        <h1 *ngIf=\\\"selectedGift?.price_type == 1\\\"><strong>{{selectedGift?.percentage_value}}%</strong>\\n                            OFF</h1>\\n                        <h1 *ngIf=\\\"selectedGift?.price_type != 1\\\"><strong>{{selectedGift?.price}}%</strong> OFF</h1>\\n                    </div>\\n                    <div class=\\\"Coupons-detail-inner-box\\\">\\n                        <h3 *ngIf=\\\"selectedGift?.price_type == 1\\\">{{selectedGift?.percentage_value}}% off Coupon</h3>\\n                        <h3 *ngIf=\\\"selectedGift?.price_type != 1\\\">{{selectedGift?.price}} off Coupon</h3>\\n                        <p>{{selectedGift?.gift_name}}</p>\\n\\n                        <h5>Coupon Code</h5>\\n                        <div class=\\\"discount-coupon\\\">\\n                            <h4>{{selectedGift?.gift_name}}</h4>\\n                        </div>\\n\\n                        <div>\\n                            <p>{{selectedGift?.description}}</p>\\n                        </div>\\n\\n                        <div class=\\\"QA-code\\\">\\n                        </div>\\n\\n                        <!-- <div class=\\\"share-download\\\">\\n                            <div class=\\\"row\\\">\\n                                <div class=\\\"col-md-6 col-6\\\">\\n                                    <div class=\\\"share-download-btn\\\">\\n                                        <a href=\\\"\\\"><i class=\\\"fa fa-share-square-o\\\" aria-hidden=\\\"true\\\"></i>\\n                                            Share</a>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"col-md-6 col-6\\\">\\n                                    <div class=\\\"share-download-btn float-right\\\">\\n                                        <a href=\\\"\\\"><i class=\\\"fa fa-download\\\" aria-hidden=\\\"true\\\"></i>\\n                                            Download</a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div> -->\\n                    </div>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"modal-footer\\\">\\n          <button type=\\\"button\\\" class=\\\"btn btn-default\\\" data-dismiss=\\\"modal\\\">Close</button>\\n        </div> -->\\n        </div>\\n\\n    </div>\\n</div>\\n\\n<app-online-payment [settings]=\\\"settings\\\" [order]=\\\"paymentOrderModel\\\" *ngIf=\\\"isPayOnline\\\" (onError)=\\\"onPaymentError()\\\"\\n    (onClose)=\\\"isPayOnline = $event\\\" (onSuccess)=\\\"onPaymentSuccess($event)\\\">\\n</app-online-payment>\\n\\n<app-processing-indicator *ngIf=\\\"isLoading\\\"></app-processing-indicator>\\n\";","export default \"#Coupons-page {\\n  padding: 40px 0px;\\n}\\n\\n#Coupons-page h3 {\\n  font-size: 24px;\\n  margin-bottom: 20px;\\n  color: var(--baseColor);\\n}\\n\\n.Coupons-box {\\n  margin-bottom: 20px;\\n  border: 1px dashed var(--secondaryColor);\\n  border-radius: 7px;\\n  padding: 20px;\\n  display: flex;\\n}\\n\\n.Coupons-number {\\n  border: 1px dashed var(--secondaryColor);\\n  border-radius: 7px;\\n  padding: 15px;\\n  margin-right: 20px;\\n  text-align: center;\\n  display: inline-table;\\n}\\n\\n.Coupons-number h1 {\\n  font-weight: 600;\\n}\\n\\n.Coupons-number span {\\n  font-size: 18px;\\n  letter-spacing: 6px;\\n  font-weight: 500;\\n}\\n\\n.Coupons-detail .gift-price {\\n  margin-left: 320px;\\n}\\n\\n.Coupons-detail p {\\n  font-size: 14px;\\n  color: rgba(0, 0, 0, 0.5);\\n}\\n\\n.Coupons-detail h2 {\\n  font-size: 18px;\\n  font-weight: 500;\\n}\\n\\n.Coupons-detail p a {\\n  margin-left: 5px;\\n  color: var(--primaryColor);\\n  text-decoration: underline;\\n}\\n\\n.Coupons-detail h2 a {\\n  text-decoration: underline;\\n  cursor: pointer;\\n}\\n\\n.Coupons-detail h2 a:hover {\\n  color: var(--primaryColor);\\n}\\n\\n.Coupons-btn a {\\n  padding: 10px 20px;\\n  text-transform: uppercase;\\n  font-size: 14px;\\n}\\n\\na.Coupons-buy {\\n  background: var(--primaryColor);\\n  border-radius: 6px;\\n  color: #fff;\\n  cursor: pointer;\\n}\\n\\n.Coupons-btn a:hover {\\n  text-decoration: none;\\n}\\n\\na.Coupons-share {\\n  margin: 0 0 0 auto;\\n  float: right;\\n  color: rgba(0, 0, 0, 0.5);\\n}\\n\\n/* Start Coupons-detail-page CSS */\\n\\n#Coupons-page-title {\\n  padding: 10px 0px;\\n  background: #fff;\\n  text-align: center;\\n}\\n\\n#Coupons-page-title h3 {\\n  font-size: 24px;\\n}\\n\\n#Coupons-detail-page {\\n  padding: 40px 0px;\\n  background: #fafafa;\\n}\\n\\n.Coupons-detail-outter {\\n  border-radius: 10px;\\n  background: #fff;\\n  box-shadow: 0px 0px 6px rgba(187, 176, 176, 0.5);\\n}\\n\\n.Coupons-detail-discount {\\n  background: var(--baseColor);\\n  text-align: center;\\n  padding: 30px;\\n  color: #fff;\\n  margin-bottom: 20px;\\n}\\n\\n.Coupons-detail-inner-box {\\n  text-align: center;\\n  padding: 20px 70px;\\n}\\n\\n.Coupons-detail-inner-box h3 {\\n  font-size: 24px;\\n}\\n\\n.Coupons-detail-inner-box p {\\n  font-size: 14px;\\n  margin: 0 auto 40px;\\n  width: 350px;\\n  max-width: 100%;\\n  color: rgba(0, 0, 0, 0.5);\\n}\\n\\n.Coupons-detail-inner-box h5 {\\n  text-transform: uppercase;\\n  font-size: 16px;\\n  color: rgba(0, 0, 0, 0.5);\\n  margin: 0px;\\n}\\n\\n.discount-coupon {\\n  border: 1px dashed var(--secondaryColor);\\n  width: 350px;\\n  margin: 20px auto;\\n  max-width: 100%;\\n  padding: 15px;\\n  border-radius: 6px;\\n}\\n\\n.discount-coupon h4 {\\n  margin: 0px;\\n  text-transform: uppercase;\\n  letter-spacing: 7px;\\n  font-size: 30px;\\n}\\n\\n.Coupons-detail-inner-box ul {\\n  text-align: left;\\n  font-size: 14px;\\n  color: rgba(0, 0, 0, 0.5);\\n  line-height: 28px;\\n  padding-top: 30px;\\n  border-bottom: 1px solid var(--secondaryColor);\\n  padding-bottom: 30px;\\n}\\n\\n.share-download-btn a {\\n  color: rgba(0, 0, 0, 0.5);\\n  text-transform: uppercase;\\n}\\n\\n.share-download-btn {\\n  text-align: left;\\n}\\n\\n.no-gift {\\n  margin-top: 40px;\\n  border: 1px solid var(--secondaryColor);\\n  border-radius: 4px;\\n  padding: 50px;\\n  width: 100%;\\n  text-align: center;\\n  text-transform: capitalize;\\n}\\n\\n.no-gift h4 {\\n  color: var(--baseColor);\\n}\\n\\n/* End Coupons-detail-page CSS */\\n\\n@media (max-width: 812px) {\\n  .Coupons-box {\\n    display: block;\\n  }\\n  .Coupons-number {\\n    margin-bottom: 20px;\\n  }\\n  .Coupons-detail-inner-box {\\n    padding: 20px 20px;\\n    margin-bottom: 20px;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbGF5b3V0L3BhZ2VzL2dpZnQtY2FyZC9naWZ0LWNhcmQtbGlzdC9naWZ0LWNhcmQtbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlCQUFpQjtBQUNyQjs7QUFDQTtFQUNJLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIsdUJBQXVCO0FBRTNCOztBQUFBO0VBQ0ksbUJBQW1CO0VBQ25CLHdDQUF3QztFQUN4QyxrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLGFBQWE7QUFHakI7O0FBREE7RUFDSSx3Q0FBd0M7RUFDeEMsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLHFCQUFxQjtBQUl6Qjs7QUFGQTtFQUNJLGdCQUFnQjtBQUtwQjs7QUFIQTtFQUNJLGVBQWU7RUFDZixtQkFBbUI7RUFDbkIsZ0JBQWdCO0FBTXBCOztBQUpBO0VBQ0Usa0JBQWtCO0FBT3BCOztBQUxBO0VBQ0ksZUFBZTtFQUNmLHlCQUF5QjtBQVE3Qjs7QUFOQTtFQUNJLGVBQWU7RUFDZixnQkFBZ0I7QUFTcEI7O0FBUEE7RUFDSSxnQkFBZ0I7RUFDaEIsMEJBQTBCO0VBQzFCLDBCQUEwQjtBQVU5Qjs7QUFQQTtFQUNDLDBCQUEwQjtFQUMxQixlQUFlO0FBVWhCOztBQVJBO0VBQ0MsMEJBQTBCO0FBVzNCOztBQVJBO0VBQ0ksa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6QixlQUFlO0FBV25COztBQVRBO0VBQ0ksK0JBQStCO0VBQy9CLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsZUFBZTtBQVluQjs7QUFWQTtFQUNJLHFCQUFxQjtBQWF6Qjs7QUFWQTtFQUNJLGtCQUFrQjtFQUNsQixZQUFZO0VBQ1oseUJBQXlCO0FBYTdCOztBQVZBLGtDQUFBOztBQUNBO0VBQ0ksaUJBQWlCO0VBQ2pCLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFhdEI7O0FBWEE7RUFDSSxlQUFlO0FBY25COztBQVpBO0VBQ0ksaUJBQWlCO0VBQ2pCLG1CQUFtQjtBQWV2Qjs7QUFiQTtFQUNJLG1CQUFtQjtFQUNuQixnQkFBZ0I7RUFDaEIsZ0RBQWdEO0FBZ0JwRDs7QUFkQTtFQUNJLDRCQUE0QjtFQUM1QixrQkFBa0I7RUFDbEIsYUFBYTtFQUNiLFdBQVc7RUFDWCxtQkFBbUI7QUFpQnZCOztBQWZBO0VBQ0ksa0JBQWtCO0VBQ2xCLGtCQUFrQjtBQWtCdEI7O0FBaEJBO0VBQ0ksZUFBZTtBQW1CbkI7O0FBakJBO0VBQ0ksZUFBZTtFQUNmLG1CQUFtQjtFQUNuQixZQUFZO0VBQ1osZUFBZTtFQUNmLHlCQUF5QjtBQW9CN0I7O0FBbEJBO0VBQ0kseUJBQXlCO0VBQ3pCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsV0FBVztBQXFCZjs7QUFuQkE7RUFDSSx3Q0FBd0M7RUFDeEMsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixlQUFlO0VBQ2YsYUFBYTtFQUNiLGtCQUFrQjtBQXNCdEI7O0FBcEJBO0VBQ0ksV0FBVztFQUNYLHlCQUF5QjtFQUN6QixtQkFBbUI7RUFDbkIsZUFBZTtBQXVCbkI7O0FBckJBO0VBQ0ksZ0JBQWdCO0VBQ2hCLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsaUJBQWlCO0VBQ2pCLGlCQUFpQjtFQUNqQiw4Q0FBOEM7RUFDOUMsb0JBQW9CO0FBd0J4Qjs7QUF0QkE7RUFDSSx5QkFBeUI7RUFDekIseUJBQXlCO0FBeUI3Qjs7QUF2QkE7RUFDSSxnQkFBZ0I7QUEwQnBCOztBQXhCQTtFQUNJLGdCQUFnQjtFQUNoQix1Q0FBdUM7RUFDdkMsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLDBCQUEwQjtBQTJCOUI7O0FBbENBO0VBU1EsdUJBQXVCO0FBNkIvQjs7QUExQkEsZ0NBQUE7O0FBRUE7RUFDSTtJQUNJLGNBQWM7RUE0QnBCO0VBMUJFO0lBQ0ksbUJBQW1CO0VBNEJ6QjtFQTFCRTtJQUNJLGtCQUFrQjtJQUNsQixtQkFBbUI7RUE0QnpCO0FBQ0YiLCJmaWxlIjoic3JjL2FwcC9sYXlvdXQvcGFnZXMvZ2lmdC1jYXJkL2dpZnQtY2FyZC1saXN0L2dpZnQtY2FyZC1saXN0LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI0NvdXBvbnMtcGFnZSB7XG4gICAgcGFkZGluZzogNDBweCAwcHg7XG59XG4jQ291cG9ucy1wYWdlIGgzIHtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBjb2xvcjogdmFyKC0tYmFzZUNvbG9yKTtcbn1cbi5Db3Vwb25zLWJveCB7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBib3JkZXI6IDFweCBkYXNoZWQgdmFyKC0tc2Vjb25kYXJ5Q29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IDdweDtcbiAgICBwYWRkaW5nOiAyMHB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG59XG4uQ291cG9ucy1udW1iZXIge1xuICAgIGJvcmRlcjogMXB4IGRhc2hlZCB2YXIoLS1zZWNvbmRhcnlDb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogN3B4O1xuICAgIHBhZGRpbmc6IDE1cHg7XG4gICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBkaXNwbGF5OiBpbmxpbmUtdGFibGU7XG59XG4uQ291cG9ucy1udW1iZXIgaDEge1xuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG59XG4uQ291cG9ucy1udW1iZXIgc3BhbiB7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGxldHRlci1zcGFjaW5nOiA2cHg7XG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cbi5Db3Vwb25zLWRldGFpbCAuZ2lmdC1wcmljZSB7XG4gIG1hcmdpbi1sZWZ0OiAzMjBweDtcbn1cbi5Db3Vwb25zLWRldGFpbCBwIHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbn1cbi5Db3Vwb25zLWRldGFpbCBoMiB7XG4gICAgZm9udC1zaXplOiAxOHB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG59XG4uQ291cG9ucy1kZXRhaWwgcCBhIHtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5Q29sb3IpO1xuICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uQ291cG9ucy1kZXRhaWwgaDIgYSB7XG4gdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gY3Vyc29yOiBwb2ludGVyO1xufVxuLkNvdXBvbnMtZGV0YWlsIGgyIGE6aG92ZXIge1xuIGNvbG9yOiB2YXIoLS1wcmltYXJ5Q29sb3IpO1xufVxuXG4uQ291cG9ucy1idG4gYSB7XG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgZm9udC1zaXplOiAxNHB4O1xufVxuYS5Db3Vwb25zLWJ1eSB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeUNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuLkNvdXBvbnMtYnRuIGE6aG92ZXIge1xuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn1cblxuYS5Db3Vwb25zLXNoYXJlIHtcbiAgICBtYXJnaW46IDAgMCAwIGF1dG87XG4gICAgZmxvYXQ6IHJpZ2h0O1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG59XG5cbi8qIFN0YXJ0IENvdXBvbnMtZGV0YWlsLXBhZ2UgQ1NTICovXG4jQ291cG9ucy1wYWdlLXRpdGxlIHtcbiAgICBwYWRkaW5nOiAxMHB4IDBweDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiNDb3Vwb25zLXBhZ2UtdGl0bGUgaDMge1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbn1cbiNDb3Vwb25zLWRldGFpbC1wYWdlIHtcbiAgICBwYWRkaW5nOiA0MHB4IDBweDtcbiAgICBiYWNrZ3JvdW5kOiAjZmFmYWZhO1xufVxuLkNvdXBvbnMtZGV0YWlsLW91dHRlciB7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBiYWNrZ3JvdW5kOiAjZmZmO1xuICAgIGJveC1zaGFkb3c6IDBweCAwcHggNnB4IHJnYmEoMTg3LCAxNzYsIDE3NiwgMC41KTtcbn1cbi5Db3Vwb25zLWRldGFpbC1kaXNjb3VudCB7XG4gICAgYmFja2dyb3VuZDogdmFyKC0tYmFzZUNvbG9yKTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgcGFkZGluZzogMzBweDtcbiAgICBjb2xvcjogI2ZmZjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuLkNvdXBvbnMtZGV0YWlsLWlubmVyLWJveCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHBhZGRpbmc6IDIwcHggNzBweDtcbn1cbi5Db3Vwb25zLWRldGFpbC1pbm5lci1ib3ggaDMge1xuICAgIGZvbnQtc2l6ZTogMjRweDtcbn1cbi5Db3Vwb25zLWRldGFpbC1pbm5lci1ib3ggcCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIG1hcmdpbjogMCBhdXRvIDQwcHg7XG4gICAgd2lkdGg6IDM1MHB4O1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xufVxuLkNvdXBvbnMtZGV0YWlsLWlubmVyLWJveCBoNSB7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTtcbiAgICBtYXJnaW46IDBweDtcbn1cbi5kaXNjb3VudC1jb3Vwb24ge1xuICAgIGJvcmRlcjogMXB4IGRhc2hlZCB2YXIoLS1zZWNvbmRhcnlDb2xvcik7XG4gICAgd2lkdGg6IDM1MHB4O1xuICAgIG1hcmdpbjogMjBweCBhdXRvO1xuICAgIG1heC13aWR0aDogMTAwJTtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbn1cbi5kaXNjb3VudC1jb3Vwb24gaDQge1xuICAgIG1hcmdpbjogMHB4O1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgbGV0dGVyLXNwYWNpbmc6IDdweDtcbiAgICBmb250LXNpemU6IDMwcHg7XG59XG4uQ291cG9ucy1kZXRhaWwtaW5uZXItYm94IHVsIHtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpO1xuICAgIGxpbmUtaGVpZ2h0OiAyOHB4O1xuICAgIHBhZGRpbmctdG9wOiAzMHB4O1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnlDb2xvcik7XG4gICAgcGFkZGluZy1ib3R0b206IDMwcHg7XG59XG4uc2hhcmUtZG93bmxvYWQtYnRuIGEge1xuICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbn1cbi5zaGFyZS1kb3dubG9hZC1idG4ge1xuICAgIHRleHQtYWxpZ246IGxlZnQ7XG59XG4ubm8tZ2lmdCB7XG4gICAgbWFyZ2luLXRvcDogNDBweDtcbiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnlDb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIHBhZGRpbmc6IDUwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIHRleHQtdHJhbnNmb3JtOiBjYXBpdGFsaXplO1xuICAgIGg0IHtcbiAgICAgICAgY29sb3I6IHZhcigtLWJhc2VDb2xvcik7XG4gICAgfVxufVxuLyogRW5kIENvdXBvbnMtZGV0YWlsLXBhZ2UgQ1NTICovXG5cbkBtZWRpYSAobWF4LXdpZHRoOiA4MTJweCkge1xuICAgIC5Db3Vwb25zLWJveCB7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgICAuQ291cG9ucy1udW1iZXIge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbiAgICAuQ291cG9ucy1kZXRhaWwtaW5uZXItYm94IHtcbiAgICAgICAgcGFkZGluZzogMjBweCAyMHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIH1cbn1cbiJdfQ== */\";","import { ApiUrl } from '../../../../core/apiUrl';\nimport { Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport * as moment from 'moment';\n\nimport { GlobalVariable } from './../../../../core/global';\nimport { MessagingService } from './../../../../services/messaging/messaging.service';\nimport { UtilityService } from './../../../../services/utility/utility.service';\nimport { HttpService } from './../../../../services/http/http.service';\nimport { AppSettings } from './../../../../shared/models/appSettings.model';\nimport { StyleVariables } from './../../../../core/theme/styleVariables.model';\nimport { UserService } from '../../../../services/user/user.service';\nimport { TranslateService } from '@ngx-translate/core';\n\n@Component({\n  selector: 'app-gift-card-list',\n  templateUrl: './gift-card-list.component.html',\n  styleUrls: ['./gift-card-list.component.scss']\n})\nexport class GiftCardListComponent implements OnInit {\n\n  isPayOnline: boolean = false;\n  isLoading: boolean = false;\n  loggedIn: boolean = false;\n  seeMore: boolean = false;\n\n  max: number = 2;\n\n  giftList: Array<any> = [];\n  transaction: any = {};\n  paymentOrderModel: any = {};\n  selectedGift: any = {};\n  currency: string = '';\n\n  style: StyleVariables;\n  settings: AppSettings;\n\n  settingsSubscription: Subscription;\n  styleSubscription: Subscription;\n  userSubscription: Subscription;\n\n  constructor(\n    private http: HttpService,\n    private util: UtilityService,\n    private message: MessagingService,\n    private userService: UserService,\n    private translate: TranslateService\n  ) {\n    this.currency = GlobalVariable.CURRENCY;\n  }\n\n  ngOnInit() {\n    this.settingsSubscription = this.util.getSettings\n      .subscribe((settings: AppSettings) => {\n        if (settings) {\n          this.settings = settings;\n        }\n      });\n\n    this.styleSubscription = this.util.getStyles\n      .subscribe((style: StyleVariables) => {\n        if (style) {\n          this.style = style;\n        }\n      });\n\n    this.userSubscription = this.userService.currentUser\n      .subscribe(user => {\n        if (!!user && user['access_token']) {\n          this.paymentOrderModel.user = user;\n          this.loggedIn = true;\n        } else {\n          this.loggedIn = false;\n        }\n      });\n\n    this.getGiftCards();\n  }\n\n  getGiftCards() {\n    this.isLoading = true;\n    let params = {\n      languageId: this.util.handler.languageId,\n      zoneOffset: moment().format('Z')\n    }\n    this.http.getData(ApiUrl.giftCard.list, params)\n      .subscribe(response => {\n        if (!!response && response.data) {\n          this.giftList = response.data.gift;\n        }\n        this.isLoading = false;\n      }, (err) => this.isLoading = false);\n  }\n\n  onBuyNow(gift: any) {\n    if (!this.loggedIn) {\n      this.message.alert('info', `${this.translate.instant('Please Login First')}!`);\n      return;\n    }\n    this.selectedGift = gift;\n    this.paymentOrderModel.amount = gift.amount;\n    this.isPayOnline = true;\n  }\n\n  onPaymentError(error: string) {\n    this.isPayOnline = false;\n    this.message.toast('error', error);\n  }\n\n  onPaymentSuccess(transaction) {\n    this.transaction = transaction;\n    this.isPayOnline = false;\n    this.makePayment();\n  }\n\n  makePayment() {\n    this.isLoading = true;\n    let form_data = {\n      gift_id: `${this.selectedGift.id}`,\n      gateway_unique_id: this.transaction.paymentGatewayId,\n      customer_payment_id: this.paymentOrderModel.user.customer_payment_id,\n      card_id: this.transaction.card_id,\n      currency: GlobalVariable.CURRENCY_NAME,\n      zone_offset: moment().format('Z'),\n      languageId: this.util.handler.languageId,\n      quantity: 1,\n    }\n\n    if(this.transaction.token) {\n      form_data['payment_token'] = this.transaction.token;\n    }\n\n    this.http.postData(ApiUrl.giftCard.purchase, form_data)\n      .subscribe(response => {\n        if (!!response) {\n          this.message.alert('success', this.translate.instant('Gift Card Successfully Purchased'));\n        }\n        this.isLoading = false;\n      }), (err) => { this.isLoading = false };\n  }\n\n  ngOnDestroy() {\n    this.settingsSubscription.unsubscribe();\n    this.styleSubscription.unsubscribe();\n    this.userSubscription.unsubscribe();\n  }\n  trackByGiftFn(id, index) {\n    return index;\n  }\n}\n","import { GiftCardListComponent } from './gift-card-list/gift-card-list.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [\n  {\n    path: 'list', component: GiftCardListComponent, data: {\n      title: 'Gift Cards',\n      description: 'Gift Card List',\n      keyword: 'shopping'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class GiftCardRoutingModule { }\n","import { GiftCardListComponent } from './gift-card-list/gift-card-list.component';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { GiftCardRoutingModule } from './gift-card-routing.module';\nimport { LayoutSharedModule } from '../../shared/layout-shared/layout-shared.module';\nimport { OnlinePaymentModule } from '../../shared/online-payment/online-payment.module';\n\n\n@NgModule({\n  declarations: [\n    GiftCardListComponent\n  ],\n  imports: [\n    CommonModule,\n    LayoutSharedModule,\n    OnlinePaymentModule,\n    GiftCardRoutingModule\n  ]\n})\nexport class GiftCardModule { }\n"]}