!function(){function e(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,r,t){return r&&n(e.prototype,r),t&&n(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{Q5Pj:function(r,n,l){"use strict";l.r(n),l.d(n,"OrdersModule",(function(){return Xl}));var c=l("J7v2"),o=l("qRKR"),s=l("QXA5"),d=l("yq25"),a=l("GUP0"),u=l("Ko4x"),b=l("A1Tq"),p=l("LcQX"),g=l("Wlo7"),y=l("8Y7J"),f=l("nWvw"),h=l("SVse"),v=l("xkgV"),m=l("v/H2");function _(e,r){1&e&&(y.Zb(0,"div",3),y.Zb(1,"div",15),y.Ub(2,"p",16),y.Ub(3,"p"),y.Yb(),y.Yb())}l("Ajdf");var H,O=function(e,r){return{"background-color":e,"border-color":r}},k=((H=function(){function e(r){t(this,e),this.util=r}return i(e,[{key:"ngOnInit",value:function(){}},{key:"trackByGenerateFakeFn",value:function(e,r){return r}}]),e}()).\u0275fac=function(e){return new(e||H)(y.Tb(p.a))},H.\u0275cmp=y.Nb({type:H,selectors:[["app-order-list-item-skeleton"]],inputs:{style:"style",settings:"settings"},decls:27,vars:8,consts:[[1,"skeleton","track_order_outter",3,"ngStyle"],[1,"head"],[1,"row"],[1,"col-md-6"],[1,"float-left"],[1,"float-right"],[1,"row","order"],[1,"float-left","date"],[1,"body"],[1,"row","item-row","mt-2"],["class","col-md-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"foot"],[2,"margin-top","-6px"],[1,"float-right","cancel-btn","margin-left-10"],[1,"float-right","cancel-btn"],[1,"item-column"],[1,"ellipsis"]],template:function(e,r){1&e&&(y.Xb(0),y.Zb(1,"div",0),y.Zb(2,"div",1),y.Zb(3,"div",2),y.Zb(4,"div",3),y.Ub(5,"h5",4),y.Yb(),y.Zb(6,"div",3),y.Ub(7,"h5",5),y.Yb(),y.Yb(),y.Zb(8,"div",6),y.Zb(9,"div",3),y.Zb(10,"div",7),y.Ub(11,"p"),y.Yb(),y.Yb(),y.Zb(12,"div",3),y.Ub(13,"p",5),y.Yb(),y.Yb(),y.Yb(),y.Zb(14,"div",8),y.Zb(15,"div",9),y.Oc(16,_,4,0,"div",10),y.Yb(),y.Yb(),y.Zb(17,"div",11),y.Zb(18,"div",2),y.Zb(19,"div",3),y.Zb(20,"div",7),y.Zb(21,"span"),y.Ub(22,"p"),y.Yb(),y.Yb(),y.Yb(),y.Zb(23,"div",3),y.Zb(24,"div",12),y.Ub(25,"a",13),y.Ub(26,"a",14),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Wb()),2&e&&(y.Hb(1),y.rc("ngStyle",y.xc(5,O,r.style.cardBackgroundColor,r.style.secondaryColor)),y.Hb(15),y.rc("ngForOf",r.util.generateFakeList(2))("ngForTrackBy",r.trackByGenerateFakeFn),y.Hb(4),y.Nc("color",r.style.defaultColor))},directives:[h.n,h.l],styles:["a[_ngcontent-%COMP%]{width:100px}.track_order_outter[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{border:none}"]}),H),Y=l("TSSN"),Z=l("mh11");function I(e,r){if(1&e&&(y.Zb(0,"div",2),y.Zb(1,"div",3),y.Zb(2,"b"),y.Qc(3,"Description:"),y.Yb(),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(4),y.Sc(" ",null==t?null:t.prescription,"")}}var C=function(e,r){return{borderColor:e,color:r}};function S(e,r){if(1&e){var t=y.ac();y.Zb(0,"a",22),y.gc("click",(function(){y.Hc(t);var e=y.kc().$implicit;return y.kc(3).rejectRequest(e)})),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Yb()}if(2&e){var n=y.kc().$implicit,i=y.kc(3);y.rc("ngStyle",y.xc(7,C,null==i.style?null:i.style.primarycolor,null==i.style?null:i.style.primaryColor)),y.Hb(1),y.Sc("Reject ",y.mc(2,2,y.nc(3,4,"order",null==n?null:n.type))," Request")}}var Q=function(e,r){return{"background-color":e,"border-color":r}},T=function(){return[0,1]};function w(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",13),y.Zb(1,"div",14),y.Zb(2,"div",15),y.Zb(3,"div",2),y.Zb(4,"div",16),y.Zb(5,"div",2),y.Zb(6,"div",3),y.Zb(7,"b"),y.Qc(8,"Request Id:"),y.Yb(),y.Qc(9),y.Yb(),y.Yb(),y.Zb(10,"div",2),y.Zb(11,"div",3),y.Zb(12,"b"),y.Qc(13,"Requested On:"),y.Yb(),y.Qc(14),y.lc(15,"date"),y.Yb(),y.Yb(),y.Zb(16,"div",2),y.Zb(17,"div",3),y.Zb(18,"b"),y.Qc(19),y.lc(20,"translate"),y.lc(21,"localization"),y.Yb(),y.Qc(22),y.Yb(),y.Yb(),y.Oc(23,I,5,1,"div",9),y.Yb(),y.Zb(24,"div",17),y.Zb(25,"img",18),y.gc("click",(function(){y.Hc(t);var e=r.$implicit;return y.kc(3).viewAttachment(null==e?null:e.prescription_image)})),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(26,"div",19),y.Zb(27,"div",2),y.Zb(28,"div",13),y.Zb(29,"a",20),y.Zb(30,"b"),y.Qc(31,"Status :"),y.Yb(),y.Qc(32),y.Yb(),y.Yb(),y.Zb(33,"div",13),y.Oc(34,S,4,10,"a",21),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(3);y.Hb(1),y.rc("ngStyle",y.xc(17,Q,i.style.cardBackgroundColor,i.style.secondaryColor)),y.Hb(8),y.Sc(" ",null==n?null:n.id,""),y.Hb(5),y.Sc(" ",y.oc(15,9,null==n?null:n.created_at,"medium","+000"),""),y.Hb(5),y.Sc("",y.mc(20,13,y.mc(21,15,"supplier")),":"),y.Hb(3),y.Sc(" ",null==n?null:n.name," "),y.Hb(1),y.rc("ngIf",null==n?null:n.prescription),y.Hb(2),y.rc("src",null!=n&&n.prescription_image?null==n?null:n.prescription_image:"/assets/images/placeholder_image.svg",y.Jc),y.Hb(7),y.Sc(" ",i.request_status[null==n?null:n.status]," "),y.Hb(2),y.rc("ngIf",y.vc(20,T).includes(null==n?null:n.status))}}function P(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",23),y.Zb(1,"pagination-controls",24),y.gc("pageChange",(function(e){return y.Hc(t),y.kc(3).pageChange(e)})),y.Yb(),y.Yb()}if(2&e){var n=y.kc(3);y.Hb(1),y.Nc("color",n.style.primaryColor)}}var D=function(e,r,t){return{itemsPerPage:e,currentPage:r,totalItems:t}};function x(e,r){if(1&e&&(y.Zb(0,"div",2),y.Oc(1,w,35,21,"div",11),y.lc(2,"paginate"),y.Oc(3,P,2,2,"div",12),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.rc("ngForOf",y.nc(2,3,t.orders,y.yc(6,D,t.pagination.perPageOrder,t.pagination.currentPage,t.pagination.count)))("ngForTrackBy",t.trackByOrderFn),y.Hb(2),y.rc("ngIf",t.pagination.count>t.pagination.perPageOrder)}}function N(e,r){if(1&e&&(y.Zb(0,"div",25),y.Zb(1,"h1"),y.Qc(2),y.lc(3,"translate"),y.lc(4,"localization"),y.lc(5,"translate"),y.Yb(),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Uc("",y.mc(3,5,"No")," ",y.mc(4,7,"order")," ",y.mc(5,9,"Found"),"")}}function F(e,r){if(1&e&&(y.Xb(0),y.Oc(1,x,4,10,"div",9),y.Oc(2,N,6,11,"div",10),y.Wb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngIf",t.pagination.count>0),y.Hb(1),y.rc("ngIf",!t.pagination.count&&t.noData)}}function R(e,r){if(1&e&&(y.Zb(0,"div",27),y.Ub(1,"app-order-list-item-skeleton",28),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Mc(t.style),y.rc("settings",t.settings)}}function M(e,r){if(1&e&&(y.Zb(0,"div",2),y.Oc(1,R,2,3,"div",26),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngForOf",t.util.generateFakeList(6))("ngForTrackBy",t.trackByFakelistFn)}}var B,z=((B=function(){function e(r,n,i,l){t(this,e),this.util=r,this.http=n,this.message=i,this.dialogService=l,this.isLoading=!1,this.noData=!1,this.orders=[],this.request_status=[],this.pagination=new u.a,this.pagination.perPageOrder=6,this.request_status=["Pending","Approved","Rejected By Admin","Cancelled By User"]}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.styleSubscription=this.util.getStyles.subscribe((function(r){e.style=r})),this.settingsSubscription=this.util.getSettings.subscribe((function(r){r&&(e.settings=r)})),this.getOrderResuestList()}},{key:"getOrderResuestList",value:function(){var e=this;this.isLoading=!0;var r={offset:this.pagination.offset,limit:this.pagination.perPageOrder};this.noData=!1,this.http.getData(g.a.orders.requestList,r).subscribe((function(r){e.noData=!0,r&&r.data&&(e.pagination.count=r.data.totalCount,e.orders=r.data.data),e.isLoading=!1}),(function(r){return e.isLoading=!1}))}},{key:"rejectRequest",value:function(e){var r=this;this.message.confirm("reject this request").then((function(t){t.value&&r.http.putData(g.a.orders.rejectOrderRequest,{id:e.id,reason:""}).subscribe((function(e){e&&(r.message.toast("success","Request Rejected"),r.getOrderResuestList())}))}))}},{key:"viewAttachment",value:function(e){this.dialogService.open(d.a,{dismissableMask:!0,showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{url:e,type:"image"}})}},{key:"trackByOrderFn",value:function(e,r){return r}},{key:"trackByFakelistFn",value:function(e,r){return r}},{key:"ngOnDestroy",value:function(){this.styleSubscription.unsubscribe(),this.settingsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||B)(y.Tb(p.a),y.Tb(b.a),y.Tb(a.a),y.Tb(f.a))},B.\u0275cmp=y.Nb({type:B,selectors:[["app-order-request"]],decls:20,vars:16,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"row",2,"margin-bottom","20px"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","row",4,"ngIf"],["class","no-data",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf","ngForTrackBy"],["class","custom-pagination",4,"ngIf"],[1,"col-md-6"],[1,"track_order_outter","order-request",3,"ngStyle"],[1,"head"],[1,"col-md-8"],[1,"col-md-4"],["onError","src = '/assets/images/placeholder_image.svg';",3,"src","click"],[1,"foot"],[1,"float-left",2,"margin-top","5px"],["class","float-right cancel-btn margin-left-10",3,"ngStyle","click",4,"ngIf"],[1,"float-right","cancel-btn","margin-left-10",3,"ngStyle","click"],[1,"custom-pagination"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"no-data"],["class","col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-6"],[3,"settings"]],template:function(e,r){if(1&e&&(y.Zb(0,"div",0),y.Zb(1,"div",1),y.Zb(2,"div",2),y.Zb(3,"div",3),y.Zb(4,"ul"),y.Zb(5,"li"),y.Zb(6,"a",4),y.Qc(7),y.lc(8,"translate"),y.lc(9,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(10,"section",5),y.Zb(11,"div",1),y.Zb(12,"div",6),y.Zb(13,"div",3),y.Zb(14,"h1"),y.Qc(15),y.lc(16,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Oc(17,F,3,2,"ng-container",7),y.Oc(18,M,2,2,"ng-template",null,8,y.Pc),y.Yb(),y.Yb()),2&e){var t=y.Ec(19);y.Nc("background-color",r.style.backgroundColor),y.Hb(6),y.Nc("color",r.style.baseColor),y.Hb(1),y.Sc(" ",y.mc(8,10,y.mc(9,12,"orders"))," Request"),y.Hb(7),y.Nc("color",r.style.baseColor),y.Hb(1),y.Sc("",y.mc(16,14,"orders")," Requests"),y.Hb(2),y.rc("ngIf",!r.isLoading)("ngIfElse",t)}},directives:[h.m,h.l,h.n,v.c,k],pipes:[Y.d,Z.a,v.b,h.e],styles:[".order-request[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px;-o-object-fit:contain;object-fit:contain;border:1px solid rgba(0,0,0,.25);border-radius:4px;cursor:pointer;width:100%}.order-request[_ngcontent-%COMP%]   .foot[_ngcontent-%COMP%]{height:70px;border-top:1px solid rgba(0,0,0,.16);padding-top:15px;padding-bottom:10px}"]}),B),E=l("mrSG"),U=l("esXn"),A=l("63YN"),L=l("CFL1"),q=l("wd/R"),j=l("LvDl"),W=l.n(j),V=l("/sOQ"),G=l("GS7A"),X=l("26ot"),J=l("PSD3"),K=l.n(J),ee=l("IyPW"),re=l("P12i"),te=l("CdLn"),ne=l("iInd"),ie=l("s7LF"),le=l("nQ0Q"),ce=l("+Uu/");function oe(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",4),y.Zb(1,"button",5),y.Qc(2),y.Ub(3,"i",6),y.Yb(),y.Zb(4,"div",7),y.Zb(5,"a",8),y.gc("click",(function(){return y.Hc(t),y.kc().paymentType=0})),y.Qc(6,"Cash On Delivery"),y.Yb(),y.Zb(7,"a",8),y.gc("click",(function(){return y.Hc(t),y.kc().paymentType=1})),y.Qc(8,"Online"),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=y.kc();y.Hb(2),y.Sc(" Payment Method: ",1==n.paymentType?"Online":"Cash On Delivery"," ")}}function se(e,r){if(1&e){var t=y.ac();y.Zb(0,"app-online-payment",9),y.gc("onError",(function(){return y.Hc(t),y.kc().onPaymentError()}))("onClose",(function(e){return y.Hc(t),y.kc().isPayOnline=e}))("onSuccess",(function(e){return y.Hc(t),y.kc().onPaymentSuccess(e)})),y.Yb()}if(2&e){var n=y.kc();y.rc("settings",n.settings)("order",n.paymentOrderModel)("geofencedGateways",n.geofencedGateways)}}function de(e,r){1&e&&y.Ub(0,"app-processing-indicator")}var ae,ue,be=function(e,r){return{"border-color":e,color:r}},pe=((ae=function(){function e(r,n,i,l){t(this,e),this.message=r,this.http=n,this.util=i,this.translate=l,this.paymentComplete=new y.q,this.service_charge=0,this.transaction={},this.isPayOnline=!1,this.loading=!1,this.currency="",this.paymentType=1,this.geofencedGateways=[],this.hidePaymentModeSelection=!1,this.currency=V.a.CURRENCY}return i(e,[{key:"ngOnInit",value:function(){1==this.settings.is_tax_geofence&&this.getGeofenceArea()}},{key:"orderPayment",value:function(){1==this.paymentType&&3==this.order.payment_type||1==this.order.payment_type?this.isPayOnline=!0:this.makePayment()}},{key:"onPaymentError",value:function(e){this.isPayOnline=!1,this.message.toast("error",e)}},{key:"onPaymentSuccess",value:function(e){this.transaction=e,this.isPayOnline=!1,this.makePayment()}},{key:"getGeofenceArea",value:function(){var e=this;this.http.getData(g.a.orders.geofenceAreas,{lat:this.order.to_latitude,long:this.order.to_longitude}).subscribe((function(r){if(r&&r.data&&(e.geofencedGateways=r.data.gateways,e.geofencedGateways.length)){var t=e.geofencedGateways.findIndex((function(e){return"cod"===e}));t>-1?(e.geofencedGateways.splice(t,1),e.geofencedGateways.length||(e.hidePaymentModeSelection=!0,e.paymentType=0)):(e.paymentType=1,e.hidePaymentModeSelection=!0)}}))}},{key:"makePayment",value:function(){var e=this;this.loading=!0;var r={order_id:this.order.order_id.toString(),currency:V.a.CURRENCY_NAME,card_id:"",payment_token:this.transaction.token,gateway_unique_id:this.transaction.paymentGatewayId,languageId:this.util.handler.languageId},t="";this.order.remaining_amount?t=g.a.orders.payRmainingAmount:(r.payment_type=1==this.order.payment_after_confirmation&&3==this.order.payment_type?this.paymentType:this.order.payment_type,t=g.a.orders.orderPayment),this.http.postData(t,r).subscribe((function(r){r&&(e.message.toast("success",e.translate.instant("Payment Successfully")),e.paymentComplete.emit()),e.loading=!1}))}}]),e}()).\u0275fac=function(e){return new(e||ae)(y.Tb(a.a),y.Tb(b.a),y.Tb(p.a),y.Tb(Y.e))},ae.\u0275cmp=y.Nb({type:ae,selectors:[["app-order-payment"]],inputs:{order:"order",style:"style",settings:"settings"},outputs:{paymentComplete:"paymentComplete"},decls:5,vars:9,consts:[["class","dropdown",4,"ngIf"],[1,"btn","cancel-order",2,"margin-left","10px",3,"ngStyle","click"],[3,"settings","order","geofencedGateways","onError","onClose","onSuccess",4,"ngIf"],[4,"ngIf"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","cancel-order","dropdown-toggle"],[1,"fa","fa-chevron-down"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu"],[1,"dropdown-item","pointer",3,"click"],[3,"settings","order","geofencedGateways","onError","onClose","onSuccess"]],template:function(e,r){1&e&&(y.Oc(0,oe,9,1,"div",0),y.Zb(1,"button",1),y.gc("click",(function(){return r.orderPayment()})),y.Qc(2),y.Yb(),y.Oc(3,se,1,3,"app-online-payment",2),y.Oc(4,de,1,0,"app-processing-indicator",3)),2&e&&(y.rc("ngIf",1==r.order.payment_after_confirmation&&3==r.order.payment_type&&!r.hidePaymentModeSelection),y.Hb(1),y.rc("ngStyle",y.xc(6,be,r.style.primaryColor,r.style.baseColor)),y.Hb(1),y.Tc(" Pay ",r.currency,"",r.order.remaining_amount&&1==r.order.is_edit?r.order.remaining_amount:r.order.net_amount,"\n"),y.Hb(1),y.rc("ngIf",r.isPayOnline),y.Hb(1),y.rc("ngIf",r.loading))},directives:[h.m,h.n,le.a,ce.a],styles:[""]}),ae),ge=l("xpiA"),ye=((ue=function(){function e(r,n,i){t(this,e),this.router=r,this.util=n,this.cartService=i,this.reOrderButton=new ge.a}return i(e,[{key:"ngOnInit",value:function(){this.buttonStyleChange()}},{key:"ngOnChanges",value:function(){this.buttonStyleChange()}},{key:"buttonStyleChange",value:function(){this.reOrderButton.color="#FFFFFF",this.reOrderButton.borderColor=this.style.primaryColor,this.reOrderButton.backgroundColor=this.style.primaryColor}},{key:"onReOrder",value:function(){var e=this.mapForCart(this.order);this.cartService.setOrderPickType(parseInt(this.order.self_pickup)),this.util.setCart(e),this.router.navigate(["/cart"])}},{key:"mapForCart",value:function(e){var r=this,t=[];return e.product.forEach((function(e){if(e.adds_on&&e.adds_on.length){var n=W.a.groupBy(e.adds_on,"serial_number");if(Object.keys(n).length){var i=[],l=0;for(var c in n){var o=n[c];i.push({id:++l,quantity:o[0].quantity,data:r.makeCustomizationModel(o)})}e.customization=i}e.selectedQuantity=e.customization.reduce((function(e,r){return e+(r.quantity||0)}),0)}else e.selectedQuantity=e.quantity;e.productId=e.product_id||e.productId,delete e.product_id,t.push(e)})),t}},{key:"makeCustomizationModel",value:function(e){var r=[],t=W.a.groupBy(e,"adds_on_name"),n=function(e){var n={name:e,value:[],selectedCount:1};n.value=t[e].map((function(r){return{type_name:r.adds_on_type_name,type_id:r.adds_on_type_jd,name:e,id:r.adds_on_id,price:r.price,quantity:r.quantity,adds_on_type_quantity:r.adds_on_type_quantity}})),r.push(n)};for(var i in t)n(i);return r}}]),e}()).\u0275fac=function(e){return new(e||ue)(y.Tb(ne.g),y.Tb(p.a),y.Tb(U.a))},ue.\u0275cmp=y.Nb({type:ue,selectors:[["app-re-order"]],inputs:{order:"order",style:"style",settings:"settings"},features:[y.Fb],decls:4,vars:4,consts:[[1,"reorder",3,"ngStyle","click"]],template:function(e,r){1&e&&(y.Xb(0),y.Zb(1,"button",0),y.gc("click",(function(){return r.onReOrder()})),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Wb()),2&e&&(y.Hb(1),y.rc("ngStyle",r.reOrderButton),y.Hb(1),y.Sc(" ",y.mc(3,2,"Reorder")," "))},directives:[h.n],pipes:[Y.d],encapsulation:2}),ue),fe=l("9IBG");function he(e,r){if(1&e){var t=y.ac();y.Zb(0,"li",5),y.gc("click",(function(){y.Hc(t);var e=r.$implicit;return y.kc(2).viewAttachment(e)})),y.Ub(1,"img",6),y.Yb()}if(2&e){var n=r.$implicit;y.Hb(1),y.sc("src","image"==n.type?n.url:"../../../../../../assets/images/pdf_ic.jpg",y.Jc)}}function ve(e,r){if(1&e&&(y.Zb(0,"div",1),y.Zb(1,"h4",2),y.Qc(2),y.lc(3,"localization"),y.Yb(),y.Zb(4,"div",3),y.Zb(5,"ul"),y.Oc(6,he,2,1,"li",4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(2),y.Rc(y.nc(3,2,"prescription_value",null==t.order?null:t.order.type)),y.Hb(4),y.rc("ngForOf",t.prescription_image_arr)}}function me(e,r){if(1&e&&(y.Zb(0,"div",1),y.Zb(1,"h4",7),y.Qc(2),y.lc(3,"localization"),y.Yb(),y.Zb(4,"div",8),y.Zb(5,"p"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(2),y.Rc(y.nc(3,2,"instruction",null==t.order?null:t.order.type)),y.Hb(4),y.Rc(t.order.pres_description)}}var _e,He,Oe=((_e=function(){function e(r){t(this,e),this.dialogService=r,this.order={},this.prescription_image_arr=[]}return i(e,[{key:"ngOnInit",value:function(){}},{key:"setPrescImages",value:function(e){var r;e.pres_image1&&((r={url:"",type:""}).url=e.pres_image1,r.type="pdf"===e.pres_image1.split(".").pop()?"pdf":"image",this.prescription_image_arr.push(r)),e.pres_image2&&((r={url:"",type:""}).url=e.pres_image2,r.type="pdf"===e.pres_image1.split(".").pop()?"pdf":"image",this.prescription_image_arr.push(r)),e.pres_image3&&((r={url:"",type:""}).url=e.pres_image3,r.type="pdf"===e.pres_image1.split(".").pop()?"pdf":"image",this.prescription_image_arr.push(r)),e.pres_image4&&((r={url:"",type:""}).url=e.pres_image4,r.type="pdf"===e.pres_image1.split(".").pop()?"pdf":"image",this.prescription_image_arr.push(r)),e.pres_image5&&((r={url:"",type:""}).url=e.pres_image5,r.type="pdf"===e.pres_image1.split(".").pop()?"pdf":"image",this.prescription_image_arr.push(r))}},{key:"viewAttachment",value:function(e){"image"==e.type?this.dialogService.open(d.a,{dismissableMask:!0,showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{url:e.url,type:"image"}}).onClose.subscribe((function(){})):window.open(e.url)}},{key:"orderData",set:function(e){e&&(this.order=e,this.setPrescImages(this.order))}}]),e}()).\u0275fac=function(e){return new(e||_e)(y.Tb(f.a))},_e.\u0275cmp=y.Nb({type:_e,selectors:[["app-order-attachments"]],inputs:{orderData:["order","orderData"],settings:"settings"},decls:2,vars:2,consts:[["class","m-top-30",4,"ngIf"],[1,"m-top-30"],[2,"color","#4a4a4a","font-weight","500"],[1,"box","prescription"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[3,"src"],[2,"font-weight","500"],[1,"box","instructions"]],template:function(e,r){1&e&&(y.Oc(0,ve,7,5,"div",0),y.Oc(1,me,7,5,"div",0)),2&e&&(y.rc("ngIf",((null==r.settings?null:r.settings.cart_image_upload)||(null==r.settings?null:r.settings.product_prescription)||1==(null==r.settings?null:r.settings.order_request))&&r.order.pres_image1),y.Hb(1),y.rc("ngIf",(1==r.settings.order_instructions||1==(null==r.settings?null:r.settings.order_request))&&r.order.pres_description))},directives:[h.m,h.l],pipes:[Z.a],styles:["h4[_ngcontent-%COMP%]{color:var(--baseColor)}.box[_ngcontent-%COMP%]{border:1px solid #ececec;border-radius:20px;margin:10px 0;background-color:var(--cardBackgroundColor)}.prescription[_ngcontent-%COMP%]{padding:15px}.prescription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:inline-flex}.prescription[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-right:15px;list-style-type:none}.prescription[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px;width:70px;border-radius:4px;cursor:pointer}.instructions[_ngcontent-%COMP%]{padding:15px;overflow:auto}"]}),_e),ke=l("YsSx"),Ye=l("1DIQ"),Ze=l("Tblf"),Ie=((He=function(){function e(r){var n=this;t(this,e),this.util=r,this.app_type=0,this.is_single_vendor=0,this.langType="english",this.terminology={},this.categories=[],this.categorySubscription=this.util.getLanguageCategoryData.subscribe((function(e){e&&e.english&&(n.categories=e.english)})),this.settingSubscription=this.util.getSettings.subscribe((function(e){e&&(n.app_type=e.app_type,n.is_single_vendor=e.is_single_vendor,n.settings=e)}));var i=this.util.getLocalData("langData",!0)||{id:this.util.handler.languageId};this.langType=i&&14==i.id?"english":"other"}return i(e,[{key:"selectTerminology",value:function(e){if(this.settings.isCustomFlow){var r=this.categories.find((function(r){return r.type==e}));r&&r.terminology&&(this.terminology=JSON.parse(r.terminology))}else this.terminology=this.settings.terminology||{}}},{key:"transform",value:function(e,r){r&&r.type&&(this.app_type=r.type),this.selectTerminology(this.app_type);var t="";switch(e){case 0:t="Pending";break;case 1:switch(this.app_type){case 2:t="Approved";break;case 1:case 8:t="Confirmed"}break;case 2:t="Rejected";break;case 3:switch(this.app_type){case 1:case 3:case 4:t=r&&3==r.self_pickup&&1==r.is_dine_in?"Ready To Serve":"On The Way";break;case 2:t="Out For Delivery";break;case 8:t="Started"}break;case 4:switch(this.app_type){case 1:t="Arrived";break;default:t="Near You"}break;case 5:switch(this.app_type){case 8:t="Ended";break;default:t=r&&3==r.self_pickup&&1==r.is_dine_in?"Served":"Delivered"}break;case 6:t="Rating Given";break;case 7:t="Track";break;case 8:t="Customer Cancelled";break;case 9:t="Scheduled";break;case 10:switch(this.app_type){case 8:t=this.settings.enable_product_appointment&&1==r.product[0].is_appointment?"Provider Available":"Reached";break;case 1:t="Ready To Be Picked";break;default:t="Shipped"}break;case 11:switch(this.app_type){case 2:case 4:case 3:t="Packed";break;case 1:t="In Kitchen";break;case 8:t=r&&3==r.self_pickup&&1==r.is_dine_in?"Ready To Serve":"On The Way"}}return r&&3!=r.self_pickup&&1!=r.is_dine_in&&(t=this.terminology&&this.terminology[this.langType]&&this.terminology[this.langType].status&&this.terminology[this.langType].status[""+e]?this.terminology[this.langType].status[""+e]:t),t}},{key:"ngOnDestroy",value:function(){this.settingSubscription&&this.settingSubscription.unsubscribe(),this.categorySubscription&&this.categorySubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||He)(y.Tb(p.a))},He.\u0275pipe=y.Sb({name:"orderStatus",type:He,pure:!0}),He),Ce=function(e){return{color:e,opacity:.5}};function Se(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc();y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.confirmed_on,"medium","+000")," ")}}function Qe(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.progress_on,"medium","+000")," ")}}var Te=function(){return[3,5,6,10,11,4]};function we(e,r){if(1&e&&(y.Zb(0,"div",2),y.Ub(1,"div",3),y.Zb(2,"div",4),y.Zb(3,"h4",5),y.Qc(4),y.lc(5,"translate"),y.lc(6,"orderStatus"),y.Yb(),y.Oc(7,Qe,3,8,"p",6),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngClass",y.vc(9,Te).includes(null==t.order?null:t.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(10,Te).includes(null==t.order?null:t.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(5,4,y.nc(6,6,11,t.order)),""),y.Hb(3),y.rc("ngIf",(null==t.order?null:t.order.progress_on)&&"Invalid date"!=(null==t.order?null:t.order.progress_on))}}function Pe(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.near_on,"medium","+000")," ")}}var De=function(){return[3,5,10,6,4]},xe=function(){return[3,5,6,10,6,4]};function Ne(e,r){if(1&e&&(y.Zb(0,"div",2),y.Ub(1,"div",3),y.Zb(2,"div",4),y.Zb(3,"h4",5),y.Qc(4),y.lc(5,"translate"),y.lc(6,"orderStatus"),y.Yb(),y.Oc(7,Pe,3,8,"p",6),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngClass",y.vc(9,De).includes(null==t.order?null:t.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(10,xe).includes(null==t.order?null:t.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(5,4,y.nc(6,6,10,t.order)),""),y.Hb(3),y.rc("ngIf",(null==t.order?null:t.order.near_on)&&"Invalid date"!=(null==t.order?null:t.order.near_on))}}function Fe(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.shipped_on,"medium","+000")," ")}}var Re=function(){return[3,5,6]};function Me(e,r){if(1&e&&(y.Zb(0,"div",2),y.Ub(1,"div",3),y.Zb(2,"div",4),y.Zb(3,"h4",5),y.Qc(4),y.lc(5,"translate"),y.lc(6,"orderStatus"),y.Yb(),y.Oc(7,Fe,3,8,"p",6),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngClass",y.vc(9,Re).includes(null==t.order?null:t.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(10,Re).includes(null==t.order?null:t.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(5,4,y.nc(6,6,3,t.order))," "),y.Hb(3),y.rc("ngIf",(null==t.order?null:t.order.shipped_on)&&"Invalid date"!=(null==t.order?null:t.order.shipped_on)&&y.vc(11,Re).includes(null==t.order?null:t.order.status))}}function Be(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.schedule_date,"medium","+000")," ")}}var ze=function(){return[5,6,4,3]};function Ee(e,r){if(1&e&&(y.Zb(0,"div",2),y.Ub(1,"div",3),y.Zb(2,"div",4),y.Zb(3,"h4",5),y.Qc(4),y.lc(5,"translate"),y.lc(6,"orderStatus"),y.Yb(),y.Oc(7,Be,3,8,"p",6),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngClass",y.vc(9,ze).includes(null==t.order?null:t.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(10,ze).includes(null==t.order?null:t.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(5,4,y.nc(6,6,3,t.order)),""),y.Hb(3),y.rc("ngIf",(null==t.order?null:t.order.schedule_date)&&"Invalid date"!=(null==t.order?null:t.order.schedule_date)&&y.vc(11,ze).includes(null==t.order?null:t.order.status))}}function Ue(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.schedule_date,"medium","+000")," ")}}var Ae=function(){return[5,6,4]};function Le(e,r){if(1&e&&(y.Zb(0,"div",2),y.Ub(1,"div",3),y.Zb(2,"div",4),y.Zb(3,"h4",5),y.Qc(4),y.lc(5,"translate"),y.lc(6,"orderStatus"),y.Yb(),y.Oc(7,Ue,3,8,"p",6),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngClass",y.vc(9,Ae).includes(null==t.order?null:t.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(10,Ae).includes(null==t.order?null:t.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(5,4,y.nc(6,6,4,t.order)),""),y.Hb(3),y.rc("ngIf",(null==t.order?null:t.order.schedule_date)&&"Invalid date"!=(null==t.order?null:t.order.schedule_date)&&y.vc(11,Ae).includes(null==t.order?null:t.order.status))}}function qe(e,r){if(1&e&&(y.Zb(0,"p",9),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc();y.rc("ngStyle",y.wc(6,Ce,t.style.baseColor)),y.Hb(1),y.Sc(" ",y.oc(2,2,null==t.order?null:t.order.delivered_on,"medium","+000")," ")}}var $e,je=function(e,r){return{"background-color":e,"border-color":r}},We=function(){return[1,3,4,5,6,10,11]},Ve=function(){return[1,2,8]},Ge=function(){return[8]},Xe=function(){return[5,6]},Je=(($e=function(){function e(r){t(this,e),this.util=r,this.order={}}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||$e)(y.Tb(p.a))},$e.\u0275cmp=y.Nb({type:$e,selectors:[["app-order-status-tracker"]],inputs:{settings:"settings",style:"style",order:"order"},decls:26,vars:38,consts:[[1,"track_order_outter_detail",3,"ngStyle"],[1,"order-status"],[1,"order-status-process"],[1,"order-status-process-line",3,"ngClass"],[1,"order-single-status"],[3,"ngClass"],[3,"ngStyle",4,"ngIf"],["class","order-status-process",4,"ngIf"],[1,"order-status-process-line-delivered",3,"ngClass"],[3,"ngStyle"]],template:function(e,r){1&e&&(y.Zb(0,"div",0),y.Zb(1,"h3"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Zb(4,"div",1),y.Zb(5,"div",2),y.Ub(6,"div",3),y.Zb(7,"div",4),y.Zb(8,"h4",5),y.Qc(9),y.lc(10,"translate"),y.lc(11,"orderStatus"),y.Yb(),y.Oc(12,Se,3,8,"p",6),y.Yb(),y.Yb(),y.Oc(13,we,8,11,"div",7),y.Oc(14,Ne,8,11,"div",7),y.Oc(15,Me,8,12,"div",7),y.Oc(16,Ee,8,12,"div",7),y.Oc(17,Le,8,12,"div",7),y.Zb(18,"div",2),y.Ub(19,"div",8),y.Zb(20,"div",4),y.Zb(21,"h4",5),y.Qc(22),y.lc(23,"translate"),y.lc(24,"orderStatus"),y.Yb(),y.Oc(25,qe,3,8,"p",6),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e&&(y.rc("ngStyle",y.xc(29,je,r.style.cardBackgroundColor,r.style.secondaryColor)),y.Hb(1),y.Nc("color",r.style.baseColor),y.Hb(1),y.Rc(y.mc(3,17,"Tracking Details")),y.Hb(4),y.rc("ngClass",y.vc(32,We).includes(null==r.order?null:r.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(33,We).includes(null==r.order?null:r.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(10,19,y.nc(11,21,1,r.order)),""),y.Hb(3),y.rc("ngIf",(null==r.order?null:r.order.confirmed_on)&&"Invalid date"!=(null==r.order?null:r.order.confirmed_on)),y.Hb(1),y.rc("ngIf",!(null!=r.settings&&r.settings.enable_product_appointment)||(null==r.settings?null:r.settings.enable_product_appointment)&&!r.order.product[0].is_appointment&&!(null!=r.settings&&r.settings.table_book_mac_theme&&null!=r.order&&r.order.is_dine_in)),y.Hb(1),y.rc("ngIf",(y.vc(34,Ve).includes(null==r.settings?null:r.settings.app_type)||y.vc(35,Ge).includes(null==r.order?null:r.order.type))&&!(null!=r.settings&&r.settings.table_book_mac_theme&&null!=r.order&&r.order.is_dine_in)),y.Hb(1),y.rc("ngIf",1!=(null==r.order?null:r.order.self_pickup)&&!(null!=r.settings&&r.settings.table_book_mac_theme&&null!=r.order&&r.order.is_dine_in)),y.Hb(1),y.rc("ngIf",1==r.order.self_pickup&&(1==(null==r.settings?null:r.settings.app_type)||8==(null==r.order?null:r.order.type)&&(null==r.settings?null:r.settings.enable_product_appointment))),y.Hb(1),y.rc("ngIf",1==r.order.self_pickup&&1==(null==r.settings?null:r.settings.app_type)),y.Hb(2),y.rc("ngClass",y.vc(36,Xe).includes(null==r.order?null:r.order.status)?"active":""),y.Hb(2),y.rc("ngClass",y.vc(37,Xe).includes(null==r.order?null:r.order.status)?"active":"in-active"),y.Hb(1),y.Sc(" ",y.mc(23,24,1==r.order.self_pickup?8==(null==r.order?null:r.order.type)?"Ended":"Picked":y.nc(24,26,5,r.order)),""),y.Hb(3),y.rc("ngIf","5"==r.order.status))},directives:[h.n,h.k,h.m],pipes:[Y.d,Ie,h.e],encapsulation:2}),$e),Ke=l("HFd8"),er=l("xG9w"),rr=l("zEfb");function tr(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",13),y.Zb(1,"app-product",14),y.gc("add",(function(e){return y.Hc(t),y.kc(4).addProduct(e)}))("remove",(function(e){return y.Hc(t),y.kc(4).removeProduct(e)})),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(4);y.Hb(1),y.Mc(i.style),y.rc("product",n)("settings",i.settings)("loggedIn",i.loggedIn)}}function nr(e,r){if(1&e&&(y.Zb(0,"div",11),y.Oc(1,tr,2,5,"div",12),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.rc("ngForOf",null==t?null:t.value)}}function ir(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",13),y.Zb(1,"app-product",14),y.gc("add",(function(e){return y.Hc(t),y.kc(6).addProduct(e)}))("remove",(function(e){return y.Hc(t),y.kc(6).removeProduct(e)})),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(6);y.Hb(1),y.Mc(i.style),y.rc("product",n)("settings",i.settings)("loggedIn",i.loggedIn)}}function lr(e,r){if(1&e&&(y.Zb(0,"div",17),y.Zb(1,"h5"),y.Qc(2),y.Yb(),y.Zb(3,"div",11),y.Oc(4,ir,2,5,"div",18),y.Yb(),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Hb(2),y.Rc(null==t?null:t.name),y.Hb(2),y.rc("ngForOf",null==t?null:t.value)("ngForTrackBy",n.trackByDetail_catFn)}}function cr(e,r){if(1&e&&(y.Xb(0),y.Oc(1,lr,5,3,"div",16),y.Wb()),2&e){var t=r.$implicit;y.Hb(1),y.rc("ngIf",null==t?null:t.value.length)}}function or(e,r){if(1&e&&(y.Zb(0,"div",11),y.Oc(1,cr,2,1,"ng-container",15),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(2);y.Hb(1),y.rc("ngForOf",null==t?null:t.detailed_category_name)("ngForTrackBy",n.trackByDetailedCategoryFn)}}function sr(e,r){if(1&e&&(y.Zb(0,"div",9),y.Zb(1,"h4"),y.Qc(2),y.Yb(),y.Oc(3,nr,2,1,"div",10),y.Oc(4,or,2,2,"div",10),y.Yb()),2&e){var t=r.$implicit;y.rc("id",r.index),y.Hb(2),y.Rc(null==t?null:t.sub_cat_name),y.Hb(1),y.rc("ngIf",!(null!=t&&null!=t.detailed_category_name&&t.detailed_category_name.length)),y.Hb(1),y.rc("ngIf",(null==t?null:t.detailed_category_name)&&(null==t||null==t.detailed_category_name?null:t.detailed_category_name.length))}}var dr=function(e,r){return{"border-color":e,color:r}};function ar(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",3),y.Zb(1,"div",4),y.Zb(2,"div",5),y.Zb(3,"button",6),y.gc("click",(function(){return y.Hc(t),y.kc().onSubmit()})),y.Qc(4),y.lc(5,"translate"),y.Yb(),y.Zb(6,"button",7),y.gc("click",(function(){return y.Hc(t),y.kc().back()})),y.Qc(7),y.lc(8,"translate"),y.Yb(),y.Yb(),y.Yb(),y.Oc(9,sr,5,4,"div",8),y.Yb()}if(2&e){var n=y.kc();y.Hb(3),y.rc("ngStyle",y.xc(10,dr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Sc("",y.mc(5,6,"Submit")," "),y.Hb(2),y.rc("ngStyle",y.xc(13,dr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Sc("",y.mc(8,8,"Back")," "),y.Hb(2),y.rc("ngForOf",n.products)("ngForTrackBy",n.trackByProductFn)}}function ur(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",21),y.Zb(1,"app-product",22),y.gc("add",(function(e){return y.Hc(t),y.kc(4).onBookNow(e)}))("remove",(function(e){return y.Hc(t),y.kc(4).removeProduct(e)})),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(4);y.Hb(1),y.Mc(i.style),y.rc("product",n)("settings",i.settings)("loggedIn",!0)("state",i.state)}}function br(e,r){if(1&e&&(y.Zb(0,"div",11),y.Oc(1,ur,2,6,"div",20),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(2);y.Hb(1),y.rc("ngForOf",null==t?null:t.value)("ngForTrackBy",n.trackByProductDataFn)}}function pr(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",21),y.Zb(1,"app-product",22),y.gc("add",(function(e){return y.Hc(t),y.kc(6).onBookNow(e)}))("remove",(function(e){return y.Hc(t),y.kc(6).removeProduct(e)})),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(6);y.Hb(1),y.Mc(i.style),y.rc("product",n)("settings",i.settings)("loggedIn",!0)("state",i.state)}}function gr(e,r){if(1&e&&(y.Zb(0,"div",17),y.Zb(1,"h5"),y.Qc(2),y.Yb(),y.Zb(3,"div",11),y.Oc(4,pr,2,6,"div",20),y.Yb(),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Hb(2),y.Rc(null==t?null:t.name),y.Hb(2),y.rc("ngForOf",null==t?null:t.value)("ngForTrackBy",n.trackByDetailCatFn)}}function yr(e,r){if(1&e&&(y.Xb(0),y.Oc(1,gr,5,3,"div",16),y.Wb()),2&e){var t=r.$implicit;y.Hb(1),y.rc("ngIf",null==t?null:t.value.length)}}function fr(e,r){if(1&e&&(y.Zb(0,"div",11),y.Oc(1,yr,2,1,"ng-container",15),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(2);y.Hb(1),y.rc("ngForOf",null==t?null:t.detailed_category_name)("ngForTrackBy",n.trackByCategoryFn)}}function hr(e,r){if(1&e&&(y.Zb(0,"div",9),y.Zb(1,"h4"),y.Qc(2),y.Yb(),y.Oc(3,br,2,2,"div",10),y.Oc(4,fr,2,2,"div",10),y.Yb()),2&e){var t=r.$implicit;y.rc("id",r.index),y.Hb(2),y.Rc(null==t?null:t.sub_cat_name),y.Hb(1),y.rc("ngIf",!(null!=t&&null!=t.detailed_category_name&&t.detailed_category_name.length)),y.Hb(1),y.rc("ngIf",(null==t?null:t.detailed_category_name)&&(null==t||null==t.detailed_category_name?null:t.detailed_category_name.length))}}function vr(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",3),y.Zb(1,"div",19),y.Zb(2,"div",5),y.Zb(3,"button",7),y.gc("click",(function(){return y.Hc(t),y.kc().onBack.emit(!1)})),y.Qc(4),y.lc(5,"translate"),y.Yb(),y.Yb(),y.Yb(),y.Oc(6,hr,5,4,"div",8),y.Yb()}if(2&e){var n=y.kc();y.Hb(3),y.rc("ngStyle",y.xc(6,dr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Sc("",y.mc(5,4,"Back")," "),y.Hb(2),y.rc("ngForOf",n.products)("ngForTrackBy",n.trackByProductsFn)}}function mr(e,r){1&e&&y.Ub(0,"app-processing-indicator")}var _r,Hr,Or,kr,Yr=((_r=function(){function r(e,n,i,l,c,o){t(this,r),this.util=e,this.http=n,this.message=i,this.cartService=l,this.dialogService=c,this.localization=o,this.isLoading=!1,this.loggedIn=!1,this.products=[],this.state={editOrder:!0},this.currency="",this.supplierId="",this.selectedProducts=[],this.onBack=new y.q,this.onAdd=new y.q,this.currency=V.a.CURRENCY}return i(r,[{key:"ngOnInit",value:function(){this.util.setCart([]),this.supplierId&&this.getDetails()}},{key:"updateProduct",value:function(e){e.avg_rating=Number.parseFloat(e.avg_rating).toFixed(1),e.display_price!=e.fixed_price&&(e.discount=Math.round((e.display_price-e.fixed_price)/e.display_price*100)),e.selectedQuantity=0,e.price_type&&(e.maxHour=e.hourly_price[e.hourly_price.length-1].max_hour-this.settings.interval,e.discount&&e.hourly_price[0].discount_price?(e.fixed_price=e.hourly_price[0].discount_price,e.display_price=e.hourly_price[0].price_per_hour,e.discount_price=Math.round((e.hourly_price[0].price_per_hour-e.hourly_price[0].discount_price)/e.hourly_price[0].price_per_hour*100)):e.fixed_price=e.hourly_price[0].price_per_hour),this.selectedProducts.length&&this.selectedProducts.forEach((function(r){r.productId!=e.product_id&&r.product_id!=e.product_id||(e.selectedQuantity=r.selectedQuantity||r.quantity,e.price_type&&(e.fixed_price=r.fixed_price),r.customization&&(e.customization=r.customization))})),this.util.productPriceToFloat(e),e.discount=Math.round((e.display_price-e.fixed_price)/e.display_price*100)}},{key:"getDetails",value:function(){var e=this;this.isLoading=!0,this.http.getData(g.a.getSupplierDetailProduct,{languageId:this.util.handler.languageId,supplier_id:this.supplierId,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe((function(r){r&&r.data&&(e.products=r.data.product,e.supplierDetail=r.data.supplier_detail,e.products.forEach((function(r){r.detailed_category_name&&r.detailed_category_name.length?(r.detailed_category_name=er.e(r.detailed_category_name.slice(),"detailed_sub_category_id"),r.detailed_category_name.forEach((function(t){t.value=[],r.value.map((function(r){r.detailed_sub_category_id==t.detailed_sub_category_id&&(e.updateProduct(r),t.value.push(r))}))}))):r.value.map((function(r){e.updateProduct(r)}))})),e.products=e.products.slice(),e.isLoading=!1)}),(function(r){e.isLoading=!1}))}},{key:"openAddOnDialog",value:function(e){this.dialogService.open(Ke.a,{header:e.name,width:"45%",style:{"background-color":this.style.primaryColor+" !important"},showHeader:!1,transitionOptions:"600ms cubic-bezier(0.25, 0.8, 0.25, 1)",data:{product:e,addOnItems:e.adds_on}}).onClose.subscribe((function(){}))}},{key:"addProduct",value:function(e){this.cartService.addToCart(e,this.products)}},{key:"removeProduct",value:function(e){this.cartService.removeFromCart(e)}},{key:"onBookNow",value:function(e){var r=this;this.message.confirm("add this "+this.localization.transform("product"),"Existing ".concat(this.localization.transform("product")," will be removed")).then((function(t){if(t.value)return r.cartService.addToCart(e,null,!1),r.util.diableCart.next(!1),r.onAdd.emit(r.util.getLocalData("cart",!0))}))}},{key:"onSubmit",value:function(){var r=[],t=this.util.getLocalData("cart",!0);this.selectedProducts.forEach((function(e){t.find((function(r){return r.productId==e.product_id}))||r.push(e)})),r.push.apply(r,e(t)),this.onAdd.emit(r),this.util.diableCart.next(!1)}},{key:"back",value:function(){this.util.diableCart.next(!1),this.onBack.emit(!1)}},{key:"trackByProductFn",value:function(e,r){return r}},{key:"trackByDetailedCategoryFn",value:function(e,r){return r}},{key:"trackByDetail_catFn",value:function(e,r){return r}},{key:"trackByProductsFn",value:function(e,r){return r}},{key:"trackByProductDataFn",value:function(e,r){return r}},{key:"trackByCategoryFn",value:function(e,r){return r}},{key:"trackByDetailCatFn",value:function(e,r){return r}},{key:"ngOnDestroy",value:function(){this.util.setCart([])}}]),r}()).\u0275fac=function(e){return new(e||_r)(y.Tb(p.a),y.Tb(b.a),y.Tb(a.a),y.Tb(U.a),y.Tb(f.a),y.Tb(Z.a))},_r.\u0275cmp=y.Nb({type:_r,selectors:[["app-order-supplier-products"]],inputs:{orderType:"orderType",supplierId:"supplierId",settings:"settings",style:"style",selectedProducts:"selectedProducts"},outputs:{onBack:"onBack",onAdd:"onAdd"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[4,"ngIf"],[1,"container"],[1,"row","mt-5"],[1,"col-12"],[1,"btn","cancel-order",2,"width","140px",3,"ngStyle","click"],[1,"btn","cancel-order",3,"ngStyle","click"],["class","categories-item-products",3,"id",4,"ngFor","ngForOf","ngForTrackBy"],[1,"categories-item-products",3,"id"],["class","row",4,"ngIf"],[1,"row"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[3,"product","settings","loggedIn","add","remove"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","col-md-12",4,"ngIf"],[1,"col-md-12"],["class","col-md-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"row","mt-3"],["class","col-md-4",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-md-4"],[3,"product","settings","loggedIn","state","add","remove"]],template:function(e,r){1&e&&(y.Xb(0,0),y.Oc(1,ar,10,16,"ng-template",1),y.Oc(2,vr,7,9,"ng-template",1),y.Wb(),y.Oc(3,mr,1,0,"app-processing-indicator",2)),2&e&&(y.rc("ngSwitch",r.orderType),y.Hb(1),y.rc("ngSwitchCase",1),y.Hb(1),y.rc("ngSwitchCase",8),y.Hb(1),y.rc("ngIf",r.isLoading))},directives:[h.o,h.p,h.m,h.n,h.l,rr.a,ce.a],pipes:[Y.d],styles:[".action-btn[_ngcontent-%COMP%]{border-top:1px solid var(--secondaryColor)}.action-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}"]}),_r),Zr=l("C51q"),Ir=l("wYYw"),Cr=((Or=function(){function e(){t(this,e)}return i(e,[{key:"transform",value:function(e){var r="";switch(e){case 0:r="brown";break;case 2:case 8:r="red";break;case 1:case 3:case 5:case 6:case 7:case 9:case 10:case 11:r="green"}return r}}]),e}()).\u0275fac=function(e){return new(e||Or)},Or.\u0275pipe=y.Sb({name:"orderStatusColor",type:Or,pure:!0}),Or),Sr=((Hr=function(){function e(){t(this,e)}return i(e,[{key:"transform",value:function(e){var r="",t=q(e,"HH:mm:ss").hour(),n=q(e,"HH:mm:ss").minute();return t&&(r=t+(t>1?" Hours":" Hour")),n&&(r+=" "+n+(n>1?" Minutes":" Minute")),r}}]),e}()).\u0275fac=function(e){return new(e||Hr)},Hr.\u0275pipe=y.Sb({name:"prepTime",type:Hr,pure:!0}),Hr),Qr=l("PKbb"),Tr=((kr=function(){function e(r){var n=this;t(this,e),this.util=r,this.app_type=0,this.langType="english",this.terminology={},this.settingSubscription=this.util.getSettings.subscribe((function(e){e&&(n.app_type=e.app_type,n.settings=e)}));var i=this.util.getLocalData("langData",!0)||{id:this.util.handler.languageId};this.langType=i&&14==i.id?"english":"other"}return i(e,[{key:"transform",value:function(e){if(this.settings){var r=this.settings.terminology,t={};if(r&&(localStorage.getItem("lang"),t=r[this.langType].return_status),r&&t&&t[e])return t[e];var n="";switch(e){case 0:n="RETURN REQUESTED";break;case 1:n="AGENT ON THE WAY";break;case 2:n="PRODUCT PICKED";break;case 3:n="RETURNED"}return n}}},{key:"ngOnDestroy",value:function(){this.settingSubscription&&this.settingSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||kr)(y.Tb(p.a))},kr.\u0275pipe=y.Sb({name:"returnStatus",type:kr,pure:!0}),kr),wr=l("uIPM");function Pr(e,r){1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"translate"),y.lc(4,"localization"),y.Yb()),2&e&&(y.Hb(1),y.Tc("",y.mc(2,2,"Thank you for the")," ",y.mc(3,4,y.mc(4,6,"order"))," "))}function Dr(e,r){if(1&e){var t=y.ac();y.Zb(0,"app-order-payment",57),y.gc("paymentComplete",(function(){return y.Hc(t),y.kc(3).getDetail()})),y.Yb()}if(2&e){var n=y.kc(3);y.Mc(n.style),y.rc("settings",n.settings)("order",n.orderHistory[n.selectedOrder])}}var xr=function(e,r){return{"border-color":e,color:r}};function Nr(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",58),y.gc("click",(function(){return y.Hc(t),y.kc(3).onSOSNotification()})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(4,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Rc(y.mc(2,2,"SOS"))}}function Fr(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",59),y.gc("click",(function(){return y.Hc(t),y.kc(3).zoomAuth()})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(4,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Rc(y.mc(2,2,"Create Video Link"))}}function Rr(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",59),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.joinZoomMeeting(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].zoom_call_start_url)})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(4,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Rc(y.mc(2,2,"Join Video Call"))}}function Mr(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",59),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.listenAgentBio(null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].agent[0]?null:e.orderHistory[e.selectedOrder].agent[0].agent_bio_url)})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(4,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Rc(y.mc(2,2,"Agent Bio"))}}function Br(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",60),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.onEditOrder(e.orderHistory[e.selectedOrder])})),y.Qc(1),y.lc(2,"translate"),y.lc(3,"translate"),y.lc(4,"localization"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(10,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Tc("",y.mc(2,3,"Edit")," ",y.mc(3,5,y.nc(4,7,"order",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function zr(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",60),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.onCancel(e.orderHistory[e.selectedOrder])})),y.Qc(1),y.lc(2,"translate"),y.lc(3,"translate"),y.lc(4,"localization"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(10,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Tc("",y.mc(2,3,"Cancel")," ",y.mc(3,5,y.nc(4,7,"order",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function Er(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",60),y.gc("click",(function(){return y.Hc(t),y.kc(3).dhlStatus()})),y.Qc(1,"View DHL Status"),y.Yb()}if(2&e){var n=y.kc(3);y.rc("ngStyle",y.xc(1,xr,n.style.primaryColor,n.style.baseColor))}}function Ur(e,r){if(1&e&&y.Ub(0,"app-re-order",61),2&e){var t=y.kc(3);y.Mc(t.style),y.rc("order",t.orderHistory[t.selectedOrder])("settings",t.settings)}}var Ar=function(){return[4,5]};function Lr(e,r){if(1&e&&(y.Zb(0,"option",67),y.Qc(1),y.lc(2,"translate"),y.lc(3,"orderStatus"),y.Yb()),2&e){var t=y.kc(4);y.rc("value",4)("selected",4==t.orderHistory[t.selectedOrder].status)("disabled",y.vc(8,Ar).includes(t.orderHistory[t.selectedOrder].status)),y.Hb(1),y.Rc(y.mc(2,4,y.mc(3,6,4)))}}function qr(e,r){if(1&e&&(y.Zb(0,"option",67),y.Qc(1),y.Yb()),2&e){var t=y.kc(4);y.rc("value",5)("selected",5==t.orderHistory[t.selectedOrder].status)("disabled",5==t.orderHistory[t.selectedOrder].status),y.Hb(1),y.Rc(8==t.orderHistory[t.selectedOrder].type||8==(null==t.settings?null:t.settings.app_type)?"End service":"Picked Up")}}var $r=function(){return[3,4]},jr=function(){return[3,4,5]};function Wr(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",62),y.Zb(1,"div",63),y.Zb(2,"label",64),y.Qc(3),y.lc(4,"translate"),y.Yb(),y.Zb(5,"select",65),y.gc("ngModelChange",(function(e){y.Hc(t);var r=y.kc(3);return r.orderHistory[r.selectedOrder].status=e}))("change",(function(e){return y.Hc(t),y.kc(3).onStatusChange(e.target.value)})),y.Zb(6,"option",66),y.Qc(7),y.lc(8,"translate"),y.Yb(),y.Zb(9,"option",67),y.Qc(10),y.lc(11,"translate"),y.lc(12,"orderStatus"),y.Yb(),y.Oc(13,Lr,4,9,"option",68),y.Oc(14,qr,2,4,"option",68),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=y.kc(3);y.Hb(2),y.Nc("color",n.style.baseColor),y.Hb(1),y.Rc(y.mc(4,12,"Select Status")),y.Hb(2),y.rc("ngModel",n.orderHistory[n.selectedOrder].status),y.Hb(1),y.rc("value",y.vc(21,$r).includes(n.orderHistory[n.selectedOrder].status)?0:n.orderHistory[n.selectedOrder].status),y.Hb(1),y.Sc(" ",y.mc(8,14,"Select Status"),""),y.Hb(2),y.rc("value",3)("selected",3==n.orderHistory[n.selectedOrder].status)("disabled",y.vc(22,jr).includes(n.orderHistory[n.selectedOrder].status)),y.Hb(1),y.Rc(y.mc(11,16,y.nc(12,18,3,n.orderHistory[n.selectedOrder]))),y.Hb(3),y.rc("ngIf",!(null!=n.settings&&n.settings.enable_product_appointment)||(null==n.settings?null:n.settings.enable_product_appointment)&&!n.orderHistory[n.selectedOrder].product[0].is_appointment),y.Hb(1),y.rc("ngIf",0==(null==n.settings?null:n.settings.hide_pickup_status))}}function Vr(e,r){if(1&e){var t=y.ac();y.Zb(0,"i",69),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.selectedOrder=e.selectedOrder-1})),y.Yb()}if(2&e){var n=y.kc(3);y.Nc("color",n.style.primaryColor)}}function Gr(e,r){if(1&e){var t=y.ac();y.Zb(0,"i",70),y.gc("click",(function(){y.Hc(t);var e=y.kc(3);return e.selectedOrder=e.selectedOrder+1})),y.Yb()}if(2&e){var n=y.kc(3);y.Nc("color",n.style.primaryColor)}}var Xr=function(e){return{color:e}};function Jr(e,r){if(1&e&&(y.Zb(0,"p",35),y.Ub(1,"i",81),y.Qc(2),y.Yb()),2&e){var t=y.kc(4);y.rc("ngStyle",y.wc(4,Xr,t.style.baseColor))("@fade",void 0),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Sc("",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].supplier_address," ")}}function Kr(e,r){if(1&e&&(y.Zb(0,"p",35),y.Ub(1,"i",81),y.Qc(2),y.Yb()),2&e){var t=y.kc(4);y.rc("ngStyle",y.wc(4,Xr,t.style.baseColor))("@fade",void 0),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Sc("Branch Address: ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].branch_address," ")}}function et(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,"Service Date:")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"),"")}}function rt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,3,"Drop Off Date:"),"",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].drop_off_date,"medium","+000")," ")}}var tt=function(){return[5,6]};function nt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Expected Picked Up On:":y.vc(9,tt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Delivered On:":"Expected Delivery On:")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"),"")}}function it(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,"Dine In Date")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].schedule_date,"medium","+000"),"")}}function lt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.lc(4,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Expected Picked up on:":y.vc(13,tt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Delivered On:":"Expected Delivery In:")," ",1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"):y.vc(14,tt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?y.oc(4,9,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"):(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivery_min_time)+" min to "+(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivery_max_time)+" min"," ")}}function ct(e,r){if(1&e&&(y.Zb(0,"h5"),y.Oc(1,et,4,9,"span",21),y.Ub(2,"br"),y.Oc(3,rt,4,9,"span",21),y.Oc(4,nt,4,10,"span",21),y.Oc(5,it,4,9,"span",21),y.Oc(6,lt,5,15,"span",21),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.rc("ngIf",8==(null==t.settings?null:t.settings.app_type)),y.Hb(2),y.rc("ngIf",8==(null==t.settings?null:t.settings.app_type)&&(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].drop_off_date)&&"1"==(null==t.settings?null:t.settings.dropoff_buffer)),y.Hb(1),y.rc("ngIf",8!=(null==t.settings?null:t.settings.app_type)&&0==t.settings.show_expected_delivery_between&&4!=(null==t.settings?null:t.settings.selected_template)&&3!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)&&1!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_dine_in)),y.Hb(1),y.rc("ngIf",8!=(null==t.settings?null:t.settings.app_type)&&0==t.settings.show_expected_delivery_between&&4!=(null==t.settings?null:t.settings.selected_template)&&3==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)&&1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_dine_in)),y.Hb(1),y.rc("ngIf","0000-00-00 00:00:00"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)&&8!=(null==t.settings?null:t.settings.app_type)&&1==t.settings.show_expected_delivery_between)}}function ot(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,5,"Schedule Start Date:")," ",y.oc(3,7,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"),"")}}function st(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,5,"Schedule End Date:")," ",y.oc(3,7,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].schedule_end_date,"medium","+000"),"")}}function dt(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,5,y.mc(3,7,"preparation_time")),": ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].preparation_time," ")}}function at(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"localization"),y.lc(3,"translate"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Uc(" ",y.mc(2,6,"order")," ",y.mc(3,8,"shipment status")," ",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].shippingData[0]?null:t.orderHistory[t.selectedOrder].shippingData[0].orderStatus," ")}}function ut(e,r){if(1&e&&(y.Zb(0,"p"),y.Zb(1,"b"),y.Qc(2,"Rejection Reason:"),y.Yb(),y.Qc(3),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",null==t.style?null:t.style.baseColor),y.Hb(3),y.Sc(" ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].approve_rejection_reason,"")}}function bt(e,r){1&e&&(y.Zb(0,"span",84),y.Qc(1),y.lc(2,"localization"),y.lc(3,"translate"),y.Yb()),2&e&&(y.Hb(1),y.Tc("",y.mc(2,2,"supplier")," ",y.mc(3,4,"location"),""))}function pt(e,r){if(1&e&&(y.Zb(0,"span",84),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.lc(4,"translate"),y.lc(5,"localization"),y.Yb()),2&e){var t=y.kc(5);y.Hb(1),y.Tc(" ",y.mc(2,2,y.nc(3,4,"track",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))," ",y.mc(4,7,y.nc(5,9,8==(null==t.settings?null:t.settings.app_type)?"agent":"order",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))," ")}}var gt=function(e,r){return{color:e,borderColor:r,backgroundColor:"#ffffff",cursor:"pointer"}};function yt(e,r){if(1&e){var t=y.ac();y.Zb(0,"a",82),y.gc("click",(function(){y.Hc(t);var e=y.kc(4);return e.trackOrder(e.orderHistory[e.selectedOrder])})),y.Oc(1,bt,4,6,"span",83),y.Oc(2,pt,6,12,"span",83),y.Yb()}if(2&e){var n=y.kc(4);y.rc("ngStyle",y.xc(4,gt,n.style.primaryColor,n.style.primaryColor))("@fade",void 0),y.Hb(1),y.rc("ngIf",1==n.orderHistory[n.selectedOrder].self_pickup),y.Hb(1),y.rc("ngIf",0==n.orderHistory[n.selectedOrder].self_pickup)}}function ft(e,r){if(1&e){var t=y.ac();y.Zb(0,"span",85),y.gc("click",(function(){y.Hc(t);var e=y.kc(4);return e.toRateSupplier(e.orderHistory[e.selectedOrder])})),y.Ub(1,"i",86),y.Qc(2),y.lc(3,"translate"),y.lc(4,"translate"),y.lc(5,"localization"),y.Yb()}if(2&e){var n=y.kc(4);y.Nc("color",n.style.primaryColor),y.rc("@fade",void 0),y.Hb(2),y.Tc(" ",y.mc(3,5,"Rate To")," ",y.mc(4,7,y.nc(5,9,"supplier",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function ht(e,r){if(1&e&&y.Ub(0,"app-chat",87),2&e){var t=y.kc(4);y.rc("receiver_created_id",t.orderHistory[t.selectedOrder].agent[0].agent_created_id)("order",t.orderHistory[t.selectedOrder])}}var vt=function(e,r){return{"background-color":e,"border-color":r}},mt=function(){return[1,10,11]},_t=function(){return[11]},Ht=function(){return[11,10,3]};function Ot(e,r){if(1&e&&(y.Zb(0,"div",27),y.Zb(1,"div",28),y.Zb(2,"div",71),y.Zb(3,"div",72),y.Zb(4,"h2",73),y.Qc(5),y.Yb(),y.Oc(6,Jr,3,6,"p",74),y.Oc(7,Kr,3,6,"p",74),y.Zb(8,"h5"),y.Qc(9),y.lc(10,"translate"),y.lc(11,"date"),y.Yb(),y.Oc(12,ct,7,8,"h5",75),y.Oc(13,ot,4,11,"h5",75),y.Oc(14,st,4,11,"h5",75),y.Oc(15,dt,4,9,"h5",75),y.Oc(16,at,4,10,"h5",75),y.Yb(),y.Zb(17,"div",76),y.Zb(18,"h4",35),y.lc(19,"orderStatusColor"),y.Qc(20),y.lc(21,"translate"),y.lc(22,"orderStatus"),y.Yb(),y.Oc(23,ut,4,3,"p",75),y.Zb(24,"div",77),y.Oc(25,yt,3,7,"a",78),y.Oc(26,ft,6,12,"span",79),y.Oc(27,ht,1,2,"app-chat",80),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.Hb(2),y.rc("ngStyle",y.xc(38,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(2),y.rc("ngStyle",y.wc(41,Xr,t.style.primaryColor))("@fade",void 0),y.Hb(1),y.Sc(" ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].supplier_name,""),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].supplier_address),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].branch_address)&&(null==t.settings?null:t.settings.branch_flow)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",8==(null==t.settings?null:t.settings.app_type)?"Service Booked On:":y.mc(10,25,"Ordered On:")," ",y.oc(11,27,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].created_on,"medium","+000"),""),y.Hb(3),y.rc("ngIf",!(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].is_schedule||"Invalid date"==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)||"0000-00-00 00:00:00"==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)||null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].agent.length)),y.Hb(1),y.rc("ngIf",1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_schedule)&&"0000-00-00 00:00:00"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)),y.Hb(1),y.rc("ngIf",1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_schedule)),y.Hb(1),y.rc("ngIf",(1==(null==t.settings?null:t.settings.app_type)||1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))&&y.vc(43,mt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].shippingData)&&(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].shippingData.length)),y.Hb(2),y.Nc("color",y.mc(19,31,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)),y.rc("ngStyle",y.wc(44,Xr,t.style.primaryColor))("@fade",void 0),y.Hb(2),y.Sc(" ",y.mc(21,33,5==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Picked":y.nc(22,35,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status,t.orderHistory[t.selectedOrder]))," "),y.Hb(3),y.rc("ngIf",2==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].approve_rejection_reason)),y.Hb(2),y.rc("ngIf",(0==t.orderHistory[t.selectedOrder].self_pickup&&t.orderHistory[t.selectedOrder].agent.length||1==t.orderHistory[t.selectedOrder].self_pickup)&&(y.vc(46,$r).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&8!=(null==t.settings?null:t.settings.app_type)||y.vc(47,_t).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&8==(null==t.settings?null:t.settings.app_type))&&(null==t.settings?null:t.settings.booking_track_status)),y.Hb(1),y.rc("ngIf",y.vc(48,tt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&0==t.orderHistory[t.selectedOrder].is_supplier_rated&&1==t.settings.is_supplier_rating),y.Hb(1),y.rc("ngIf",1==t.settings.chat_enable&&t.orderHistory[t.selectedOrder].agent&&t.orderHistory[t.selectedOrder].agent.length&&y.vc(49,Ht).includes(t.orderHistory[t.selectedOrder].status))}}function kt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,"Service Date:")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"),"")}}function Yt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_schedule)?"Schedule Start Date":1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Expected Picked up on:":y.vc(9,tt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Delivered On:":"Expected Delivery On:")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on,"medium","+000"),"")}}function Zt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc("",y.mc(2,3,"Dinin Date")," ",y.oc(3,5,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].schedule_date,"medium","+000"),"")}}function It(e,r){if(1&e&&(y.Zb(0,"h5"),y.Oc(1,kt,4,9,"span",21),y.Oc(2,Yt,4,10,"span",21),y.Oc(3,Zt,4,9,"span",21),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.rc("ngIf",8==(null==t.settings?null:t.settings.app_type)),y.Hb(1),y.rc("ngIf","0000-00-00 00:00:00"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)&&8!=(null==t.settings?null:t.settings.app_type)&&4!=(null==t.settings?null:t.settings.selected_template)&&3!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)&&1!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_dine_in)),y.Hb(1),y.rc("ngIf","0000-00-00 00:00:00"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)&&8!=(null==t.settings?null:t.settings.app_type)&&3==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)&&1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_dine_in))}}function Ct(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,5,"Schedule End Date:")," ",y.oc(3,7,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].schedule_end_date,"medium","+000"),"")}}function St(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.lc(4,"prepTime"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(2,5,y.mc(3,7,"preparation_time")),": ",y.mc(4,9,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].preparation_time)," ")}}function Qt(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"localization"),y.lc(3,"translate"),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Uc(" ",y.mc(2,6,"order")," ",y.mc(3,8,"shipment status"),": ",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].shippingData[0]?null:t.orderHistory[t.selectedOrder].shippingData[0].orderStatus," ")}}var Tt=function(e,r){return{color:e,borderColor:r,backgroundColor:"#ffffff"}};function wt(e,r){if(1&e){var t=y.ac();y.Zb(0,"a",82),y.gc("click",(function(){y.Hc(t);var e=y.kc(4);return e.trackOrder(e.orderHistory[e.selectedOrder])})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(4);y.rc("ngStyle",y.xc(5,Tt,n.style.primaryColor,n.style.primaryColor))("@fade",void 0),y.Hb(1),y.Rc(y.mc(2,3,8==(null==n.settings?null:n.settings.app_type)?"Track Agent":"Track Order"))}}function Pt(e,r){if(1&e&&(y.Zb(0,"div",27),y.Zb(1,"div",28),y.Zb(2,"div",71),y.Zb(3,"div",88),y.Zb(4,"h5"),y.Qc(5),y.lc(6,"translate"),y.lc(7,"date"),y.Yb(),y.Oc(8,It,4,6,"h5",75),y.Oc(9,Ct,4,11,"h5",75),y.Oc(10,St,5,11,"h5",75),y.Oc(11,Qt,4,10,"h5",75),y.Yb(),y.Zb(12,"div",76),y.Zb(13,"h4",35),y.Qc(14),y.lc(15,"translate"),y.lc(16,"orderStatus"),y.Yb(),y.Zb(17,"div",77),y.Oc(18,wt,3,8,"a",78),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.Hb(2),y.rc("ngStyle",y.xc(25,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(2),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",8==(null==t.settings?null:t.settings.app_type)?"Service Booked On:":y.mc(6,14,"Ordered on:")," ",y.oc(7,16,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].created_on,"medium","+000"),""),y.Hb(3),y.rc("ngIf","Invalid date"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)&&"0000-00-00 00:00:00"!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivered_on)&&!(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].agent.length)),y.Hb(1),y.rc("ngIf",1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_schedule)),y.Hb(1),y.rc("ngIf",(1==(null==t.settings?null:t.settings.app_type)||1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))&&y.vc(28,mt).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].shippingData)&&(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].shippingData.length)),y.Hb(2),y.rc("ngStyle",y.wc(29,Xr,t.style.primaryColor))("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(15,20,5==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?"Picked":y.nc(16,22,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status,t.orderHistory[t.selectedOrder]))," "),y.Hb(4),y.rc("ngIf",y.vc(31,$r).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&(null==t.settings?null:t.settings.booking_track_status)&&!(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].self_pickup))}}function Dt(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.Sc("Branch: ",null==t?null:t.branch_name,"")}}function xt(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.Sc("Weight: ",null==t?null:t.duration,"g")}}function Nt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Nc("color",n.style.baseColor),y.Hb(1),y.Sc("",y.mc(2,3,null!=t&&t.price_type?"Hours":"Quantity")," : ")}}function Ft(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"translate"),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Nc("color",n.style.baseColor),y.Hb(1),y.Sc("",y.mc(2,3,null!=t&&t.price_type?"Duration":"Quantity")," : ")}}function Rt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.lc(2,"formatTimeInterval"),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Nc("color",n.style.primaryColor),y.Hb(1),y.Rc(y.mc(2,3,null==t?null:t.duration))}}function Mt(e,r){if(1&e&&(y.Zb(0,"li",108),y.Qc(1),y.Yb()),2&e){var t=r.$implicit,n=y.kc(6);y.Nc("color",n.style.baseColor),y.Hb(1),y.Tc(" ",null==t?null:t.name," - ",n.addOnNames(null==t?null:t.value)," ")}}function Bt(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"ul",106),y.Oc(2,Mt,2,4,"li",107),y.Yb(),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Hb(2),y.rc("ngForOf",t.customization.data)("ngForTrackBy",n.trackByCustomizationFn)}}function zt(e,r){if(1&e&&(y.Zb(0,"p",111),y.Qc(1),y.Zb(2,"span"),y.Qc(3),y.Yb(),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(6);y.Nc("color",n.style.baseColor),y.Hb(1),y.Sc(" ",null==t?null:t.variant_name,":"),y.Hb(2),y.Rc(null==t?null:t.variant_value)}}function Et(e,r){if(1&e&&(y.Zb(0,"p",111),y.Qc(1),y.Ub(2,"span",112),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(6);y.Nc("color",n.style.baseColor),y.Hb(1),y.Sc("",null==t?null:t.variant_name,":"),y.Hb(1),y.Nc("background-color",null==t?null:t.variant_value)}}function Ut(e,r){if(1&e&&(y.Zb(0,"div"),y.Oc(1,zt,4,4,"ng-template",109),y.Oc(2,Et,3,5,"ng-template",null,110,y.Pc),y.Yb()),2&e){var t=r.$implicit,n=y.Ec(3);y.Hb(1),y.rc("ngIf",1!=t.variant_type)("ngIfElse",n)}}function At(e,r){if(1&e&&(y.Zb(0,"div"),y.Oc(1,Ut,4,2,"div",90),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Hb(1),y.rc("ngForOf",t.prod_variants)("ngForTrackBy",n.trackByVariantsFn)}}function Lt(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"b"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(2).$implicit;y.Hb(1),y.Sc(" ",y.mc(2,2,"Product Ref Id"),":\xa0"),y.Hb(3),y.Rc(null==t?null:t.product_reference_id)}}function qt(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"b"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(2).$implicit;y.Hb(1),y.Sc(" ",y.mc(2,2,"Product Owner Name"),":\xa0"),y.Hb(3),y.Rc(null==t?null:t.product_owner_name)}}function $t(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"b"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(2).$implicit;y.Hb(1),y.Sc(" ",y.mc(2,2,"Product Dimensions"),":\xa0"),y.Hb(3),y.Rc(null==t?null:t.product_dimensions)}}function jt(e,r){if(1&e){var t=y.ac();y.Zb(0,"p"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span",113),y.gc("click",(function(){y.Hc(t);var e=y.kc(2).$implicit;return y.kc(4).downloadReceipt(null==e?null:e.product_upload_reciept)})),y.Zb(4,"b"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()}2&e&&(y.Hb(1),y.Sc(" ",y.mc(2,2,"Product Receipt"),":\xa0 "),y.Hb(4),y.Rc("View Receipt"))}function Wt(e,r){if(1&e&&(y.Zb(0,"div"),y.Oc(1,Lt,5,4,"p",21),y.Oc(2,qt,5,4,"p",21),y.Oc(3,$t,5,4,"p",21),y.Oc(4,jt,6,4,"p",21),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.rc("ngIf",null==t?null:t.product_reference_id),y.Hb(1),y.rc("ngIf",null==t?null:t.product_owner_name),y.Hb(1),y.rc("ngIf",null==t?null:t.product_dimensions),y.Hb(1),y.rc("ngIf",null==t?null:t.product_upload_reciept)}}function Vt(e,r){if(1&e&&(y.Xb(0),y.Qc(1),y.lc(2,"translate"),y.Wb()),2&e){var t=y.kc(2).$implicit;y.Hb(1),y.Tc(" + ",null==t?null:t.freeQuantity," ",y.mc(2,2,"Free")," ")}}function Gt(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.Oc(2,Vt,3,4,"ng-container",21),y.Yb()),2&e){var t=y.kc().$implicit,n=y.kc(4);y.Nc("color",n.style.baseColor),y.Hb(1),y.Sc("",null==t?null:t.quantity," "),y.Hb(1),y.rc("ngIf",null==t?null:t.freeQuantity)}}function Xt(e,r){if(1&e){var t=y.ac();y.Zb(0,"span",114),y.gc("click",(function(){y.Hc(t);var e=y.kc().$implicit;return y.kc(4).showSpecialInstruction(e)})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(5);y.Nc("color",n.style.primaryColor),y.Hb(1),y.Sc(" ",y.mc(2,3,"View Special Instructions")," ")}}function Jt(e,r){if(1&e){var t=y.ac();y.Zb(0,"div"),y.Zb(1,"a",115),y.gc("click",(function(){y.Hc(t);var e=y.kc().$implicit;return y.kc(4).download(e)})),y.Qc(2),y.lc(3,"localization"),y.Yb(),y.Yb()}2&e&&(y.Hb(2),y.Rc(y.mc(3,1,"product_file_upload")))}function Kt(e,r){if(1&e){var t=y.ac();y.Zb(0,"span",85),y.gc("click",(function(){y.Hc(t);var e=y.kc().$implicit;return y.kc(4).toRateProduct(e,"product")})),y.Ub(1,"i",86),y.Qc(2),y.lc(3,"translate"),y.lc(4,"translate"),y.lc(5,"localization"),y.Yb()}if(2&e){var n=y.kc(5);y.Nc("color",n.style.primaryColor),y.Hb(2),y.Tc(" ",y.mc(3,4,"Rate To")," ",y.mc(4,6,y.nc(5,8,"product",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function en(e,r){if(1&e){var t=y.ac();y.Zb(0,"a",116),y.gc("click",(function(){y.Hc(t);var e=y.kc().$implicit;return y.kc(4).returnRequest(e)})),y.Qc(1),y.lc(2,"translate"),y.Yb()}if(2&e){var n=y.kc(5);y.Nc("color",n.style.primaryColor),y.Hb(1),y.Rc(y.mc(2,3,"Return Request"))}}function rn(e,r){if(1&e&&(y.Zb(0,"span",117),y.Qc(1),y.lc(2,"returnStatus"),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.Sc("status: ",y.mc(2,1,null==t?null:t.return_data[0].status),"")}}function tn(e,r){if(1&e&&(y.Zb(0,"span",117),y.Qc(1),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.Sc("reason: ",null==t?null:t.return_data[0].reason,"")}}function nn(e,r){if(1&e&&(y.Zb(0,"h5"),y.Zb(1,"span"),y.Qc(2),y.lc(3,"date"),y.Yb(),y.Ub(4,"br"),y.Zb(5,"span"),y.Qc(6),y.lc(7,"date"),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("Start Time: ",y.oc(3,9,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].start_time,"medium","+000")," "),y.Hb(3),y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("End Time: ",y.oc(7,13,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].end_time,"medium","+000")," ")}}function ln(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"div",94),y.Zb(2,"div",95),y.Zb(3,"span",96),y.Ub(4,"img",97),y.Yb(),y.Zb(5,"div",98),y.Zb(6,"h2"),y.Qc(7),y.Yb(),y.Oc(8,Dt,2,1,"p",21),y.Oc(9,xt,2,1,"p",21),y.Zb(10,"h4"),y.Oc(11,Nt,3,5,"span",75),y.Oc(12,Ft,3,5,"span",75),y.Oc(13,Rt,3,5,"span",99),y.Yb(),y.Oc(14,Bt,3,2,"div",21),y.Oc(15,At,2,2,"div",21),y.Oc(16,Wt,5,4,"div",21),y.Oc(17,Gt,3,4,"ng-template",null,100,y.Pc),y.Yb(),y.Zb(19,"div",101),y.Zb(20,"h3"),y.Zb(21,"p"),y.Oc(22,Xt,3,5,"span",102),y.Yb(),y.Qc(23),y.Yb(),y.Oc(24,Jt,4,3,"div",21),y.Oc(25,Kt,6,11,"span",79),y.Yb(),y.Oc(26,en,3,5,"a",103),y.Oc(27,rn,3,3,"span",104),y.Oc(28,tn,2,1,"span",104),y.Yb(),y.Zb(29,"div",105),y.Oc(30,nn,8,17,"h5",75),y.Yb(),y.Yb(),y.Yb()),2&e){var t=r.$implicit,n=y.Ec(18),i=y.kc(4),l=null;y.Hb(1),y.rc("ngStyle",y.xc(35,vt,i.style.cardBackgroundColor,i.style.secondaryColor)),y.Hb(3),y.rc("url",null==t?null:t.image_path)("size","500x500")("src",null==t?null:t.image_path,y.Jc)("settings",i.settings)("@fade",void 0),y.Hb(2),y.Nc("color",i.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(null==t?null:t.product_name),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.branch_flow)&&(null==t?null:t.branch_name)),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.is_product_weight)&&(null==t?null:t.duration)),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.rc("ngIf",null==t?null:t.is_product),y.Hb(1),y.rc("ngIf",!(null!=t&&t.is_product)),y.Hb(1),y.rc("ngIf",!(null!=t&&t.is_product)&&(null==t?null:t.price_type))("ngIfElse",n),y.Hb(1),y.rc("ngIf",t.customization),y.Hb(1),y.rc("ngIf",t.prod_variants&&t.prod_variants.length),y.Hb(1),y.rc("ngIf",null==i.settings?null:i.settings.enable_in_out_network),y.Hb(4),y.Nc("color",i.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Nc("color",i.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.rc("ngIf",(null==i.settings?null:i.settings.enable_product_special_instruction)&&t.special_instructions),y.Hb(1),y.Tc(" ",(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].local_currency)||i.currency," ",null==(l=i.util.convertIntoNumber(1*(null==t?null:t.totalPrice)*(null==i.selected_currency?null:i.selected_currency.conversion_rate)))?null:l.toFixed(null==i.settings?null:i.settings.price_decimal_length)," "),y.Hb(1),y.rc("ngIf",t.recipe_pdf),y.Hb(1),y.rc("ngIf",y.vc(38,tt).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)&&0==t.is_rated&&1==i.settings.is_product_rating),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.is_return_request)&&!(null!=t&&t.return_data&&null!=t&&t.return_data.length)&&y.vc(39,tt).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.is_return_request)&&(null==t?null:t.return_data)&&(null==t?null:t.return_data.length)>0&&y.vc(40,tt).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.is_return_request)&&(null==t?null:t.return_data)&&(null==t?null:t.return_data.length)>0&&(null==t?null:t.return_data[0].reason)&&y.vc(41,tt).includes(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].status)),y.Hb(2),y.rc("ngIf",8==(null==i.settings?null:i.settings.app_type)&&"Invalid date"!=(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].delivered_on))}}var cn=function(e){return{amount:e}};function on(e,r){if(1&e&&y.Ub(0,"app-questions-list",118),2&e){var t=y.kc(4);y.Mc(t.style),y.rc("questions",t.orderHistory[t.selectedOrder].questions)("cartPrice",y.wc(4,cn,null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].total_order_price))}}function sn(e,r){if(1&e&&(y.Zb(0,"div",119),y.Zb(1,"h5"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Zb(4,"p"),y.Qc(5),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(2),y.Rc(y.mc(3,2,"Parking Instructions")),y.Hb(3),y.Rc(t.orderHistory[t.selectedOrder].parking_instructions)}}function dn(e,r){if(1&e&&(y.Zb(0,"div",119),y.Zb(1,"h5"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Zb(4,"p"),y.Qc(5),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(2),y.Rc(y.mc(3,2,"Area To Focus")),y.Hb(3),y.Rc(t.orderHistory[t.selectedOrder].area_to_focus)}}function an(e,r){if(1&e&&(y.Zb(0,"div",89),y.Oc(1,ln,31,42,"div",90),y.Zb(2,"div",27),y.Zb(3,"div",91),y.Oc(4,on,1,6,"app-questions-list",92),y.Yb(),y.Yb(),y.Ub(5,"app-order-attachments",61),y.Oc(6,sn,6,4,"div",93),y.Oc(7,dn,6,4,"div",93),y.Yb()),2&e){var t=y.kc(3);y.Hb(1),y.rc("ngForOf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].products)("ngForTrackBy",t.trackByOrderHistoryFn),y.Hb(3),y.rc("ngIf",t.orderHistory[t.selectedOrder].questions&&t.orderHistory[t.selectedOrder].questions.length),y.Hb(1),y.rc("order",t.orderHistory[t.selectedOrder])("settings",t.settings),y.Hb(1),y.rc("ngIf",t.orderHistory[t.selectedOrder].parking_instructions),y.Hb(1),y.rc("ngIf",t.orderHistory[t.selectedOrder].area_to_focus)}}function un(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.Yb()),2&e){var t=y.kc().$implicit;y.Hb(1),y.Sc("Branch: ",null==t?null:t.branch_name,"")}}function bn(e,r){if(1&e){var t=y.ac();y.Zb(0,"div"),y.Zb(1,"div",94),y.Zb(2,"div",95),y.Zb(3,"span",96),y.Ub(4,"img",97),y.Yb(),y.Zb(5,"div",98),y.Zb(6,"h2"),y.Qc(7),y.Yb(),y.Oc(8,un,2,1,"p",21),y.Zb(9,"div"),y.Zb(10,"app-quantity-buttons",120),y.gc("onAdd",(function(){y.Hc(t);var e=r.$implicit;return y.kc(4).increaseValue(e)}))("onRemove",(function(){y.Hc(t);var e=r.$implicit;return y.kc(4).decreaseValue(e)})),y.Yb(),y.Yb(),y.Yb(),y.Zb(11,"div",101),y.Zb(12,"h3"),y.Qc(13),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(4);y.Hb(1),y.rc("ngStyle",y.xc(22,vt,i.style.cardBackgroundColor,i.style.secondaryColor)),y.Hb(3),y.rc("url",null==n?null:n.image_path)("size","500x500")("src",null==n?null:n.image_path,y.Jc)("settings",i.settings)("@fade",void 0),y.Hb(2),y.Nc("color",i.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc((null==n?null:n.product_name)||(null==n?null:n.name)),y.Hb(1),y.rc("ngIf",1==(null==i.settings?null:i.settings.branch_flow)&&(null==n?null:n.branch_name)),y.Hb(2),y.Mc(i.style),y.rc("settings",i.settings)("priceType",null==n?null:n.price_type)("isProduct",null==n?null:n.is_product)("selectedQuantity",(null==n?null:n.selectedQuantity)||(null==n?null:n.quantity)),y.Hb(2),y.Nc("color",i.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",(null==i.orderHistory[i.selectedOrder]?null:i.orderHistory[i.selectedOrder].local_currency)||i.currency," ",i.util.convertIntoNumber(1*(null==n?null:n.fixed_price)*(null==i.selected_currency?null:i.selected_currency.conversion_rate)).toFixed(null==i.settings?null:i.settings.price_decimal_length)," ")}}function pn(e,r){if(1&e){var t=y.ac();y.Zb(0,"button",60),y.gc("click",(function(){y.Hc(t);var e=y.kc(4);return e.onAddItems(e.orderHistory[e.selectedOrder])})),y.Qc(1),y.lc(2,"translate"),y.lc(3,"translate"),y.lc(4,"localization"),y.Yb()}if(2&e){var n=y.kc(4);y.rc("ngStyle",y.xc(10,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Tc("",y.mc(2,3,"Place")," ",y.mc(3,5,y.nc(4,7,"order",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function gn(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",89),y.Oc(1,bn,14,25,"div",90),y.Zb(2,"div"),y.Oc(3,pn,5,13,"button",40),y.Zb(4,"button",60),y.gc("click",(function(){return y.Hc(t),y.kc(3).itemSelection()})),y.Qc(5),y.lc(6,"translate"),y.lc(7,"translate"),y.lc(8,"localization"),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=y.kc(3);y.Hb(1),y.rc("ngForOf",null==n.editOrder?null:n.editOrder.products)("ngForTrackBy",n.trackByEditOrderFn),y.Hb(2),y.rc("ngIf",n.editOrder.products&&n.editOrder.products.length),y.Hb(1),y.rc("ngStyle",y.xc(13,xr,n.style.primaryColor,n.style.baseColor)),y.Hb(1),y.Tc("",y.mc(6,6,"Add")," ",y.mc(7,8,y.nc(8,10,"product",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type))," ")}}function yn(e,r){1&e&&y.Vb(0)}function fn(e,r){1&e&&y.Vb(0)}function hn(e,r){1&e&&y.Vb(0)}function vn(e,r){1&e&&y.Vb(0)}function mn(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.Zb(2,"b"),y.Qc(3),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(1),y.Sc("","Ref. Address",": \xa0"),y.Hb(2),y.Rc(null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].delivery_address?null:t.orderHistory[t.selectedOrder].delivery_address.reference_address)}}function _n(e,r){if(1&e&&(y.Zb(0,"h6"),y.Zb(1,"strong"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Yb(),y.Zb(4,"address"),y.Ub(5,"i",81),y.Qc(6),y.lc(7,"translate"),y.Zb(8,"b"),y.Qc(9),y.Ub(10,"br"),y.Qc(11),y.Yb(),y.Ub(12,"br"),y.Qc(13),y.lc(14,"translate"),y.Zb(15,"b"),y.Qc(16),y.Yb(),y.Ub(17,"br"),y.Oc(18,mn,4,2,"span",21),y.Yb()),2&e){var t=y.kc(3);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(2),y.Rc(8==(null==t.settings?null:t.settings.app_type)?"Service At":y.mc(3,13,"Deliver To")),y.Hb(2),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(2),y.Sc(" ",y.mc(7,15,"Address"),": "),y.Hb(3),y.Rc(null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].delivery_address?null:t.orderHistory[t.selectedOrder].delivery_address.address_line_1),y.Hb(2),y.Sc(" ",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].delivery_address?null:t.orderHistory[t.selectedOrder].delivery_address.customer_address,""),y.Hb(2),y.Sc(" ",y.mc(14,17,"Name"),":"),y.Hb(3),y.Rc(null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].delivery_address?null:t.orderHistory[t.selectedOrder].delivery_address.user_name),y.Hb(2),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].delivery_address?null:t.orderHistory[t.selectedOrder].delivery_address.reference_address)}}function Hn(e,r){if(1&e&&(y.Zb(0,"h6"),y.Qc(1),y.lc(2,"translate"),y.Yb(),y.Zb(3,"address"),y.Ub(4,"i",81),y.Qc(5),y.Ub(6,"br"),y.Yb()),2&e){var t=y.kc(3);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(2,8,"Pick From")),y.Hb(2),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(2),y.Sc(" ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].supplier_address,"")}}function On(e,r){if(1&e&&(y.Zb(0,"h6"),y.Qc(1),y.lc(2,"translate"),y.Yb(),y.Zb(3,"address"),y.Ub(4,"i",81),y.Qc(5),y.Ub(6,"br"),y.Yb()),2&e){var t=y.kc(3);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(2,8,"Dinin At")),y.Hb(2),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(2),y.Sc(" ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].supplier_address,"")}}function kn(e,r){if(1&e&&(y.Zb(0,"address"),y.Ub(1,"i",121),y.Qc(2),y.lc(3,"translate"),y.Zb(4,"b"),y.Qc(5),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(2),y.Sc(" ",y.mc(3,5,"Vehicle Number"),":\xa0"),y.Hb(3),y.Rc(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].vehicle_number)}}function Yn(e,r){if(1&e&&y.Oc(0,kn,6,7,"address",75),2&e){var t=y.kc(3);y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].vehicle_number)}}function Zn(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"h6"),y.Zb(2,"label"),y.Qc(3),y.lc(4,"translate"),y.Yb(),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Zb(7,"h6"),y.Zb(8,"label"),y.Qc(9),y.lc(10,"translate"),y.Yb(),y.Zb(11,"strong"),y.Qc(12),y.Yb(),y.Yb(),y.Zb(13,"h6"),y.Zb(14,"label"),y.Qc(15),y.lc(16,"translate"),y.Yb(),y.Zb(17,"strong"),y.Qc(18),y.Yb(),y.Yb(),y.Zb(19,"h6"),y.Zb(20,"label"),y.Qc(21),y.lc(22,"translate"),y.Yb(),y.Zb(23,"strong"),y.Qc(24),y.lc(25,"tableDateTime"),y.Yb(),y.Yb(),y.Zb(26,"h6"),y.Zb(27,"label"),y.Qc(28),y.lc(29,"translate"),y.Yb(),y.Zb(30,"strong"),y.Qc(31),y.lc(32,"tableDateTime"),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc("",y.mc(4,20,"Table No."),"\xa0:\xa0"),y.Hb(3),y.Rc(t.orderHistory[t.selectedOrder].table_details.table_number||"N/A"),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc("",y.mc(10,22,"Table Name"),"\xa0:\xa0"),y.Hb(3),y.Rc(t.orderHistory[t.selectedOrder].table_details.table_name||"N/A"),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc("",y.mc(16,24,"Seating Capacity"),"\xa0:\xa0"),y.Hb(3),y.Rc(t.orderHistory[t.selectedOrder].table_details.seating_capacity),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc("",y.mc(22,26,"Slot Date"),"\xa0:\xa0"),y.Hb(3),y.Sc(" ",y.nc(25,28,t.orderHistory[t.selectedOrder].table_details.schedule_date,"DD MMM yyyy"),""),y.Hb(2),y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc("",y.mc(29,31,"Slot Time"),"\xa0:\xa0"),y.Hb(3),y.Sc(" ",y.nc(32,33,t.orderHistory[t.selectedOrder].table_details.schedule_date,"h:mm a"),"")}}function In(e,r){if(1&e&&(y.Zb(0,"div",50),y.Zb(1,"h3"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Oc(4,Zn,33,36,"div",21),y.Yb()),2&e){var t=y.kc(3);y.rc("ngStyle",y.xc(8,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(3,6,"TABLE DETAILS")),y.Hb(2),y.rc("ngIf",t.orderHistory[t.selectedOrder].table_details)}}function Cn(e,r){if(1&e&&(y.Zb(0,"div"),y.Ub(1,"app-order-status-tracker",122),y.Yb()),2&e){var t=y.kc(3);y.Hb(1),y.Mc(t.style),y.rc("settings",t.settings)("order",t.orderHistory[t.selectedOrder])("@fade",void 0)}}function Sn(e,r){if(1&e){var t=y.ac();y.Zb(0,"span",130),y.gc("click",(function(){y.Hc(t);var e=y.kc(4);return e.toRateAgent(e.orderHistory[e.selectedOrder])})),y.Ub(1,"i",86),y.Qc(2),y.lc(3,"localization"),y.Yb()}if(2&e){var n=y.kc(4);y.Nc("color",n.style.primaryColor),y.rc("@fade",void 0),y.Hb(2),y.Tc(" ","Rate To"," ",y.nc(3,5,"agent",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].type)," ")}}function Qn(e,r){if(1&e&&(y.Zb(0,"li"),y.Zb(1,"div",127),y.Zb(2,"div",128),y.Qc(3,"Phone No."),y.Yb(),y.Zb(4,"div",131),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(2),y.rc("@fade",void 0),y.Hb(2),y.rc("@fade",void 0),y.Hb(1),y.Sc("",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].phone_number," ")}}function Tn(e,r){if(1&e&&(y.Zb(0,"li"),y.Zb(1,"div",127),y.Zb(2,"div",128),y.Qc(3,"Phone No."),y.Yb(),y.Zb(4,"div",131),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(2),y.rc("@fade",void 0),y.Hb(2),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].proxy_phone_number)||"N/A"," ")}}var wn=function(){return[5]};function Pn(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"div",50),y.Zb(2,"h3",123),y.Qc(3),y.lc(4,"translate"),y.lc(5,"localization"),y.lc(6,"translate"),y.Oc(7,Sn,4,8,"span",124),y.Yb(),y.Zb(8,"div",125),y.Zb(9,"ul",126),y.Zb(10,"li"),y.Zb(11,"div",127),y.Zb(12,"div",128),y.Qc(13),y.lc(14,"translate"),y.Yb(),y.Zb(15,"div",129),y.Qc(16),y.Yb(),y.Yb(),y.Yb(),y.Oc(17,Qn,6,3,"li",21),y.Oc(18,Tn,6,3,"li",21),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.Hb(1),y.rc("ngStyle",y.xc(24,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(4,15,y.nc(5,17,"agent",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))," ",y.mc(6,20,"DETAILS")," "),y.Hb(4),y.rc("ngIf",y.vc(27,wn).includes(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&1==t.settings.is_agent_rating),y.Hb(2),y.Nc("color",t.style.baseColor),y.Hb(3),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(14,22,"Name")),y.Hb(2),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].name," "),y.Hb(1),y.rc("ngIf",!(null!=t.settings&&t.settings.is_number_masking_enable)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].proxy_phone_number)&&(null==t.settings?null:t.settings.is_number_masking_enable))}}function Dn(e,r){if(1&e){var t=y.ac();y.Zb(0,"h5"),y.Zb(1,"p"),y.Zb(2,"b"),y.Zb(3,"span",113),y.gc("click",(function(){y.Hc(t);var e=y.kc(6);return e.downloadReceipt(null==e.orderHistory[e.selectedOrder]||null==e.orderHistory[e.selectedOrder].agent[0]?null:e.orderHistory[e.selectedOrder].agent[0].left_with_picture_url)})),y.Qc(4),y.Yb(),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=y.kc(6);y.Nc("color",n.style.baseColor),y.rc("@fade",void 0),y.Hb(4),y.Sc(" ","View Left Image"," ")}}function xn(e,r){if(1&e&&(y.Zb(0,"h5",134),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Zb(4,"span"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(6);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Order Left Reason")," : "),y.Hb(4),y.Rc((null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].order_left_reason)||"N/A")}}function Nn(e,r){if(1&e&&(y.Zb(0,"div",125),y.Oc(1,Dn,5,4,"h5",75),y.Oc(2,xn,6,7,"h5",133),y.Yb()),2&e){var t=y.kc(5);y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].left_with_picture_url),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].order_left_reason)}}function Fn(e,r){if(1&e&&(y.Zb(0,"div",50),y.Zb(1,"h3"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Oc(4,Nn,3,2,"div",132),y.Yb()),2&e){var t=y.kc(4);y.rc("ngStyle",y.xc(8,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(3,6,"DELIVERY INFORMATION")),y.Hb(2),y.rc("ngIf",t.orderHistory.length>0)}}function Rn(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Zb(4,"span"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Cutlery Option?")," : "),y.Hb(4),y.Rc(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].is_cutlery_required?"Yes":"No")}}function Mn(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Zb(4,"span"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"No Touch Delivery?")," : "),y.Hb(4),y.Rc(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].no_touch_delivery?"Yes":"No")}}function Bn(e,r){if(1&e){var t=y.ac();y.Zb(0,"h5"),y.Zb(1,"p"),y.Zb(2,"b"),y.Zb(3,"span",113),y.gc("click",(function(){y.Hc(t);var e=y.kc(5);return e.downloadReceipt(null==e.orderHistory[e.selectedOrder]?null:e.orderHistory[e.selectedOrder].admin_price_update_receipt)})),y.Qc(4),y.Yb(),y.Yb(),y.Yb(),y.Yb()}if(2&e){var n=y.kc(5);y.Nc("color",n.style.baseColor),y.rc("@fade",void 0),y.Hb(4),y.Sc(" ","View Receipt"," ")}}function zn(e,r){if(1&e&&(y.Zb(0,"h5",134),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Zb(4,"span"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Agent Verification Code")," : "),y.Hb(4),y.Rc(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].agent_verification_code)}}function En(e,r){1&e&&(y.Zb(0,"strong"),y.Qc(1,"Self Pickup"),y.Yb())}function Un(e,r){if(1&e&&(y.Zb(0,"strong"),y.Qc(1),y.Yb()),2&e){var t=y.kc(6);y.Hb(1),y.Rc(1==(null==t.settings?null:t.settings.is_enable_delivery_type)?1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].order_delivery_type)?"Express Delivery":"Normal Delivery":"Delivery")}}function An(e,r){1&e&&(y.Zb(0,"strong"),y.Qc(1,"Dine In"),y.Yb())}function Ln(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Oc(3,En,2,0,"strong",21),y.Oc(4,Un,2,1,"strong",21),y.Oc(5,An,2,0,"strong",21),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,7,"Delivery Mode")," : "),y.Hb(2),y.rc("ngIf",1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)),y.Hb(1),y.rc("ngIf",0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)),y.Hb(1),y.rc("ngIf",3==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup))}}function qn(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.Yb()),2&e){var t=y.kc(5);y.Hb(1),y.Sc(" (",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_source,")")}}function $n(e,r){1&e&&(y.Zb(0,"span"),y.Qc(1," Out of platform "),y.Yb())}function jn(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Change in Request")," : "),y.Hb(3),y.Sc("",null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].have_coin_change?"Yes":"No"," ")}}function Wn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"small",135),y.Qc(4),y.Yb(),y.Zb(5,"span"),y.Zb(6,"strong"),y.Qc(7),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,5,"Discount")," - "),y.Hb(3),y.Sc(" (",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].promoCode,")"),y.Hb(3),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].discountAmount)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Vn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"small",135),y.Qc(4),y.Yb(),y.Zb(5,"span"),y.Zb(6,"strong"),y.Qc(7),y.lc(8,"translate"),y.lc(9,"localization"),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,5,"Offer Applied")," - "),y.Hb(3),y.Sc(" (",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].promoCode,")"),y.Hb(3),y.Tc(" ",t.freeProductQuantity," ","Free "+y.mc(8,7,y.nc(9,9,"product",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type)),"")}}function Gn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Ub(3,"small",135),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,4,"Discount")," - "),y.Hb(5),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].discountAmount,"")}}function Xn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Ub(3,"small",135),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Wallet Discount")," - "),y.Hb(5),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].discountAmount,"")}}function Jn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Delivery Charges")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].delivery_charges)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Kn(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"AddOn Charges")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].addOn?null:t.orderHistory[t.selectedOrder].addOn.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ei(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,4,y.mc(3,6,"tax"))," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].handling_admin)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ri(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"localization"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.nc(2,5,"agent",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type)," ",y.mc(3,8,"tip")," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].tip_agent.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ti(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1," Slot Price "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].slot_price.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ni(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1," Table Booking Discount "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("- ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].slot_price.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ii(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Referral Discount")," "),y.Hb(4),y.Tc("- ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].referral_amount)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function li(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Loyalty Discount")," "),y.Hb(4),y.Tc("- ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].loyality_point_discount)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ci(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,y.mc(3,6,"supplier_service_fee"))," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].user_service_charge)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function oi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Updated Charge")," "),y.Hb(4),y.Uc(" ",0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_subtotal_add)?"-":"+"," ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].admin_updated_charge.toFixed(2)," ")}}function si(e,r){if(1&e&&(y.Zb(0,"small"),y.Qc(1),y.Yb()),2&e){var t=y.kc(5);y.Hb(1),y.Uc(" ( XR: ",t.currency," 1 = ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].currency_exchange_rate," ) ")}}function di(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1,"Refund Amount "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].refund_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ai(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1,"Remaining Amount "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].remaining_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ui(e,r){if(1&e&&(y.Zb(0,"div",125),y.Oc(1,Rn,6,7,"h5",75),y.Oc(2,Mn,6,7,"h5",75),y.Oc(3,Bn,5,4,"h5",75),y.Oc(4,zn,6,7,"h5",133),y.Oc(5,Ln,6,9,"h5",75),y.Zb(6,"h5"),y.Qc(7),y.lc(8,"translate"),y.Zb(9,"strong"),y.Qc(10),y.lc(11,"translate"),y.lc(12,"translate"),y.lc(13,"localization"),y.lc(14,"translate"),y.lc(15,"localization"),y.lc(16,"localization"),y.Oc(17,qn,2,1,"span",21),y.Yb(),y.Zb(18,"strong"),y.Oc(19,$n,2,0,"span",21),y.Yb(),y.Yb(),y.Oc(20,jn,5,7,"h5",75),y.Zb(21,"ul",126),y.Zb(22,"li"),y.Qc(23),y.lc(24,"translate"),y.Zb(25,"span"),y.Zb(26,"strong"),y.Qc(27),y.Yb(),y.Yb(),y.Yb(),y.Oc(28,Wn,8,7,"li",21),y.Oc(29,Vn,10,12,"li",21),y.Oc(30,Gn,7,6,"li",21),y.Oc(31,Xn,7,6,"li",21),y.Oc(32,Jn,6,6,"li",21),y.Oc(33,Kn,6,6,"li",21),y.Oc(34,ei,7,8,"li",21),y.Oc(35,ri,7,10,"li",21),y.Oc(36,ti,5,3,"li",21),y.Oc(37,ni,5,3,"li",21),y.Oc(38,ii,6,6,"li",21),y.Oc(39,li,6,6,"li",21),y.Oc(40,ci,7,8,"li",21),y.Oc(41,oi,6,7,"li",21),y.Zb(42,"li"),y.Qc(43),y.lc(44,"translate"),y.Oc(45,si,2,3,"small",21),y.Zb(46,"span"),y.Zb(47,"strong"),y.Qc(48),y.Yb(),y.Yb(),y.Yb(),y.Oc(49,di,5,3,"li",21),y.Oc(50,ai,5,3,"li",21),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].is_cutlery_required)&&(null==t.settings?null:t.settings.enable_cutlery_option)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].no_touch_delivery)&&(null==t.settings?null:t.settings.enable_no_touch_delivery)),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].admin_price_update_receipt),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].agent_verification_code)&&"1"==(null==t.settings?null:t.settings.agent_verification_code_enable)),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.app_type)||1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(8,40,"Payment Mode")," : "),y.Hb(3),y.Rc(3==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)?"None":y.mc(11,42,2==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)?"Free":0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)?1==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)?y.mc(12,44,y.mc(13,46,"cash_on_pickup")):y.mc(14,48,y.mc(15,50,"cod")):y.nc(16,52,"Online",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].type))),y.Hb(7),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_source),y.Hb(2),y.rc("ngIf",5===t.orderHistory[t.selectedOrder].payment_type),y.Hb(1),y.rc("ngIf",0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)&&1==(null==t.settings?null:t.settings.is_coin_exchange)),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(24,55,"Sub Total")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].total_order_price)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length),""),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].promoCode)&&(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].discountAmount)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].promoCode)&&!(null!=t.orderHistory[t.selectedOrder]&&t.orderHistory[t.selectedOrder].discountAmount)&&t.freeProductQuantity),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].gift_amount),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].wallet_discount_amount),y.Hb(1),y.rc("ngIf",0==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].self_pickup)&&8!=t.orderHistory[t.selectedOrder].type&&8!=(null==t.settings?null:t.settings.app_type)),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].addOn)&&(8==t.orderHistory[t.selectedOrder].type||8==(null==t.settings?null:t.settings.app_type))),y.Hb(1),y.rc("ngIf",0==(null==t.settings?null:t.settings.disable_tax)),y.Hb(1),y.rc("ngIf",t.orderHistory[t.selectedOrder].tip_agent),y.Hb(1),y.rc("ngIf",t.orderHistory[t.selectedOrder].slot_price&&1==(null==t.settings?null:t.settings.is_schdule_order)),y.Hb(1),y.rc("ngIf",t.orderHistory[t.selectedOrder].slot_price&&1==(null==t.settings?null:t.settings.is_schdule_order)&&1==(null==t.settings?null:t.settings.table_book_mac_theme)),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.referral_feature)&&t.orderHistory[t.selectedOrder].referral_amount),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.is_loyality_enable)&&t.orderHistory[t.selectedOrder].loyality_point_discount),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.supplier_service_fee)&&t.orderHistory[t.selectedOrder].user_service_charge),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].admin_updated_charge),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(44,57,"Net Total")," "),y.Hb(2),y.rc("ngIf",1==t.settings.is_currency_exchange_rate&&t.orderHistory[t.selectedOrder].currency_exchange_rate),y.Hb(3),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",(1*(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].net_amount)*(null==t.selected_currency?null:t.selected_currency.conversion_rate)).toFixed(null==t.settings?null:t.settings.price_decimal_length)," "),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].refund_amount)&&0!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)),y.Hb(1),y.rc("ngIf",null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].remaining_amount)}}function bi(e,r){if(1&e&&(y.Zb(0,"div"),y.Oc(1,Fn,5,11,"div",56),y.Zb(2,"div",50),y.Zb(3,"h3"),y.Qc(4),y.lc(5,"translate"),y.Yb(),y.Oc(6,ui,51,59,"div",132),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.Hb(1),y.rc("ngIf",(null==t.settings?null:t.settings.enable_agent_leave_notes)&&5==(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].status)&&((null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].left_with_picture_url)||(null==t.orderHistory[t.selectedOrder]||null==t.orderHistory[t.selectedOrder].agent[0]?null:t.orderHistory[t.selectedOrder].agent[0].order_left_reason))),y.Hb(1),y.rc("ngStyle",y.xc(9,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(5,7,"BILLING INFORMATION")),y.Hb(2),y.rc("ngIf",t.orderHistory.length>0)}}function pi(e,r){if(1&e&&(y.Zb(0,"span"),y.Qc(1),y.Yb()),2&e){var t=y.kc(5);y.Hb(1),y.Sc(" (",null==t.editOrder?null:t.editOrder.payment_source,")")}}function gi(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Zb(4,"span"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Agent Verification Code")," : "),y.Hb(4),y.Rc(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].agent_verification_code)}}function yi(e,r){if(1&e&&(y.Zb(0,"h5"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,5,"Change in Request")," : "),y.Hb(3),y.Sc("",null!=t.editOrder&&t.editOrder.have_coin_change?"Yes":"No"," ")}}function fi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"small",135),y.Qc(4),y.Yb(),y.Zb(5,"span"),y.Zb(6,"strong"),y.Qc(7),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,5,"Discount")," - "),y.Hb(3),y.Sc(" (",null==t.editOrder?null:t.editOrder.promoCode,")"),y.Hb(3),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.discountAmount,"")}}function hi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Ub(3,"small",135),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,4,"Discount")," - "),y.Hb(5),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.discountAmount,"")}}function vi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Ub(3,"small",135),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Wallet Discount")," - "),y.Hb(5),y.Tc(" - ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.discountAmount,"")}}function mi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Delivery Charges")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder||null==t.editOrder.delivery_charges?null:t.editOrder.delivery_charges.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function _i(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"AddOn Charges")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder||null==t.editOrder.addOn?null:t.editOrder.addOn.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Hi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(2,4,y.mc(3,6,"tax"))," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",((null==t.editOrder?null:t.editOrder.handling_admin)+(null==t.editOrder?null:t.editOrder.handling_supplier)).toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Oi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"localization"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Tc(" ",y.nc(2,5,"agent",null==t.editOrder?null:t.editOrder.type)," ",y.mc(3,8,"tip")," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.tip_agent.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function ki(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1," Slot Price "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.slot_price.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Yi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Referral Discount")," "),y.Hb(4),y.Tc("- ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder||null==t.editOrder.referral_amount?null:t.editOrder.referral_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Zi(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.Zb(3,"span"),y.Zb(4,"strong"),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,"Loyalty Discount")," "),y.Hb(4),y.Tc("- ",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder||null==t.editOrder.loyality_point_discount?null:t.editOrder.loyality_point_discount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Ii(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1),y.lc(2,"translate"),y.lc(3,"localization"),y.Zb(4,"span"),y.Zb(5,"strong"),y.Qc(6),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(2,4,y.mc(3,6,"supplier_service_fee"))," "),y.Hb(5),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder||null==t.editOrder.user_service_charge?null:t.editOrder.user_service_charge.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Ci(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1," Refund Amount "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.refund_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Si(e,r){if(1&e&&(y.Zb(0,"li"),y.Qc(1,"Remaining Amount "),y.Zb(2,"span"),y.Zb(3,"strong"),y.Qc(4),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(5);y.rc("@fade",void 0),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.remaining_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),"")}}function Qi(e,r){if(1&e&&(y.Zb(0,"div",125),y.Zb(1,"h5"),y.Qc(2),y.lc(3,"translate"),y.Zb(4,"strong"),y.Qc(5),y.lc(6,"translate"),y.lc(7,"localization"),y.Oc(8,pi,2,1,"span",21),y.Yb(),y.Yb(),y.Oc(9,gi,6,7,"h5",75),y.Oc(10,yi,5,7,"h5",75),y.Zb(11,"ul",126),y.Zb(12,"li"),y.Qc(13),y.lc(14,"translate"),y.Zb(15,"span"),y.Zb(16,"strong"),y.Qc(17),y.Yb(),y.Yb(),y.Yb(),y.Oc(18,fi,8,7,"li",21),y.Oc(19,hi,7,6,"li",21),y.Oc(20,vi,7,6,"li",21),y.Oc(21,mi,6,6,"li",21),y.Oc(22,_i,6,6,"li",21),y.Oc(23,Hi,7,8,"li",21),y.Oc(24,Oi,7,10,"li",21),y.Oc(25,ki,5,3,"li",21),y.Oc(26,Yi,6,6,"li",21),y.Oc(27,Zi,6,6,"li",21),y.Oc(28,Ii,7,8,"li",21),y.Zb(29,"li"),y.Qc(30),y.lc(31,"translate"),y.Zb(32,"span"),y.Zb(33,"strong"),y.Qc(34),y.Yb(),y.Yb(),y.Yb(),y.Oc(35,Ci,5,3,"li",21),y.Oc(36,Si,5,3,"li",21),y.Yb(),y.Yb()),2&e){var t=y.kc(4);y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc(" ",y.mc(3,31,"Payment Mode")," : "),y.Hb(3),y.Rc(3==(null==t.editOrder?null:t.editOrder.payment_type)?"None":y.mc(6,33,2==(null==t.editOrder?null:t.editOrder.payment_type)?"Free":0==(null==t.editOrder?null:t.editOrder.payment_type)?"Cash":y.nc(7,35,"Online",null==t.editOrder?null:t.editOrder.type))),y.Hb(3),y.rc("ngIf",null==t.editOrder?null:t.editOrder.payment_source),y.Hb(1),y.rc("ngIf",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].agent_verification_code)&&1==(null==t.settings?null:t.settings.agent_verification_code_enable)),y.Hb(1),y.rc("ngIf",0==(null==t.editOrder?null:t.editOrder.payment_type)&&1==(null==t.settings?null:t.settings.is_coin_exchange)),y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(14,38,"Sub Total")),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.total_order_price.toFixed(null==t.settings?null:t.settings.price_decimal_length),""),y.Hb(1),y.rc("ngIf",null==t.editOrder?null:t.editOrder.promoCode),y.Hb(1),y.rc("ngIf",null==t.editOrder?null:t.editOrder.gift_amount),y.Hb(1),y.rc("ngIf",null==t.editOrder?null:t.editOrder.wallet_discount_amount),y.Hb(1),y.rc("ngIf",0==(null==t.editOrder?null:t.editOrder.self_pickup)&&8!=t.editOrder.type&&8!=(null==t.settings?null:t.settings.app_type)),y.Hb(1),y.rc("ngIf",(null==t.editOrder?null:t.editOrder.addOn)&&(8==t.editOrder.type||8==(null==t.settings?null:t.settings.app_type))),y.Hb(1),y.rc("ngIf",0==(null==t.settings?null:t.settings.disable_tax)),y.Hb(1),y.rc("ngIf",null==t.editOrder?null:t.editOrder.tip_agent),y.Hb(1),y.rc("ngIf",(null==t.editOrder?null:t.editOrder.slot_price)&&1==(null==t.settings?null:t.settings.is_schdule_order)),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.referral_feature)&&t.editOrder.referral_amount),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.is_loyality_enable)&&t.editOrder.loyality_point_discount),y.Hb(1),y.rc("ngIf",1==(null==t.settings?null:t.settings.supplier_service_fee)&&t.editOrder.user_service_charge),y.Hb(1),y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(31,40,"Net Total")," "),y.Hb(4),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",null==t.editOrder?null:t.editOrder.net_amount.toFixed(null==t.settings?null:t.settings.price_decimal_length),""),y.Hb(1),y.rc("ngIf",(null==t.editOrder?null:t.editOrder.refund_amount)&&0!=(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].payment_type)),y.Hb(1),y.rc("ngIf",null==t.editOrder?null:t.editOrder.remaining_amount)}}function Ti(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"div",50),y.Zb(2,"h3"),y.Qc(3),y.lc(4,"translate"),y.Yb(),y.Oc(5,Qi,37,42,"div",132),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.Hb(1),y.rc("ngStyle",y.xc(8,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(4,6,"BILLING INFORMATION")),y.Hb(2),y.rc("ngIf",t.orderHistory.length>0)}}function wi(e,r){if(1&e&&(y.Zb(0,"div",50),y.Zb(1,"h3",111),y.Qc(2),y.lc(3,"translate"),y.Zb(4,"span",136),y.Qc(5),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(3);y.rc("ngStyle",y.xc(9,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(1),y.Nc("color",t.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Sc("",y.mc(3,7,"Refund Amount"),": "),y.Hb(3),y.Tc("",(null==t.orderHistory[t.selectedOrder]?null:t.orderHistory[t.selectedOrder].local_currency)||t.currency," ",t.orderHistory[t.selectedOrder].refund_amount,"")}}var Pi=function(){return["/orders/order-listing"]},Di=function(e,r){return{backgroundColor:e,color:r}},xi=function(){return[2,3,5,6,8]},Ni=function(){return[1,8]},Fi=function(){return[2,5,6,8]},Ri=function(){return[1,3,4,10,11]};function Mi(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"div",25),y.Zb(2,"div",26),y.Zb(3,"div",27),y.Zb(4,"div",28),y.Zb(5,"ul"),y.Zb(6,"li"),y.Zb(7,"a",29),y.Qc(8),y.lc(9,"translate"),y.Yb(),y.Yb(),y.Zb(10,"li"),y.Zb(11,"a",30),y.Qc(12),y.lc(13,"translate"),y.lc(14,"localization"),y.Yb(),y.Yb(),y.Zb(15,"li"),y.Zb(16,"a",31),y.Qc(17),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(18,"section",32),y.Zb(19,"div",26),y.Zb(20,"div",33),y.Zb(21,"div",34),y.Zb(22,"h4",35),y.Qc(23),y.lc(24,"translate"),y.lc(25,"localization"),y.Yb(),y.Oc(26,Pr,5,8,"p",21),y.Yb(),y.Zb(27,"div",36),y.Oc(28,Dr,1,4,"app-order-payment",37),y.Oc(29,Nr,3,7,"button",38),y.Oc(30,Fr,3,7,"button",39),y.Oc(31,Rr,3,7,"button",39),y.Oc(32,Mr,3,7,"button",39),y.Oc(33,Br,5,13,"button",40),y.Oc(34,zr,5,13,"button",40),y.Oc(35,Er,2,4,"button",40),y.Oc(36,Ur,1,4,"app-re-order",41),y.Yb(),y.Yb(),y.Zb(37,"div",27),y.Ub(38,"div",42),y.Oc(39,Wr,15,23,"div",43),y.Yb(),y.Oc(40,Vr,1,2,"i",44),y.Oc(41,Gr,1,2,"i",45),y.Oc(42,Ot,28,50,"div",46),y.Oc(43,Pt,19,32,"ng-template",null,47,y.Pc),y.Zb(45,"div",27),y.Oc(46,an,8,7,"div",48),y.Oc(47,gn,9,16,"div",48),y.Zb(48,"div",49),y.Zb(49,"div",50),y.Zb(50,"h3"),y.Qc(51),y.lc(52,"translate"),y.Yb(),y.Oc(53,yn,1,0,"ng-container",51),y.Oc(54,fn,1,0,"ng-container",51),y.Oc(55,hn,1,0,"ng-container",51),y.Oc(56,vn,1,0,"ng-container",51),y.Oc(57,_n,19,19,"ng-template",null,52,y.Pc),y.Oc(59,Hn,7,10,"ng-template",null,53,y.Pc),y.Oc(61,On,7,10,"ng-template",null,54,y.Pc),y.Oc(63,Yn,1,1,"ng-template",null,55,y.Pc),y.Yb(),y.Oc(65,In,5,11,"div",56),y.Oc(66,Cn,2,5,"div",21),y.Oc(67,Pn,19,28,"div",21),y.Oc(68,bi,7,12,"div",21),y.Oc(69,Ti,6,11,"div",21),y.Zb(70,"div"),y.Oc(71,wi,6,12,"div",56),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.Ec(44),n=y.Ec(58),i=y.Ec(60),l=y.Ec(62),c=y.Ec(64),o=y.kc(2);y.Hb(1),y.Nc("background-color",o.style.backgroundColor),y.Hb(6),y.Nc("color",o.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(9,55,"My Account")),y.Hb(3),y.Nc("color",o.style.baseColor),y.rc("routerLink",y.vc(71,Pi))("@fade",void 0),y.Hb(1),y.Rc(y.mc(13,57,"My "+y.oc(14,59,"orders",null==o.settings?null:o.settings.app_type,1))),y.Hb(4),y.Nc("color",o.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].order_id),y.Hb(5),y.rc("ngStyle",y.xc(72,Di,o.style.backgroundColor,o.style.baseColor))("@fade",void 0),y.Hb(1),y.Tc(" ",y.mc(24,63,y.oc(25,65,"order",null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].type,1)+" No.")," : ",null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].order_id,""),y.Hb(3),y.rc("ngIf",5==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)),y.Hb(2),y.rc("ngIf",0==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].payment_status)&&(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].created_by)>0&&1==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)||(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].remaining_amount)&&1==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].payment_type)&&1==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].is_edit)||0==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].payment_status)&&3==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].payment_type)&&1==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].payment_after_confirmation)&&1==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)),y.Hb(1),y.rc("ngIf","1"==(null==o.settings?null:o.settings.is_sos_allow)),y.Hb(1),y.rc("ngIf",(null==o.settings?null:o.settings.is_zoom_call_enabled)&&!(null!=o.orderHistory[o.selectedOrder]&&o.orderHistory[o.selectedOrder].zoom_call_start_url)&&11==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)),y.Hb(1),y.rc("ngIf",(null==o.settings?null:o.settings.is_zoom_call_enabled)&&(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].zoom_call_start_url)&&11==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)),y.Hb(1),y.rc("ngIf",(null==o.settings?null:o.settings.enable_audio_video)&&(null==o.orderHistory[o.selectedOrder]||null==o.orderHistory[o.selectedOrder].agent[0]?null:o.orderHistory[o.selectedOrder].agent[0].agent_bio_url)),y.Hb(1),y.rc("ngIf","1"==(null==o.settings?null:o.settings.can_user_edit)&&!y.vc(75,xi).includes(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)&&1!=o.orderHistory[o.selectedOrder].is_edit&&y.vc(76,Ni).includes(null==o.settings?null:o.settings.app_type)),y.Hb(1),y.rc("ngIf",!y.vc(77,Fi).includes(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)&&0==(null==o.settings?null:o.settings.disable_user_cancel_order)&&(0==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)&&0==(null==o.settings?null:o.settings.disbale_user_cancel_pending_order)||0!=(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)&&0==(null==o.settings?null:o.settings.disable_user_cancel_after_confirm))),y.Hb(1),y.rc("ngIf",(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].dhlData)&&(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].dhlData.length)),y.Hb(1),y.rc("ngIf",5==(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].status)&&8!==o.orderHistory[o.selectedOrder].type&&8!=(null==o.settings?null:o.settings.app_type)&&0==(null==o.settings?null:o.settings.laundary_service_flow)),y.Hb(3),y.rc("ngIf",1==o.orderHistory[o.selectedOrder].self_pickup&&y.vc(78,Ri).includes(o.orderHistory[o.selectedOrder].status)),y.Hb(1),y.rc("ngIf",0!=o.selectedOrder),y.Hb(1),y.rc("ngIf",o.selectedOrder!=o.orderHistory.length-1),y.Hb(1),y.rc("ngIf",0==o.settings.is_single_vendor)("ngIfElse",t),y.Hb(4),y.rc("ngIf",!o.isEditOrder),y.Hb(1),y.rc("ngIf",o.isEditOrder),y.Hb(2),y.rc("ngStyle",y.xc(79,vt,o.style.cardBackgroundColor,o.style.secondaryColor)),y.Hb(1),y.Nc("color",o.style.baseColor),y.rc("@fade",void 0),y.Hb(1),y.Rc(y.mc(52,69,"ADDRESS DETAILS")),y.Hb(2),y.rc("ngIf",1===(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].self_pickup))("ngIfThen",i),y.Hb(1),y.rc("ngIf",0===(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].self_pickup))("ngIfThen",n),y.Hb(1),y.rc("ngIf",3===(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].self_pickup))("ngIfThen",l),y.Hb(1),y.rc("ngIf",null==o.settings?null:o.settings.enable_user_vehicle_number)("ngIfThen",c),y.Hb(9),y.rc("ngIf",o.orderHistory[o.selectedOrder].table_details||o.orderHistory[o.selectedOrder].seating_capacity),y.Hb(1),y.rc("ngIf",o.orderHistory[o.selectedOrder]),y.Hb(1),y.rc("ngIf",(null==o.orderHistory[o.selectedOrder]?null:o.orderHistory[o.selectedOrder].agent.length)&&!(null!=o.orderHistory[o.selectedOrder]&&o.orderHistory[o.selectedOrder].self_pickup)),y.Hb(1),y.rc("ngIf",!o.isEditOrder),y.Hb(1),y.rc("ngIf",o.isEditOrder),y.Hb(2),y.rc("ngIf",8==o.orderHistory[o.selectedOrder].status&&o.orderHistory[o.selectedOrder].refund_amount)}}function Bi(e,r){if(1&e){var t=y.ac();y.Zb(0,"app-order-supplier-products",137),y.gc("onBack",(function(){return y.Hc(t),y.kc(2).isAddItems=!1}))("onAdd",(function(e){return y.Hc(t),y.kc(2).onProductAdd(e)})),y.Yb()}if(2&e){var n=y.kc(2);y.Mc(n.style),y.rc("settings",n.settings)("orderType",n.orderHistory[n.selectedOrder].type||n.settings.app_type)("supplierId",null==n.orderHistory[n.selectedOrder]?null:n.orderHistory[n.selectedOrder].supplier_id)("selectedProducts",n.editOrder.products)}}function zi(e,r){if(1&e&&(y.Xb(0),y.Oc(1,Mi,72,82,"div",21),y.Oc(2,Bi,1,6,"app-order-supplier-products",24),y.Wb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngIf",!t.isAddItems),y.Hb(1),y.rc("ngIf",t.isAddItems)}}function Ei(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",63),y.Zb(1,"label",138),y.Qc(2,"Reason"),y.Yb(),y.Zb(3,"textarea",139),y.gc("ngModelChange",(function(e){return y.Hc(t),y.kc().returnProductReason=e})),y.Yb(),y.Yb()}if(2&e){var n=y.kc();y.Hb(3),y.rc("ngModel",n.returnProductReason)}}var Ui=function(){return{height:"22px"}},Ai=function(){return{height:"14px",width:"150px"}},Li=function(){return{height:"22px",width:"100px",float:"right"}};function qi(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"div",94),y.Zb(2,"div",142),y.Zb(3,"span",96),y.Ub(4,"img"),y.Yb(),y.Zb(5,"div",98),y.Ub(6,"h2",35),y.Ub(7,"h4",35),y.Yb(),y.Zb(8,"div",101),y.Ub(9,"h3",35),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.rc("ngStyle",y.xc(4,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(5),y.rc("ngStyle",y.vc(7,Ui)),y.Hb(1),y.rc("ngStyle",y.vc(8,Ai)),y.Hb(2),y.rc("ngStyle",y.vc(9,Li))}}var $i=function(){return{height:"32px"}},ji=function(){return{height:"16px"}},Wi=function(){return{height:"14px"}};function Vi(e,r){if(1&e&&(y.Zb(0,"div",140),y.Zb(1,"div",25),y.Zb(2,"div",26),y.Zb(3,"div",27),y.Zb(4,"div",28),y.Ub(5,"p"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(6,"section",32),y.Zb(7,"div",26),y.Zb(8,"div",27),y.Zb(9,"div",89),y.Ub(10,"h4",141),y.Yb(),y.Zb(11,"div",49),y.Ub(12,"a"),y.Yb(),y.Yb(),y.Zb(13,"div",27),y.Zb(14,"div",28),y.Zb(15,"div",71),y.Zb(16,"div",72),y.Ub(17,"h2",35),y.Ub(18,"p",35),y.Ub(19,"h5",35),y.Yb(),y.Zb(20,"div",76),y.Ub(21,"h4",35),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(22,"div",27),y.Zb(23,"div",89),y.Oc(24,qi,10,10,"div",90),y.Yb(),y.Zb(25,"div",49),y.Zb(26,"div",50),y.Ub(27,"h3"),y.Xb(28),y.Zb(29,"h6"),y.Ub(30,"strong"),y.Yb(),y.Zb(31,"address"),y.Ub(32,"p"),y.Ub(33,"p"),y.Yb(),y.Wb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.Nc("background-color",t.style.backgroundColor),y.Hb(14),y.rc("ngStyle",y.xc(12,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(2),y.rc("ngStyle",y.vc(15,$i)),y.Hb(1),y.rc("ngStyle",y.vc(16,ji)),y.Hb(1),y.rc("ngStyle",y.vc(17,Wi)),y.Hb(2),y.rc("ngStyle",y.vc(18,Li)),y.Hb(3),y.rc("ngForOf",t.util.generateFakeList(2))("ngForTrackBy",t.trackByUtilGenerateFn),y.Hb(2),y.rc("ngStyle",y.xc(19,vt,t.style.cardBackgroundColor,t.style.secondaryColor)),y.Hb(5),y.Nc("color",t.style.baseColor)}}function Gi(e,r){if(1&e&&(y.Zb(0,"ul"),y.Zb(1,"li"),y.Qc(2),y.Yb(),y.Zb(3,"li"),y.Qc(4),y.Yb(),y.Zb(5,"li"),y.Qc(6),y.Yb(),y.Zb(7,"li"),y.Qc(8),y.Yb(),y.Zb(9,"li"),y.Qc(10),y.Yb(),y.Zb(11,"li"),y.Qc(12),y.lc(13,"date"),y.Yb(),y.Zb(14,"li"),y.Qc(15),y.Yb(),y.Zb(16,"li"),y.Qc(17),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(2),y.Sc("AWB No. : ",null==t.dhlData?null:t.dhlData.AWBNumber,""),y.Hb(2),y.Sc("Consignee Name : ",null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.ConsigneeName,""),y.Hb(2),y.Uc("Consignee Address : ",null==t.dhlData||null==t.dhlData.ShipmentInfo||null==t.dhlData.ShipmentInfo.Consignee?null:t.dhlData.ShipmentInfo.Consignee.City,", ",null==t.dhlData||null==t.dhlData.ShipmentInfo||null==t.dhlData.ShipmentInfo.Consignee?null:t.dhlData.ShipmentInfo.Consignee.CountryCode,", ",null==t.dhlData||null==t.dhlData.ShipmentInfo||null==t.dhlData.ShipmentInfo.Consignee?null:t.dhlData.ShipmentInfo.Consignee.PostalCode,""),y.Hb(2),y.Sc("Pieces : ",null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.Pieces,""),y.Hb(2),y.Tc("Weight : ",null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.Weight,"",null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.WeightUnit,""),y.Hb(2),y.Sc("Shipment Date : ",y.nc(13,12,null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.ShipmentDate,"medium"),""),y.Hb(3),y.Sc("Shipment Description : ",null==t.dhlData||null==t.dhlData.ShipmentInfo?null:t.dhlData.ShipmentInfo.ShipmentDesc,""),y.Hb(2),y.Tc("Status : ",null==t.dhlData||null==t.dhlData.ShipmentInfo||null==t.dhlData.ShipmentInfo.ShipmentEvent||null==t.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent?null:t.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent.Description," (",null==t.dhlData||null==t.dhlData.ShipmentInfo||null==t.dhlData.ShipmentInfo.ShipmentEvent||null==t.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent?null:t.dhlData.ShipmentInfo.ShipmentEvent.ServiceEvent.EventCode,")")}}function Xi(e,r){if(1&e){var t=y.ac();y.Zb(0,"app-image-viewer",143),y.gc("closeImageViewer",(function(e){return y.Hc(t),y.kc().closeImageViewer(e)})),y.Yb()}if(2&e){var n=y.kc();y.rc("viewImage",n.imageToView)}}function Ji(e,r){if(1&e){var t=y.ac();y.Zb(0,"app-special-instruction",144),y.gc("onProcess",(function(e){return y.Hc(t),y.kc().onProcessSpecialInstruction(e)})),y.Yb()}if(2&e){var n=y.kc();y.Mc(n.style),y.rc("special_instructions",n.special_instructions)("only_viewing",!0)("settings",n.settings)}}var Ki,el=((Ki=function(){function e(r,n,i,l,c,o,s,d,a,u,b,p,g){t(this,e),this.route=r,this.http=n,this.user=i,this.util=l,this.cartService=c,this.firebaseService=o,this.router=s,this.localization=d,this.message=a,this.seo=u,this.translate=b,this.firebaseAnalyticsSvc=p,this.location=g,this.orderIds=[],this.orderHistory=[],this.selectedOrder=0,this.currency="",this.showLine={isPlaced:!1,isShipped:!1,isNear:!1,isDelivered:!1},this.status=[],this.isLoading=!0,this.isPayOnline=!1,this.refundToWallet=0,this.isReturnProduct=!1,this.returnProductReason="",this.isEditOrder=!1,this.isAddItems=!1,this.dhlData="",this.userOrderStatus=0,this.total_delivery_charges=0,this.selected_currency=new te.b,this.is_special_instruction=!1,this.special_instructions="",this.freeProductQuantity=0,this.style=new m.a,this.currency=V.a.CURRENCY}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.seo.updateTitle("".concat(this.localization.transform("order")," Details | ").concat(V.a.SITE_NAME)),this.styleSubscription=this.util.getStyles.subscribe((function(r){e.style=r})),this.settingsSubscription=this.util.getSettings.subscribe((function(r){r&&(e.settings=r)})),this.subscribeRoute(),this.makeSubscribe(),this.getCurrentUser(),this.settings.is_multicurrency_enable&&this.getCurrency()}},{key:"getCurrentUser",value:function(){var e=this;this.userSubscription=this.user.currentUser.subscribe((function(r){e.currentUser=r}))}},{key:"makeSubscribe",value:function(){var e=this;this.getDataSubscribe=this.util.callGetData.subscribe((function(r){r&&e.getDetail()})),this.firebaseService.currentMessage.subscribe((function(r){r&&e.orderHistory&&e.orderHistory.length&&r.data.orderId==e.orderHistory[e.selectedOrder].order_id&&e.getDetail()}))}},{key:"subscribeRoute",value:function(){var e=this;this.subscription=this.route.queryParams.subscribe((function(r){e.orderIds=r.orderId}))}},{key:"getDetail",value:function(){var e=this;this.isLoading=!0;var r={languageId:parseInt(this.util.handler.languageId),accessToken:this.user.getUserToken,orderId:this.orderIds,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude};this.http.postData(g.a.orders.getOrderDetail,r).subscribe((function(r){r&&r.data&&(e.orderHistory=r.data.orderHistory,e.orderHistory.forEach((function(r){e.total_delivery_charges+=r.delivery_charges})),e.orderHistory&&(e.orderHistory.map((function(e){e.start_time=e.delivered_on,e.end_time=q(e.delivered_on).add(e.duration,"minutes")})),e.orderHistory.forEach((function(r){r.products=e.mapOrderProducts(r),r.products[0].is_appointment=1,r.questions&&(r.questions=JSON.parse(r.questions)),(r.discountAmount||r.gift_amount||r.wallet_discount_amount)&&(r.discountAmount=(parseFloat(r.discountAmount)||parseFloat(r.gift_amount)||parseFloat(r.wallet_discount_amount)).toFixed(2))}))),e.isLoading=!1)}),(function(r){return e.isLoading=!1}))}},{key:"mapOrderProducts",value:function(e){var r=this,t=[];return this.freeProductQuantity=0,e.product.forEach((function(e){if(e.adds_on&&e.adds_on.length){var n=W.a.groupBy(e.adds_on,"serial_number");if(Object.keys(n).length>1)for(var i in n){var l=n[i],c={quantity:l[0].quantity,data:r.makeCustomizationModel(l)},o=0;l.forEach((function(e){o+=Number(e.price)*e.quantity}));var s=Object.assign({},e);s.customization=c,s.quantity=l[0].quantity,s.freeQuantity=l[0].freeQuantity,s.totalPrice=parseFloat(s.fixed_price)*l[0].quantity+o,t.push(s)}else{e.customization={quantity:e.adds_on[0].quantity,data:r.makeCustomizationModel(e.adds_on)};var d=0;e.adds_on.forEach((function(e){d+=Number(e.price)*e.quantity})),e.totalPrice=parseFloat(e.fixed_price)*e.quantity+d,t.push(e)}}else e.totalPrice=parseFloat(e.fixed_price)*e.quantity,t.push(e);e.freeQuantity&&(r.freeProductQuantity+=e.freeQuantity)})),t}},{key:"makeCustomizationModel",value:function(e){var r=[],t=W.a.groupBy(e,"adds_on_name"),n=function(e){var n={name:e,value:[]};n.value=t[e].map((function(r){return{type_name:r.adds_on_type_name,name:e,type_id:r.adds_on_type_jd,id:r.id,price:r.price,adds_on_type_quantity:r.adds_on_type_quantity}})),r.push(n)};for(var i in t)n(i);return r}},{key:"addOnNames",value:function(e){return 0==e.adds_on_type_quantity?e.map((function(e){return""+e.type_name})).toString():e.map((function(e){return"".concat(e.type_name,"x").concat(e.adds_on_type_quantity)})).toString()}},{key:"toRateProduct",value:function(e){this.router.navigate(["orders/rating"],{queryParams:{productId:e.product_id,supplierBranchId:e.supplier_branch_id,orderId:this.orderIds,type:"product"}})}},{key:"toRateSupplier",value:function(e){this.router.navigate(["orders/rating"],{queryParams:{type:"supplier",supplierId:e.supplier_id,supplierBranchId:e.supplier_branch_id,categoryId:e.product[0].category_id,orderId:e.order_id}})}},{key:"toRateAgent",value:function(e){this.router.navigate(["orders/rating"],{queryParams:{type:"agent",agentId:e.agent[0].id,agentName:e.agent[0].name,agentImage:e.agent[0].image,supplierBranchId:e.supplier_branch_id,categoryId:e.product[0].category_id,orderId:e.order_id}})}},{key:"trackOrder",value:function(e){2!=this.settings.app_type?this.router.navigate(["/orders/track-order"],{queryParams:{orderId:e.order_id,lng:e.longitude,lat:e.latitude,a_lat:e.agent.length?e.agent[0].latitude:0,a_lng:e.agent.length?e.agent[0].longitude:0,selfPickup:e.self_pickup}}):this.message.alert("info",this.translate.instant("Coming Soon"))}},{key:"onCancel",value:function(e){var r=this;if(1==e.payment_type&&1==this.settings.wallet_module)return this.showWalletRefund();this.message.confirm("".concat(this.translate.instant("Cancel This")," ").concat(this.localization.transform("order"))).then((function(t){t.value&&r.cancelOrder(e)}))}},{key:"cancelOrder",value:function(e){var r=this;this.isLoading=!0;var t={languageId:this.util.handler.languageId,accessToken:this.user.getUserToken,orderId:e.order_id,isScheduled:e.schedule_order};t.cancel_to_wallet=1!=e.payment_type?1:this.refundToWallet,this.http.postData(g.a.orders.cancelOrder,t).subscribe((function(e){r.isLoading=!1,e&&e.data&&(r.message.toast("success","".concat(r.localization.transform("order")," ").concat(r.translate.instant("Cancelled Successfully"))),r.getDetail())}))}},{key:"showWalletRefund",value:function(){$("#walletRefund").modal("toggle")}},{key:"returnRequest",value:function(e){return Object(E.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(this.productToReturn=e,1!=this.orderHistory[this.selectedOrder].payment_type){r.next=2;break}return r.abrupt("return",(this.isReturnProduct=!0,void this.showWalletRefund()));case 2:return r.next=4,K.a.fire({input:"textarea",inputPlaceholder:"Type your reason here...",inputAttributes:{"aria-label":"Type your reason here"},confirmButtonColor:this.style.primaryColor,cancelButtonColor:this.style.secondaryColor,showCancelButton:!0});case 4:t=r.sent,(n=t.value)&&this.returnProductRequest(n);case 7:case"end":return r.stop()}}),r,this)})))}},{key:"returnProductRequest",value:function(e){var r=this;this.isReturnProduct=!1;var t={order_price_id:this.productToReturn.order_price_id,product_id:this.productToReturn.product_id,reason:e||this.returnProductReason};t.refund_to_wallet=1!=this.orderHistory[this.selectedOrder].payment_type.payment_type?1:this.refundToWallet,this.http.postData(g.a.orders.requestReturn,t).subscribe((function(e){e&&e.data&&(r.message.toast("success",r.localization.transform("product")+" return request generated successfully"),r.getDetail())}))}},{key:"onStatusChange",value:function(e){return Object(E.a)(this,void 0,void 0,regeneratorRuntime.mark((function r(){var t,n,i,l=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(4!=(t={order_id:this.orderHistory[this.selectedOrder].order_id,status:e,offset:q().format("Z")}).status){r.next=7;break}return r.next=4,K.a.fire({input:"textarea",inputPlaceholder:"Type your parking instruction here...",inputAttributes:{"aria-label":"Type your parking instruction here"},confirmButtonColor:this.style.primaryColor,cancelButtonColor:this.style.secondaryColor,showCancelButton:!0});case 4:n=r.sent,i=n.value,t.parking_instructions=i;case 7:this.isLoading=!0,this.http.postData(g.a.orders.changeOrderStatus,t).subscribe((function(e){e&&200==e.status&&(l.getDetail(),l.message.toast("success",""+l.translate.instant(l.localization.transform("order")+" Status Updated!"))),l.isLoading=!1}),(function(e){l.message.toast("error","".concat(l.translate.instant("Failed To Update")," ").concat(l.localization.transform("order")," ").concat(l.translate.instant("status"))),l.isLoading=!1}));case 8:case"end":return r.stop()}}),r,this)})))}},{key:"download",value:function(e){var r=document.createElement("a");document.body.appendChild(r),r.href=e.recipe_pdf,r.target="_blank",r.setAttribute("style","display: none"),r.download=e.name,r.click(),document.body.removeChild(r)}},{key:"onEditOrder",value:function(e){this.isEditOrder=!0,this.editOrder=Object.assign({},e),this.editOrder.products=e.products.map((function(e){return Object.assign({},e)})),this.editOrder.products.forEach((function(e){e.selectedQuantity=e.quantity})),this.getGeofenceData()}},{key:"getGeofenceData",value:function(){var e=this,r=this.orderHistory[this.selectedOrder].product.map((function(e){return e.product_id}));this.http.postData(g.a.checkProductList,{product_ids:r,latitude:this.orderHistory[this.selectedOrder].to_latitude,longitude:this.orderHistory[this.selectedOrder].to_longitude}).subscribe((function(r){if(r&&r.data){var t=r.data.result;e.orderHistory[e.selectedOrder].delivery_charges=r.data.region_delivery_charge,e.orderHistory[e.selectedOrder].handling_admin=0,e.orderHistory[e.selectedOrder].product.forEach((function(r){t.forEach((function(t){r.product_id==t.product_id&&(e.orderHistory[e.selectedOrder].handling_admin=+t.handling_admin,r.handling_admin=t.handling_admin)}))})),e.getTotal()}}))}},{key:"increaseValue",value:function(e){this.settings.enable_item_purchase_limit&&Number(e.purchase_limit)>0&&e.selectedQuantity>=Number(e.purchase_limit)?this.message.alert("info",this.translate.instant("Maximum Limit Reached")):8==this.editOrder.type?e.price_type?e.selectedQuantity+=e.duration/this.settings.interval:e.selectedQuantity=++e.selectedQuantity:(e.selectedQuantity||(e.selectedQuantity=e.quantity||0),e.selectedQuantity<=0?e.selectedQuantity=1:e.selectedQuantity++)}},{key:"decreaseValue",value:function(e){if(8==this.editOrder.type){if(e.price_type?e.selectedQuantity-=e.duration/this.settings.interval:e.selectedQuantity=--e.selectedQuantity,e.selectedQuantity<1)return void(this.editOrder.products=this.editOrder.products.filter((function(r){return(r.product_id||r.productId)!=(e.product_id||e.productId)})))}else{if(e.selectedQuantity||(e.selectedQuantity=e.quantity||0),e.selectedQuantity<=1)return void(this.editOrder.products=this.editOrder.products.filter((function(r){return(r.product_id||r.productId)!=(e.product_id||e.productId)})));e.selectedQuantity--}}},{key:"onProductAdd",value:function(e){var r=this;this.editOrder.products=e,this.isAddItems=!1,8==this.settings.app_type&&(this.editOrder.total_order_price=0,this.editOrder.products.forEach((function(e){r.editOrder.total_order_price+=parseFloat(e.fixed_price)*e.selectedQuantity})),this.getEditTotal())}},{key:"onAddItems",value:function(){var e=this,r={sectionId:0,orderId:this.editOrder.order_id,handlingAdmin:this.editOrder.handling_admin,userServiceCharge:0},t=[];this.orderHistory[this.selectedOrder].products.forEach((function(r){e.editOrder.products.find((function(e){return(e.product_id||e.productId)==(r.product_id||r.productId)}))?8==e.settings.app_type&&e.editOrder.products.find((function(e){return(e.product_id||e.productId)!=(r.product_id||r.productId)}))&&t.push(r.order_price_id):t.push(r.order_price_id)})),t&&t.length&&(r.removalItems=t),8!=this.editOrder.type&&8!=this.settings.app_type||(r.duration=0),r.items=this.editOrder.products.map((function(t){var n={price:t.fixed_price,quantity:t.selectedQuantity,productName:t.product_name||t.name,productId:t.product_id||t.productId,branchId:e.editOrder.supplier_branch_id,productDesc:t.product_desc,imagePath:t.image_path,orderPriceId:t.order_price_id};return 0==t.is_product?t.price_type?(r.pricing_type=1,r.duration+=e.settings.interval*t.selectedQuantity):(r.pricing_type=0,r.duration+=t.duration*t.selectedQuantity):1==t.price_type&&(r.pricing_type=1,r.duration+=60*t.selectedQuantity),n}));var n=0;this.editOrder.products.forEach((function(r){var t=e.cartService.calulateProductPrice(r);n+=t*r.handling_admin/100})),8==this.settings.app_type&&this.editOrder.addOn&&(n+=this.editOrder.addOn*this.editOrder.products[0].handling_admin/100),r.handlingAdmin=n;var i=r.items.reduce((function(e,r){return Number(r.price)+e}),0);1==this.settings.supplier_service_fee&&this.editOrder.user_service_charge&&(r.userServiceCharge=this.editOrder.user_service_charge/100*i),this.isLoading=!0,this.http.postData(g.a.orders.addItems,r).subscribe((function(r){r&&200==r.status&&e.getDetail(),e.isLoading=!1,e.isEditOrder=!1}),(function(r){return e.isLoading=!1}))}},{key:"getTotal",value:function(){this.orderHistory[this.selectedOrder].net_amount=this.orderHistory[this.selectedOrder].total_order_price+this.orderHistory[this.selectedOrder].delivery_charges+this.orderHistory[this.selectedOrder].handling_admin+this.orderHistory[this.selectedOrder].user_service_charge+this.orderHistory[this.selectedOrder].tip_agent+this.orderHistory[this.selectedOrder].slot_price-(this.orderHistory[this.selectedOrder].loyality_point_discount+this.orderHistory[this.selectedOrder].wallet_discount_amount+this.orderHistory[this.selectedOrder].referral_amount+this.orderHistory[this.selectedOrder].discountAmount)}},{key:"getEditTotal",value:function(){var e=this,r=0;this.editOrder.products.forEach((function(t){var n=e.cartService.calulateProductPrice(t);r+=n*t.handling_admin/100})),8==this.settings.app_type&&this.editOrder.addOn&&(r+=this.editOrder.addOn*this.editOrder.products[0].handling_admin/100),this.editOrder.handling_admin=r,this.editOrder.net_amount=this.editOrder.total_order_price+this.editOrder.delivery_charges+this.editOrder.handling_admin+this.editOrder.user_service_charge+this.editOrder.addOn+this.editOrder.tip_agent+this.editOrder.slot_price-(this.editOrder.loyality_point_discount+this.editOrder.wallet_discount_amount+this.editOrder.referral_amount+this.editOrder.discountAmount)}},{key:"dhlStatus",value:function(){var e=this;this.http.postData(g.a.orders.trackDHL,{orderId:this.orderHistory[this.selectedOrder].order_id}).subscribe((function(r){r&&r.data&&(e.dhlData=r.data,$("#dhl_status").modal("toggle"))}))}},{key:"onSOSNotification",value:function(){var e=this,r={user_id:this.currentUser.id,device_type:3};this.isLoading=!0,this.location.openTracker().subscribe((function(t){r.address=t.address,r.latitude=t.lat,r.longitude=t.lng,e.http.postData(g.a.sosAlertNotification,r).subscribe((function(r){e.isLoading=!1,r&&r.data&&e.message.toast("success","SOS notification sent successfuly")}),(function(r){e.isLoading=!1}))}),(function(r){e.message.alert("error",r.message)}))}},{key:"itemSelection",value:function(){this.isAddItems=!0,this.util.diableCart.next(!0)}},{key:"downloadReceipt",value:function(e){this.imageToView=e,this.openImageViewer=!0}},{key:"closeImageViewer",value:function(e){this.openImageViewer=e}},{key:"zoomAuth",value:function(){var e=this;this.isLoading=!0,this.http.getData(g.a.zoom_auth).subscribe((function(r){200==r.status?e.createZoomMeeting(r.data):e.message.toast("error","Zoom authentication failed"),e.isLoading=!1}))}},{key:"createZoomMeeting",value:function(e){var r=this;this.isLoading=!0;var t={zoom_email:e.zoom_email,token:e.token,topic:"Order Meeting",type:5,start_time:new Date,duration:60,end_date_time:this.orderHistory[this.selectedOrder].schedule_date};this.http.postData(g.a.zoom_create_meeting,t).subscribe((function(e){200==e.status?(r.message.toast("success","Zoom meeting created"),r.getDetail(),r.joinZoomMeeting(e.data.start_url)):r.message.toast("error","Failed to create zoom meeting"),r.isLoading=!1}))}},{key:"joinZoomMeeting",value:function(e){window.open(e)}},{key:"listenAgentBio",value:function(e){window.open(e)}},{key:"trackByOrderHistoryFn",value:function(e,r){return r}},{key:"trackByCustomizationFn",value:function(e,r){return r}},{key:"trackByVariantsFn",value:function(e,r){return r}},{key:"trackByEditOrderFn",value:function(e,r){return r}},{key:"trackByUtilGenerateFn",value:function(e,r){return r}},{key:"getCurrency",value:function(){var e=this;this.util.getSelectedCurrency.subscribe((function(r){r&&(e.selected_currency=r,e.currency=e.selected_currency.currency_symbol)}))}},{key:"showSpecialInstruction",value:function(e){this.special_instructions=e.special_instructions||"No Special Instructions",this.is_special_instruction=!0}},{key:"onProcessSpecialInstruction",value:function(e){this.is_special_instruction=!1}},{key:"ngOnDestroy",value:function(){this.styleSubscription.unsubscribe(),this.subscription.unsubscribe(),this.getDataSubscribe.unsubscribe(),this.settingsSubscription.unsubscribe(),this.firebaseSubscription&&this.firebaseSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ki)(y.Tb(ne.a),y.Tb(b.a),y.Tb(L.a),y.Tb(p.a),y.Tb(U.a),y.Tb(X.a),y.Tb(ne.g),y.Tb(Z.a),y.Tb(a.a),y.Tb(A.a),y.Tb(Y.e),y.Tb(ee.a),y.Tb(re.a))},Ki.\u0275cmp=y.Nb({type:Ki,selectors:[["app-order-detail"]],decls:41,vars:18,consts:[[4,"ngIf","ngIfElse"],["id","walletRefund",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"close",3,"click"],[1,"modal-body"],["class","form-group",4,"ngIf"],[1,"form-check-inline"],["for","radio1",1,"form-check-label"],["type","radio","id","radio1","name","refund",1,"form-check-input",3,"value","ngModel","checked","ngModelChange"],[1,"check-span"],["for","radio2",1,"form-check-label"],["type","radio","id","radio2","name","refund",1,"form-check-input",3,"value","ngModel","checked","ngModelChange"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-success",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-danger",3,"click"],["skeleton",""],["id","dhl_status",1,"modal","fade"],["type","button","data-dismiss","modal",1,"close"],[4,"ngIf"],[3,"viewImage","closeImageViewer",4,"ngIf"],[3,"special_instructions","only_viewing","style","settings","onProcess",4,"ngIf"],[3,"settings","style","orderType","supplierId","selectedProducts","onBack","onAdd",4,"ngIf"],[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)"],["href","javascript:void(0)",3,"routerLink"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"row","cancel-order-outter","align-items-center"],[1,"col-md-4","text-sm-left","text-center"],[3,"ngStyle"],[1,"col-sm-8","d-flex","justify-content-sm-end","justify-content-center","mb-3","mt-3"],[3,"style","settings","order","paymentComplete",4,"ngIf"],["class","btn cancel-order","style","margin-right: 10px;","type","submit",3,"ngStyle","click",4,"ngIf"],["class","btn cancel-order","type","submit",3,"ngStyle","click",4,"ngIf"],["class","btn cancel-order",3,"ngStyle","click",4,"ngIf"],[3,"style","order","settings",4,"ngIf"],[1,"col-md-9"],["class","col-md-3",4,"ngIf"],["class","fa fa-arrow-left arrow-left cursor",3,"color","click",4,"ngIf"],["class","fa fa-long-arrow-right arrow-right cursor",3,"color","click",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],["singleVendor",""],["class","col-md-8",4,"ngIf"],[1,"col-md-4"],[1,"track_order_outter_detail",3,"ngStyle"],[4,"ngIf","ngIfThen"],["deliver",""],["selfPick",""],["dininBooking",""],["vehicleNo",""],["class","track_order_outter_detail",3,"ngStyle",4,"ngIf"],[3,"settings","order","paymentComplete"],["type","submit",1,"btn","cancel-order",2,"margin-right","10px",3,"ngStyle","click"],["type","submit",1,"btn","cancel-order",3,"ngStyle","click"],[1,"btn","cancel-order",3,"ngStyle","click"],[3,"order","settings"],[1,"col-md-3"],[1,"form-group"],["for","exampleFormControlSelect2"],[1,"form-control",2,"box-shadow","none",3,"ngModel","ngModelChange","change"],["disabled","","selected","",3,"value"],[3,"value","selected","disabled"],[3,"value","selected","disabled",4,"ngIf"],[1,"fa","fa-arrow-left","arrow-left","cursor",3,"click"],[1,"fa","fa-long-arrow-right","arrow-right","cursor",3,"click"],[1,"order-supplier",3,"ngStyle"],[1,"supplier-info"],[1,"capitalize",3,"ngStyle"],[3,"ngStyle",4,"ngIf"],[3,"color",4,"ngIf"],[1,"order-status"],[1,"order_track_buttons"],[3,"ngStyle","click",4,"ngIf"],["class","cursor",3,"color","click",4,"ngIf"],[3,"receiver_created_id","order",4,"ngIf"],["aria-hidden","true",1,"fa","fa-map-marker","mr-1"],[3,"ngStyle","click"],["style","padding: 0px;",4,"ngIf"],[2,"padding","0px"],[1,"cursor",3,"click"],["aria-hidden","true",1,"fa","fa-star"],[3,"receiver_created_id","order"],[1,"single-supplier-info"],[1,"col-md-8"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","order-detail"],[3,"questions","style","cartPrice",4,"ngIf"],["class","order-instruction",4,"ngIf"],[1,"track_order_outter","food_track_order_outer",3,"ngStyle"],[1,"track_order_name_detail",2,"position","relative"],[1,"track_order_img"],["appImage","",3,"url","size","src","settings"],[1,"track_order_name"],[3,"color",4,"ngIf","ngIfElse"],["other_content",""],[1,"tracker_order_price"],["class","cursor instruction mr-4",3,"color","click",4,"ngIf"],["type","button","class","return-request",3,"color","click",4,"ngIf"],["class","return-status",4,"ngIf"],[1,"track_order_number","food_track_order"],[1,"cart-product-addon"],["opacity","0.5",3,"color",4,"ngFor","ngForOf","ngForTrackBy"],["opacity","0.5"],[3,"ngIf","ngIfElse"],["color",""],[1,"mb-0"],[1,"cart-color-varient"],[1,"image_view",3,"click"],[1,"cursor","instruction","mr-4",3,"click"],[1,"download-file",3,"click"],["type","button",1,"return-request",3,"click"],[1,"return-status"],[3,"questions","cartPrice"],[1,"order-instruction"],[3,"settings","priceType","isProduct","selectedQuantity","onAdd","onRemove"],["aria-hidden","true",1,"fa","fa-car","mr-1"],[3,"settings","order"],[1,"text-uppercase"],["class","float-right","style","font-size: 12px; float: right;","class","cursor",3,"color","click",4,"ngIf"],[1,"billing-info"],[1,"bill-list"],[1,"row","no-gutters","word-break"],[1,"col-md-5","col-6"],[1,"col-md-7","col-6","word","capitalize"],[1,"cursor",2,"font-size","12px","float","right",3,"click"],[1,"col-md-7","col-6","word"],["class","billing-info",4,"ngIf"],["style","font-size: 15px; font-weight: 600;",3,"color",4,"ngIf"],[2,"font-size","15px","font-weight","600"],[1,"uppercase"],[1,"float-right"],[3,"settings","orderType","supplierId","selectedProducts","onBack","onAdd"],["for","comment"],["rows","5","id","comment","name","reason",1,"form-control",3,"ngModel","ngModelChange"],[1,"skeleton"],[1,"mb-4"],[1,"track_order_name_detail"],[3,"viewImage","closeImageViewer"],[3,"special_instructions","only_viewing","settings","onProcess"]],template:function(e,r){if(1&e&&(y.Oc(0,zi,3,2,"ng-container",0),y.Zb(1,"div",1),y.Zb(2,"div",2),y.Zb(3,"div",3),y.Zb(4,"div",4),y.Zb(5,"h4",5),y.Qc(6,"Refund Payment To"),y.Yb(),y.Zb(7,"button",6),y.gc("click",(function(){return r.isReturnProduct=!1})),y.Yb(),y.Yb(),y.Zb(8,"div",7),y.Zb(9,"form"),y.Oc(10,Ei,4,1,"div",8),y.Zb(11,"div",9),y.Zb(12,"label",10),y.Qc(13),y.lc(14,"translate"),y.Zb(15,"input",11),y.gc("ngModelChange",(function(e){return r.refundToWallet=e})),y.Yb(),y.Ub(16,"span",12),y.Yb(),y.Yb(),y.Zb(17,"div",9),y.Zb(18,"label",13),y.Qc(19),y.lc(20,"translate"),y.Zb(21,"input",14),y.gc("ngModelChange",(function(e){return r.refundToWallet=e})),y.Yb(),y.Ub(22,"span",12),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(23,"div",15),y.Zb(24,"button",16),y.gc("click",(function(){return r.isReturnProduct?r.returnProductRequest():r.cancelOrder(r.orderHistory[r.selectedOrder])})),y.Qc(25,"Submit"),y.Yb(),y.Zb(26,"button",17),y.gc("click",(function(){return r.isReturnProduct=!1})),y.Qc(27,"Close"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Oc(28,Vi,34,22,"ng-template",null,18,y.Pc),y.Zb(30,"div",19),y.Zb(31,"div",2),y.Zb(32,"div",3),y.Zb(33,"div",4),y.Zb(34,"h4",5),y.Qc(35,"DHL Shipment Status"),y.Yb(),y.Ub(36,"button",20),y.Yb(),y.Zb(37,"div",7),y.Oc(38,Gi,18,15,"ul",21),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Oc(39,Xi,1,1,"app-image-viewer",22),y.Oc(40,Ji,1,5,"app-special-instruction",23)),2&e){var t=y.Ec(29);y.rc("ngIf",!r.isLoading)("ngIfElse",t),y.Hb(10),y.rc("ngIf",r.isReturnProduct),y.Hb(3),y.Sc("",y.mc(14,14,"Initial Payment Source")," "),y.Hb(2),y.rc("value",0)("ngModel",r.refundToWallet)("checked",!r.refundToWallet),y.Hb(4),y.Sc("",y.mc(20,16,"Wallet")," "),y.Hb(2),y.rc("value",1)("ngModel",r.refundToWallet)("checked",r.refundToWallet),y.Hb(17),y.rc("ngIf",r.dhlData),y.Hb(1),y.rc("ngIf",r.openImageViewer),y.Hb(1),y.rc("ngIf",r.is_special_instruction)}},directives:[h.m,ie.y,ie.o,ie.p,ie.t,ie.b,ie.n,ie.q,ne.j,h.n,pe,ye,ie.v,ie.r,ie.x,fe.a,h.l,Oe,ke.a,Ye.a,Ze.a,Je,Yr,Zr.a,Ir.a],pipes:[Y.d,Z.a,Ie,h.e,Cr,Sr,Qr.a,Tr,wr.a],styles:['.charges[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:14px}.charges[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:0!important}.billing-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:13px;text-transform:uppercase;font-weight:400}.billing-info[_ngcontent-%COMP%]   .cancel-order[_ngcontent-%COMP%]{background-color:#000!important;color:#fff!important}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]{list-style:none;padding-left:0!important;line-height:28px;font-size:14px}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right}.billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;display:inline-block}.word-break[_ngcontent-%COMP%]{word-break:break-all}.word-break[_ngcontent-%COMP%]   .word[_ngcontent-%COMP%]{text-align:right}.addOnTable[_ngcontent-%COMP%]{margin:15px}.order-instruction[_ngcontent-%COMP%]{margin-top:20px;border:1px solid var(--secondaryColor);border-radius:4px;padding:10px}.order-instruction[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px dashed var(--secondaryColor);color:var(--primaryColor);padding-bottom:10px}.order-instruction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--baseColor);opacity:.8}.return-request[_ngcontent-%COMP%]{font-weight:600}.download-file[_ngcontent-%COMP%]{font-size:12px;cursor:pointer;text-transform:lowercase;color:var(--primaryColor);font-weight:700}.download-file[_ngcontent-%COMP%]:hover{text-decoration:underline;color:var(--primaryColor)}.btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:var(--primaryColor);border-color:var(--primaryColor)}.form-check-label[_ngcontent-%COMP%]{position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%;float:left}.form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.check-span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:25px;width:25px;border-radius:50%;border:2px solid var(--primaryColor)}.check-span[_ngcontent-%COMP%], .form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .check-span[_ngcontent-%COMP%]{background-color:#fff}.check-span[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none}.form-check-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .check-span[_ngcontent-%COMP%]:after{display:block}.form-check-label[_ngcontent-%COMP%]   .check-span[_ngcontent-%COMP%]:after{left:2px;top:2px;width:17px;height:17px;background:var(--primaryColor);border-radius:50%}.form-check-inline[_ngcontent-%COMP%]{align-items:center;padding-left:0;margin-right:.75rem;float:left;width:25%}.form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:var(--primaryColor);outline:0;box-shadow:0 0 0 .2rem rgba(0,123,255,.25)}html[lang=ar][_ngcontent-%COMP%]   .track_order_outter_detail[_ngcontent-%COMP%]   .billing-info[_ngcontent-%COMP%]   .bill-list[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:left!important}.image_view[_ngcontent-%COMP%]{cursor:pointer}.image_view[_ngcontent-%COMP%]:hover{text-decoration:underline}.instruction[_ngcontent-%COMP%]{font-size:11px;font-weight:500;position:absolute;right:12em}.instruction[_ngcontent-%COMP%]:hover{text-decoration:underline}'],data:{animation:[Object(G.m)("fade",[Object(G.l)("void => *",[Object(G.k)({opacity:0}),Object(G.e)("500ms ease-in-out",Object(G.k)({opacity:1}))])])]}}),Ki),rl=l("hOUv");function tl(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.Sc(" ",y.oc(2,1,null==t.order?null:t.order.created_on,"medium","+000"),"")}}function nl(e,r){if(1&e&&(y.Zb(0,"div",14),y.Zb(1,"div",18),y.Zb(2,"p",19),y.Zb(3,"strong"),y.Qc(4),y.lc(5,"translate"),y.Yb(),y.Zb(6,"span",20),y.Qc(7),y.Yb(),y.Yb(),y.Zb(8,"p"),y.Zb(9,"strong"),y.Qc(10),y.lc(11,"translate"),y.Yb(),y.Qc(12),y.Yb(),y.Yb(),y.Yb()),2&e){var t=r.$implicit,n=y.kc();y.Hb(2),y.Nc("color",n.style.baseColor),y.Hb(2),y.Sc("",8==n.order.type?"Service:":y.mc(5,9,"Item:")," "),y.Hb(2),y.rc("title",null==t?null:t.name),y.Hb(1),y.Rc(null==t?null:t.name),y.Hb(1),y.Nc("color",n.style.baseColor),y.Hb(2),y.Rc(y.mc(11,11,"Quantity:")),y.Hb(2),y.Sc(" ",null==t?null:t.quantity," ")}}function il(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"date"),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Sc(" ",y.oc(2,1,null==t.order?null:t.order.delivered_on,"medium","+000")," ")}}var ll=function(){return[5,6]};function cl(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"date"),y.lc(3,"date"),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Sc(" ",8==(null==t.settings?null:t.settings.app_type)?y.oc(2,1,null==t.order?null:t.order.delivered_on,"medium","+000"):y.vc(9,ll).includes(null==t.order?null:t.order.status)?y.oc(3,5,null==t.order?null:t.order.delivered_on,"medium","+000"):(null==t.order?null:t.order.delivery_min_time)+" min to "+(null==t.order?null:t.order.delivery_max_time)+" min"," ")}}function ol(e,r){if(1&e&&(y.Zb(0,"span"),y.Zb(1,"p"),y.Qc(2),y.lc(3,"translate"),y.Yb(),y.Oc(4,il,3,5,"p",8),y.Oc(5,cl,4,10,"p",8),y.Yb()),2&e){var t=y.kc();y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc(" ",8==t.order.type?"Service date":y.vc(7,ll).includes(null==t.order?null:t.order.status)?"Delivered On:":y.mc(3,5,"Expected Delivery On:")," "),y.Hb(2),y.rc("ngIf",0==t.settings.show_expected_delivery_between),y.Hb(1),y.rc("ngIf",1==t.settings.show_expected_delivery_between)}}function sl(e,r){if(1&e){var t=y.ac();y.Zb(0,"a",21),y.gc("click",(function(){return y.Hc(t),y.kc().cancel.emit()})),y.Qc(1),y.lc(2,"translate"),y.lc(3,"translate"),y.lc(4,"localization"),y.Yb()}if(2&e){var n=y.kc();y.rc("ngStyle",n.cancelButton),y.Hb(1),y.Tc("",y.mc(2,3,"Cancel")," ",y.mc(3,5,y.nc(4,7,"order",null==n.order?null:n.order.type)),"")}}var dl,al=function(e,r){return{"background-color":e,"border-color":r}},ul=function(){return[2,5,6,8]},bl=((dl=function(){function e(r){t(this,e),this.router=r,this.cancel=new y.q,this.currency=V.a.CURRENCY,this.cancelButton=new ge.a}return i(e,[{key:"ngOnInit",value:function(){this.cancelButton.color=this.style.primaryColor,this.cancelButton.borderColor=this.style.primaryColor,this.cancelButton.backgroundColor="#ffffff"}},{key:"ngOnChanges",value:function(e){e.style&&(this.cancelButton.color=this.style.primaryColor,this.cancelButton.borderColor=this.style.primaryColor)}},{key:"makeProductCount",value:function(e){var r=0;for(var t in e)r+=e[t].quantity;return r}},{key:"orderPrice",value:function(e){var r=parseFloat(e.net_amount);return r=parseFloat(e.net_amount)+parseFloat(e.tip_agent)-parseFloat(e.discountAmount)-parseFloat(e.referral_amount),1==this.settings.supplier_service_fee&&e.user_service_charge&&(r+=e.user_service_charge/100*r),r?r.toFixed(2):r}},{key:"orderDetail",value:function(e){this.router.navigate(["/orders/order-detail"],{queryParams:{orderId:[e.order_id]}})}},{key:"trackByProductFn",value:function(e,r){return r}}]),e}()).\u0275fac=function(e){return new(e||dl)(y.Tb(ne.g))},dl.\u0275cmp=y.Nb({type:dl,selectors:[["app-order-list-item"]],inputs:{style:"style",settings:"settings",order:"order"},outputs:{cancel:"cancel"},features:[y.Fb],decls:39,vars:46,consts:[[1,"track_order_outter",3,"ngStyle"],[1,"head"],[1,"row","no-gutters"],[1,"col"],[1,"float-left"],[1,"float-right"],[1,"row","order","align-items-baseline","no-gutters"],[1,"float-left","date"],[4,"ngIf"],[1,"body"],[1,"row","item-row","mt-2"],["class","col-md-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"foot"],[1,"row","align-items-center"],[1,"col-md-6"],[3,"color",4,"ngIf"],["class","float-right cancel-btn margin-left-10",3,"ngStyle","click",4,"ngIf"],[1,"float-right","cancel-btn",3,"ngStyle","click"],[1,"item-column"],[1,"ellipsis"],["data-toggle","tooltip",3,"title"],[1,"float-right","cancel-btn","margin-left-10",3,"ngStyle","click"]],template:function(e,r){1&e&&(y.Xb(0),y.Zb(1,"div",0),y.Zb(2,"div",1),y.Zb(3,"div",2),y.Zb(4,"div",3),y.Zb(5,"h5",4),y.lc(6,"orderStatusColor"),y.Qc(7),y.lc(8,"orderStatus"),y.Yb(),y.Yb(),y.Zb(9,"div",3),y.Zb(10,"h5",5),y.Qc(11),y.lc(12,"translate"),y.Yb(),y.Yb(),y.Yb(),y.Zb(13,"div",6),y.Zb(14,"div",3),y.Zb(15,"div",7),y.Zb(16,"p"),y.Qc(17),y.lc(18,"translate"),y.Yb(),y.Oc(19,tl,3,5,"p",8),y.Yb(),y.Yb(),y.Zb(20,"div",3),y.Zb(21,"p",5),y.Qc(22),y.lc(23,"translate"),y.lc(24,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(25,"div",9),y.Zb(26,"div",10),y.Oc(27,nl,13,13,"div",11),y.Yb(),y.Yb(),y.Zb(28,"div",12),y.Zb(29,"div",13),y.Zb(30,"div",14),y.Zb(31,"div",7),y.Oc(32,ol,6,8,"span",15),y.Yb(),y.Yb(),y.Zb(33,"div",14),y.Zb(34,"div"),y.Oc(35,sl,5,10,"a",16),y.Zb(36,"a",17),y.gc("click",(function(){return r.orderDetail(r.order)})),y.Qc(37),y.lc(38,"translate"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Wb()),2&e&&(y.Hb(1),y.rc("ngStyle",y.xc(42,al,r.style.cardBackgroundColor,r.style.secondaryColor)),y.Hb(4),y.Nc("color",y.mc(6,26,null==r.order?null:r.order.status)),y.Hb(2),y.Sc(" ",y.nc(8,28,null==r.order?null:r.order.status,r.order),""),y.Hb(3),y.Nc("color",r.style.primaryColor),y.Hb(1),y.Vc(" ",r.currency," ",null==r.order?null:r.order.net_amount.toFixed(null==r.settings?null:r.settings.price_decimal_length),", ",r.makeProductCount(null==r.order?null:r.order.product)," ",8==r.order.type?"Service(s)":y.mc(12,31,"item(s)")," "),y.Hb(4),y.Nc("color",r.style.baseColor),y.Hb(2),y.Rc(8==r.order.type?"Booked On":y.mc(18,33,"Placed On")),y.Hb(2),y.rc("ngIf",r.order.created_on&&"Invalid date"!=r.order.created_on),y.Hb(2),y.Nc("color",r.style.baseColor),y.Hb(1),y.Tc(" ",y.mc(23,35,y.nc(24,37,"order",null==r.order?null:r.order.type)+" No:")," ",null==r.order?null:r.order.order_id,""),y.Hb(5),y.rc("ngForOf",null==r.order?null:r.order.product)("ngForTrackBy",r.trackByProductFn),y.Hb(4),y.Nc("color",r.style.defaultColor),y.Hb(1),y.rc("ngIf","Invalid date"!=(null==r.order?null:r.order.delivered_on)&&1!=(null==r.order?null:r.order.self_pickup)&&"0000-00-00 00:00:00"!=(null==r.order?null:r.order.delivered_on)),y.Hb(3),y.rc("ngIf",!y.vc(45,ul).includes(null==r.order?null:r.order.status)&&0==(null==r.settings?null:r.settings.disable_user_cancel_order)&&(0==(null==r.order?null:r.order.status)&&0==(null==r.settings?null:r.settings.disbale_user_cancel_pending_order)||0!=(null==r.order?null:r.order.status)&&0==(null==r.settings?null:r.settings.disable_user_cancel_after_confirm))),y.Hb(1),y.rc("ngStyle",r.cancelButton),y.Hb(1),y.Rc(y.mc(38,40,"View Details")))},directives:[h.n,h.m,h.l],pipes:[Cr,Ie,Y.d,Z.a,h.e],encapsulation:2}),dl);function pl(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",14),y.Zb(1,"app-order-list-item",15),y.gc("cancel",(function(){y.Hc(t);var e=r.$implicit;return y.kc(3).cancelOrder(e)})),y.Yb(),y.Yb()}if(2&e){var n=r.$implicit,i=y.kc(3);y.Hb(1),y.Mc(i.style),y.rc("order",n)("settings",i.settings)}}function gl(e,r){if(1&e){var t=y.ac();y.Zb(0,"div",16),y.Zb(1,"pagination-controls",17),y.gc("pageChange",(function(e){return y.Hc(t),y.kc(3).pageChange(e)})),y.Yb(),y.Yb()}if(2&e){var n=y.kc(3);y.Hb(1),y.Nc("color",n.style.primaryColor)}}var yl=function(e,r,t){return{itemsPerPage:e,currentPage:r,totalItems:t}};function fl(e,r){if(1&e&&(y.Zb(0,"div",2),y.Oc(1,pl,2,4,"div",12),y.lc(2,"paginate"),y.Oc(3,gl,2,2,"div",13),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.rc("ngForOf",y.nc(2,3,t.orders,y.yc(6,yl,t.pagination.perPageOrder,t.pagination.currentPage,t.pagination.count)))("ngForTrackBy",t.trackByOrderFn),y.Hb(2),y.rc("ngIf",t.pagination.count>t.pagination.perPageOrder)}}function hl(e,r){if(1&e&&(y.Zb(0,"div",18),y.Zb(1,"h1"),y.Qc(2),y.lc(3,"translate"),y.lc(4,"localization"),y.lc(5,"translate"),y.Yb(),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Uc("",y.mc(3,5,"No")," ",y.mc(4,7,"order")," ",y.mc(5,9,"Found"),"")}}function vl(e,r){if(1&e&&(y.Xb(0),y.Oc(1,fl,4,10,"div",10),y.Oc(2,hl,6,11,"div",11),y.Wb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngIf",t.pagination.count>0),y.Hb(1),y.rc("ngIf",!t.pagination.count&&t.noData)}}function ml(e,r){if(1&e&&(y.Zb(0,"div",20),y.Ub(1,"app-order-list-item-skeleton",21),y.Yb()),2&e){var t=y.kc(2);y.Hb(1),y.Mc(t.style),y.rc("settings",t.settings)}}function _l(e,r){if(1&e&&(y.Zb(0,"div",2),y.Oc(1,ml,2,3,"div",19),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.rc("ngForOf",t.util.generateFakeList(6))("ngForTrackBy",t.trackByFakeListFn)}}var Hl=function(e,r){return{color:e,"border-color":r,opacity:1}},Ol=function(e,r){return{color:e,"border-color":r,opacity:.5}};function kl(e,r){1&e&&y.Ub(0,"app-processing-indicator")}function Yl(e,r){if(1&e&&(y.Zb(0,"p"),y.Qc(1),y.lc(2,"localization"),y.Zb(3,"span"),y.Qc(4),y.Yb(),y.Yb()),2&e){var t=y.kc(2);y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("",y.mc(2,6,"supplier"),":"),y.Hb(2),y.Nc("color",t.style.primaryColor),y.Hb(1),y.Sc(" ",null==t.product?null:t.product.supplier_name," ")}}function Zl(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"h3"),y.Qc(2),y.Yb(),y.Oc(3,Yl,5,8,"p",16),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("","product"===t.type?null==t.product?null:t.product.name:null==t.product?null:t.product.supplier_name," "),y.Hb(1),y.rc("ngIf","product"===t.type)}}function Il(e,r){if(1&e&&(y.Zb(0,"h5"),y.Ub(1,"i",17),y.Qc(2),y.Yb()),2&e){var t=y.kc(2);y.Nc("color",t.style.baseColor),y.Hb(2),y.Sc(" ",t.supplier.address,"")}}function Cl(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"h3"),y.Qc(2),y.Yb(),y.Oc(3,Il,3,3,"h5",16),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Rc(null==t.supplier?null:t.supplier.name),y.Hb(1),y.rc("ngIf",null==t.supplier?null:t.supplier.address)}}function Sl(e,r){if(1&e&&(y.Zb(0,"div"),y.Zb(1,"h3"),y.Qc(2),y.Yb(),y.Yb()),2&e){var t=y.kc();y.Hb(1),y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("",t.agentName," ")}}function Ql(e,r){if(1&e){var t=y.ac();y.Zb(0,"input",18),y.gc("ngModelChange",(function(e){return y.Hc(t),y.kc().title=e})),y.lc(1,"translate"),y.Yb()}if(2&e){var n=y.kc();y.sc("placeholder",y.mc(1,2,"Title for your review")),y.rc("ngModel",n.title)}}var Tl=function(e,r){return{"background-color":e,"border-color":r}},wl=function(){return[1,2,3,4,5]},Pl=function(){return[2,3,4,5]},Dl=function(){return[3,4,5]},xl=function(){return[4,5]};function Nl(e,r){if(1&e&&(y.Zb(0,"h3",13),y.Qc(1),y.lc(2,"localization"),y.Yb()),2&e){var t=y.kc();y.Nc("color",t.style.baseColor),y.Hb(1),y.Sc("Track ",y.mc(2,3,"agent"),"")}}function Fl(e,r){if(1&e&&(y.Zb(0,"h3",13),y.Qc(1),y.lc(2,"localization"),y.lc(3,"translate"),y.Yb()),2&e){var t=y.kc();y.Nc("color",t.style.baseColor),y.Hb(1),y.Tc("",y.mc(2,4,"supplier")," ",y.mc(3,6,"location"),"")}}function Rl(e,r){if(1&e&&(y.Zb(0,"h4",14),y.Qc(1),y.lc(2,"translate"),y.Yb()),2&e){var t=y.kc();y.Nc("color",t.style.primaryColor),y.Hb(1),y.Tc("",y.mc(2,4,"Estimated Time Of Arrival")," : ",null==t.location?null:t.location.estimatedTimeInMinutes,"")}}function Ml(e,r){if(1&e&&(y.Zb(0,"p",13),y.Qc(1),y.lc(2,"localization"),y.Yb()),2&e){var t=y.kc();y.Nc("color",t.style.baseColor),y.Hb(1),y.Tc("",y.mc(2,4,"order")," No: ",null==t.location?null:t.location.order_id,"")}}var Bl,zl,El,Ul,Al,Ll=function(){return["/orders/order-detail"]},ql=function(e){return{orderId:e}},$l=[{path:"order-detail",component:el,data:{title:"Track order",description:"Order Description",keyword:"shopping, ecommerce"}},{path:"order-listing",component:(El=function(){function e(r,n,i,l,c,o,s,d,a,b){t(this,e),this.route=r,this.router=n,this.http=i,this.util=l,this.user=c,this.message=o,this.localization=s,this.translate=d,this.seo=a,this.window=b,this.orders=[],this.status=[],this.noData=!1,this.isLoading=!0,this.style=new m.a,this.cancelButton=new ge.a,this.orderType="pending_orders",this.currency=V.a.CURRENCY,this.pagination=new u.a,this.pagination.perPageOrder=6}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.seo.updateTitle("".concat(this.localization.transform("order")," Listing | ").concat(V.a.SITE_NAME)),this.route.snapshot.queryParams.orderType&&(this.orderType=this.route.snapshot.queryParams.orderType,this.pagination.offset=this.route.snapshot.queryParams.offset||0),this.styleSubscription=this.util.getStyles.subscribe((function(r){e.style=r,e.cancelButton.color=r.primaryColor,e.cancelButton.borderColor=r.primaryColor,e.cancelButton.backgroundColor="#ffffff"})),this.settingsSubscription=this.util.getSettings.subscribe((function(r){r&&(e.settings=r)})),this.getOrders()}},{key:"getOrders",value:function(){var e=this;this.isLoading=!0;var r="";switch(this.orderType){case"orders":r=g.a.orders.getOrderHistory;break;case"pending_orders":r=g.a.orders.getUpcomingOrders;break;case"schedule_orders":r=g.a.orders.getScheduledOrders}var t={languageId:this.util.handler.languageId,accessToken:this.user.getUserToken,offset:this.pagination.offset,limit:this.pagination.perPageOrder};this.noData=!1,this.http.postData(r,t).subscribe((function(r){e.isLoading=!1,e.noData=!0,r&&r.data&&(e.pagination.count=r.data.count,e.orders=r.data.orderHistory),e.navigateTo()}),(function(r){return e.isLoading=!1}))}},{key:"navigateTo",value:function(){var e=this;this.router.navigate([],{relativeTo:this.route,queryParams:{orderType:this.orderType,offset:this.pagination.offset}}).then((function(){e.seo.updateTitle("".concat(e.localization.transform("order")," Listing | ").concat(V.a.SITE_NAME))}))}},{key:"pageChange",value:function(e){this.pagination.currentPage=e,this.pagination.offset=e>1?(e-1)*this.pagination.perPageOrder:0,this.getOrders(),this.window.scrollTo(0,0)}},{key:"orderTypeSelect",value:function(e){this.orderType!=e&&(this.orderType=e,this.pagination.currentPage=1,this.pagination.offset=0,this.getOrders())}},{key:"cancelOrder",value:function(e){var r=this;this.message.confirm("".concat(this.translate.instant("Cancel This")," ").concat(this.localization.transform("order"))).then((function(t){t.value&&r.http.postData(g.a.orders.cancelOrder,{languageId:r.util.handler.languageId,accessToken:r.user.getUserToken,orderId:e.order_id,isScheduled:e.schedule_order}).subscribe((function(e){e&&e.data&&(r.message.toast("success","".concat(r.localization.transform("order")," ").concat(r.translate.instant("Cancelled Successfully"))),r.getOrders())}))}))}},{key:"trackByOrderFn",value:function(e,r){return r}},{key:"trackByFakeListFn",value:function(e,r){return r}},{key:"ngOnDestroy",value:function(){this.styleSubscription.unsubscribe(),this.settingsSubscription.unsubscribe()}}]),e}(),El.\u0275fac=function(e){return new(e||El)(y.Tb(ne.a),y.Tb(ne.g),y.Tb(b.a),y.Tb(p.a),y.Tb(L.a),y.Tb(a.a),y.Tb(Z.a),y.Tb(Y.e),y.Tb(A.a),y.Tb(rl.a))},El.\u0275cmp=y.Nb({type:El,selectors:[["app-order-listing"]],decls:32,vars:50,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)",1,"active"],[1,"product_result_body"],[1,"order-tabs"],[1,"cursor",3,"ngStyle","click"],[4,"ngIf","ngIfElse"],["skeleton",""],["class","row",4,"ngIf"],["class","no-data",4,"ngIf"],["class","col-xl-6 col-lg-8",4,"ngFor","ngForOf","ngForTrackBy"],["class","custom-pagination",4,"ngIf"],[1,"col-xl-6","col-lg-8"],[3,"order","settings","cancel"],[1,"custom-pagination"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[1,"no-data"],["class","col-6",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-6"],[3,"settings"]],template:function(e,r){if(1&e&&(y.Zb(0,"div",0),y.Zb(1,"div",1),y.Zb(2,"div",2),y.Zb(3,"div",3),y.Zb(4,"ul"),y.Zb(5,"li"),y.Zb(6,"a",4),y.Qc(7),y.lc(8,"translate"),y.lc(9,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(10,"section",5),y.Zb(11,"div",1),y.Zb(12,"div",2),y.Zb(13,"div",3),y.Zb(14,"h1"),y.Qc(15),y.lc(16,"translate"),y.lc(17,"localization"),y.Yb(),y.Zb(18,"ul",6),y.Zb(19,"li",7),y.gc("click",(function(){return r.orderTypeSelect("pending_orders")})),y.Zb(20,"a"),y.Qc(21),y.lc(22,"translate"),y.lc(23,"localization"),y.Yb(),y.Yb(),y.Zb(24,"li",7),y.gc("click",(function(){return r.orderTypeSelect("orders")})),y.Zb(25,"a"),y.Qc(26),y.lc(27,"translate"),y.lc(28,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Oc(29,vl,3,2,"ng-container",8),y.Oc(30,_l,2,2,"ng-template",null,9,y.Pc),y.Yb(),y.Yb()),2&e){var t=y.Ec(31);y.Nc("background-color",r.style.backgroundColor),y.Hb(6),y.Nc("color",r.style.baseColor),y.Hb(1),y.Sc("",y.mc(8,14,"My "+y.oc(9,16,"orders",null==r.settings?null:r.settings.app_type,1))," "),y.Hb(7),y.Nc("color",r.style.baseColor),y.Hb(1),y.Rc(y.mc(16,20,"My "+y.oc(17,22,"orders",null==r.settings?null:r.settings.app_type,1))),y.Hb(4),y.rc("ngStyle","pending_orders"===r.orderType?y.xc(38,Hl,r.style.primaryColor,r.style.primaryColor):y.xc(41,Ol,r.style.baseColor,r.style.baseColor)),y.Hb(2),y.Rc(y.mc(22,26,"Active "+y.oc(23,28,"orders",null==r.settings?null:r.settings.app_type,1))),y.Hb(3),y.rc("ngStyle","orders"===r.orderType?y.xc(44,Hl,r.style.primaryColor,r.style.primaryColor):y.xc(47,Ol,r.style.baseColor,r.style.baseColor)),y.Hb(2),y.Rc(y.mc(27,32,"Past "+y.oc(28,34,"orders",null==r.settings?null:r.settings.app_type,1))),y.Hb(3),y.rc("ngIf",!r.isLoading)("ngIfElse",t)}},directives:[h.n,h.m,h.l,bl,v.c,k],pipes:[Y.d,Z.a,v.b],styles:[""]}),El),data:{title:"Order listing",description:"Order Description",keyword:"shopping, ecommerce"}},{path:"rating",component:(zl=function(){function e(r,n,i,l,c,o,s,d){t(this,e),this.util=r,this.http=n,this.route=i,this.message=l,this.localization=c,this.translate=o,this.seo=s,this.user=d,this.branchId="",this.productId="",this.rating=0,this.title="",this.review="",this.orderIds=[],this.type="",this.supplierId="",this.categoryId="",this.image="",this.supplier="",this.isLoading=!1,this.style=new m.a,this.submit=new ge.a}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.seo.updateTitle("Rating | "+V.a.SITE_NAME),this.util.getStyles.subscribe((function(r){e.style=r,e.submit.backgroundColor=r.primaryColor,e.submit.borderColor=r.primaryColor,e.submit.color="#ffffff"})),this.settingsSubscription=this.util.getSettings.subscribe((function(r){r&&(e.settings=r)})),this.subscribeRoute()}},{key:"subscribeRoute",value:function(){var e=this;this.routeSubscription=this.route.queryParams.subscribe((function(r){e.type=r.type,e.branchId=r.supplierBranchId,e.productId=r.productId?r.productId:null,e.supplierId=r.supplierId?r.supplierId:null,e.orderIds=r.orderId?r.orderId:null,e.categoryId=r.categoryId?r.categoryId:null,e.agentId=r.categoryId?r.agentId:null,e.agentName=r.categoryId?r.agentName:null,"product"==e.type?e.getProductDetail():"supplier"==e.type?e.supplierDetail():"agent"==e.type&&e.orderDetails()}))}},{key:"orderDetails",value:function(){var e=this,r={languageId:parseInt(this.util.handler.languageId),accessToken:this.user.getUserToken,orderId:this.orderIds,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude};this.http.postData(g.a.orders.getOrderDetail,r).subscribe((function(r){r&&r.data&&(e.agentId=r.data.orderHistory[0].agent[0].id,e.agentName=r.data.orderHistory[0].agent[0].name,e.image=r.data.orderHistory[0].agent[0].image)}))}},{key:"supplierDetail",value:function(){var e=this;this.http.postData(g.a.getSupplierDetail,{languageId:this.util.handler.languageId,branchId:this.branchId,supplierId:this.supplierId,categoryId:this.categoryId,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe((function(r){r&&r.data&&(e.image=r.data.logo,e.supplier=r.data)}))}},{key:"getProductDetail",value:function(){var e=this;this.http.postData(g.a.getProductDetail,{languageId:this.util.handler.languageId,productId:this.productId,supplierBranchId:this.branchId,offer:0,latitude:this.util.handler.latitude,longitude:this.util.handler.longitude}).subscribe((function(r){console.log(r),r&&r.data&&(e.product=r.data,e.image=e.product.image_path[0])}))}},{key:"rateProduct",value:function(e){this.rating===e?this.rating>0&&this.rating--:this.rating=e}},{key:"onSubmit",value:function(){var e=this;if(0!==this.rating){if("product"===this.type){var r={title:this.title,reviews:this.review,product_id:this.productId,value:this.rating,order_id:this.orderIds[0]||""};this.isLoading=!0,this.http.postData(g.a.rateProduct,r).subscribe((function(r){r&&e.moveTo(),e.isLoading=!1}),(function(r){return e.isLoading=!1}))}else if("supplier"===this.type){var t={accessToken:this.user.getUserToken,comment:this.review,supplierId:this.product?this.product.supplier_id:this.supplierId,rating:this.rating,orderId:this.orderIds};this.isLoading=!0,this.http.postData(g.a.rateSupplier,t).subscribe((function(r){r&&e.moveTo(),e.isLoading=!1}),(function(r){return e.isLoading=!1}))}else if("agent"==this.type){var n={accessToken:this.user.getUserToken,comment:this.review,agnetId:this.agentId,rating:this.rating,orderId:this.orderIds,languageId:this.util.handler.languageId};this.isLoading=!0,this.http.postData(g.a.rateAgent,n).subscribe((function(r){r&&e.moveTo(),e.isLoading=!1}),(function(r){return e.isLoading=!1}))}}else this.message.toast("warning","".concat(this.translate.instant("Please Rate")," ").concat(this.localization.transform("PRODUCT"===this.type?"product":"supplier")))}},{key:"moveTo",value:function(){switch(this.type){case"PRODUCT":this.message.toast("success","".concat(this.localization.transform("product")," ").concat(this.translate.instant("Rated Successfully")));break;case"SUPPLIER":this.message.toast("success","".concat(this.localization.transform("supplier")," ").concat(this.translate.instant("Rated Successfully")));break;case"agent":this.message.toast("success","".concat(this.localization.transform("agent")," ").concat(this.translate.instant("Rated Successfully")))}this.util.goBack()}},{key:"ngOnDestroy",value:function(){this.routeSubscription.unsubscribe(),this.settingsSubscription.unsubscribe()}}]),e}(),zl.\u0275fac=function(e){return new(e||zl)(y.Tb(p.a),y.Tb(b.a),y.Tb(ne.a),y.Tb(a.a),y.Tb(Z.a),y.Tb(Y.e),y.Tb(A.a),y.Tb(L.a))},zl.\u0275cmp=y.Nb({type:zl,selectors:[["app-rating"]],decls:31,vars:34,consts:[[4,"ngIf"],[1,"rating_and_reviews_page"],[1,"container"],[1,"row"],[1,"col-md-9"],[1,"rating_and_reviews_left",3,"ngStyle"],[1,"user_rating_reviews"],["onError","src = './assets/images/placeholder_image.svg';",3,"src"],[1,"user-review-part"],[1,"user_rating_star"],["aria-hidden","true",1,"cursor",3,"ngClass","click"],[1,"col-md-12"],[1,"rating-form"],["class","title","type","text","name","title",3,"placeholder","ngModel","ngModelChange",4,"ngIf"],["name","review",3,"placeholder","ngModel","ngModelChange"],[1,"btn",3,"ngStyle","click"],[3,"color",4,"ngIf"],["aria-hidden","true",1,"fa","fa-map-marker","mr-1"],["type","text","name","title",1,"title",3,"placeholder","ngModel","ngModelChange"]],template:function(e,r){1&e&&(y.Oc(0,kl,1,0,"app-processing-indicator",0),y.Zb(1,"div",1),y.Zb(2,"div",2),y.Zb(3,"div",3),y.Zb(4,"div",4),y.Zb(5,"div",5),y.Zb(6,"h2"),y.Qc(7),y.lc(8,"translate"),y.Yb(),y.Zb(9,"div",6),y.Ub(10,"img",7),y.Zb(11,"div",8),y.Oc(12,Zl,4,4,"div",0),y.Oc(13,Cl,4,4,"div",0),y.Oc(14,Sl,3,3,"div",0),y.Yb(),y.Zb(15,"div",9),y.Zb(16,"span"),y.Zb(17,"i",10),y.gc("click",(function(){return r.rateProduct(1)})),y.Yb(),y.Zb(18,"i",10),y.gc("click",(function(){return r.rateProduct(2)})),y.Yb(),y.Zb(19,"i",10),y.gc("click",(function(){return r.rateProduct(3)})),y.Yb(),y.Zb(20,"i",10),y.gc("click",(function(){return r.rateProduct(4)})),y.Yb(),y.Zb(21,"i",10),y.gc("click",(function(){return r.rateProduct(5)})),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(22,"div",3),y.Zb(23,"div",11),y.Zb(24,"form",12),y.Oc(25,Ql,2,4,"input",13),y.Zb(26,"textarea",14),y.gc("ngModelChange",(function(e){return r.review=e})),y.lc(27,"translate"),y.Yb(),y.Zb(28,"button",15),y.gc("click",(function(){return r.onSubmit()})),y.Qc(29),y.lc(30,"translate"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e&&(y.rc("ngIf",r.isLoading),y.Hb(5),y.rc("ngStyle",y.xc(27,Tl,r.style.cardBackgroundColor,r.style.secondaryColor)),y.Hb(1),y.Nc("color",r.style.baseColor),y.Hb(1),y.Rc(y.mc(8,21,"Ratings & Review")),y.Hb(2),y.Nc("background-color",r.style.cardBackgroundColor),y.Hb(1),y.rc("src",r.image,y.Jc),y.Hb(2),y.rc("ngIf",r.productId&&!r.supplierId),y.Hb(1),y.rc("ngIf",!r.productId&&r.supplierId),y.Hb(1),y.rc("ngIf","agent"==r.type),y.Hb(3),y.rc("ngClass",y.vc(30,wl).includes(r.rating)?"fa fa-star":"fa fa-star-o"),y.Hb(1),y.rc("ngClass",y.vc(31,Pl).includes(r.rating)?"fa fa-star":"fa fa-star-o"),y.Hb(1),y.rc("ngClass",y.vc(32,Dl).includes(r.rating)?"fa fa-star":"fa fa-star-o"),y.Hb(1),y.rc("ngClass",y.vc(33,xl).includes(r.rating)?"fa fa-star":"fa fa-star-o"),y.Hb(1),y.rc("ngClass",5===r.rating?"fa fa-star":"fa fa-star-o"),y.Hb(4),y.rc("ngIf","product"===r.type),y.Hb(1),y.tc("placeholder","",y.mc(27,23,"Write your review here"),"..."),y.rc("ngModel",r.review),y.Hb(2),y.rc("ngStyle",r.submit),y.Hb(1),y.Rc(y.mc(30,25,"Submit")))},directives:[h.m,h.n,h.k,ie.y,ie.o,ie.p,ie.b,ie.n,ie.q,ce.a],pipes:[Y.d,Z.a],styles:[".radio[_ngcontent-%COMP%]{font-weight:500}.radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{vertical-align:sub;margin-left:6px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border-radius:4px;padding:10px}"]}),zl)},{path:"track-order",component:(Bl=function(){function e(r,n,i,l,c,o){var s=this;t(this,e),this.socket=r,this.route=n,this.util=i,this.localization=l,this.translate=c,this.document=o,this.orderId="",this.map={},this.agentMarker=null,this.destinationMaker=null,this.location={},this.destination_icon={},this.agent_icon={},this.tracking=!1,this.status=[],this.supplier_lat=0,this.supplier_lng=0,this.agent_lat=0,this.agent_lng=0,this.self_pickup=0,this.client_code=V.a.UNIQUE_ID,this.routeSubscription=this.route.queryParams.subscribe((function(e){s.orderId=e.orderId,s.supplier_lat=parseFloat(e.lat),s.supplier_lng=parseFloat(e.lng),s.agent_lat=parseFloat(e.a_lat),s.agent_lng=parseFloat(e.a_lng),s.self_pickup=parseInt(e.selfPickup)})),this.destination_icon={url:1==this.self_pickup?"https://i.imgur.com/F5uH1Fr.png":"https://i.imgur.com/7teZKif.png",scaledSize:{width:37,height:37}},this.agent_icon={url:"freshfarmandlocal_0443"===this.client_code?"../assets/images/car.png":1==this.self_pickup?"../assets/images/user.png":"../assets/images/agentBike.png",scaledSize:{width:65,height:65}}}return i(e,[{key:"ngOnInit",value:function(){var e=this;this.styleSubscription=this.util.getStyles.subscribe((function(r){e.style=r})),this.util.settingsLoaded.subscribe((function(r){r&&(e.directionsService=new google.maps.DirectionsService,e.directionsDisplay=new google.maps.DirectionsRenderer({suppressMarkers:!0}),e.initialize(),e.self_pickup?(e.location.latitude=e.util.handler.latitude,e.location.longitude=e.util.handler.longitude,e.trackLocation()):e.getLocation())}))}},{key:"getLocation",value:function(){var e=this;this.socket.getLocation().subscribe((function(r){r&&(e.location=r,r.order_id==e.orderId&&e.trackLocation())}))}},{key:"initialize",value:function(){this.map=new google.maps.Map(this.document.getElementById("trackLocation"),{zoom:12,streetViewControl:!1,disableDefaultUI:!1,mapTypeControl:!1}),this.directionsDisplay.setMap(this.map),this.map.setCenter({lat:this.agent_lat,lng:this.agent_lng});var e=new google.maps.LatLng({lat:this.agent_lat,lng:this.agent_lng});this.setAgentMarker(e)}},{key:"trackLocation",value:function(){var e=this,r=this,t=this.getDestination(),n=new google.maps.LatLng(t[0],t[1]),i={origin:new google.maps.LatLng(r.location.latitude,r.location.longitude),destination:n,optimizeWaypoints:!0,travelMode:google.maps.DirectionsTravelMode.DRIVING};this.directionsService.route(i,(function(t,n){if(n==google.maps.DirectionsStatus.OK){e.directionsDisplay.setDirections(t),e.directionsDisplay.setMap(r.map),e.agentMarker&&e.agentMarker.setMap(null);var i=t.routes[0].legs[0];e.setAgentMarker(i.start_location),e.setDestinationMaker(i.end_location)}}))}},{key:"setAgentMarker",value:function(e){this.agent_icon.rotation=this.location.bearing,this.agentMarker=new google.maps.Marker({position:e,map:this.map,title:1==this.self_pickup?this.translate.instant("Customer"):this.localization.transform("agent"),icon:this.agent_icon})}},{key:"setDestinationMaker",value:function(e){this.destinationMaker=new google.maps.Marker({position:e,map:this.map,title:1==this.self_pickup?this.localization.transform("supplier"):"Destination",icon:this.destination_icon}),this.tracking||(this.destinationMaker.setPosition(e),this.map.panTo(e),this.tracking=!0)}},{key:"getDestination",value:function(){if(1==this.self_pickup)return[""+this.supplier_lat,""+this.supplier_lng];if(this.location.address&&this.location.address.length){var e=this.location.address[0];return[e.latitude,e.longitude]}}},{key:"ngOnDestroy",value:function(){this.routeSubscription.unsubscribe(),this.styleSubscription.unsubscribe(),this.socket.removeListener("order_location")}}]),e}(),Bl.\u0275fac=function(e){return new(e||Bl)(y.Tb(o.a),y.Tb(ne.a),y.Tb(p.a),y.Tb(Z.a),y.Tb(Y.e),y.Tb(h.d))},Bl.\u0275cmp=y.Nb({type:Bl,selectors:[["app-track-order"]],decls:36,vars:30,consts:[[1,"page_breadcrumb"],[1,"container"],[1,"row"],[1,"col-md-12"],["href","javascript:void(0)","translate","",3,"routerLink","queryParams"],["href","javascript:void(0)","translate","",1,"uk-text-bold"],[1,"product_result_body","pb-4"],[1,"col"],["translate","",3,"color",4,"ngIf"],["class","text-right",3,"color",4,"ngIf"],[1,"col-md-6"],[1,"float-right"],["id","trackLocation"],["translate",""],[1,"text-right"]],template:function(e,r){1&e&&(y.Zb(0,"div",0),y.Zb(1,"div",1),y.Zb(2,"div",2),y.Zb(3,"div",3),y.Zb(4,"ul"),y.Zb(5,"li"),y.Zb(6,"a",4),y.Qc(7),y.lc(8,"localization"),y.Yb(),y.Yb(),y.Zb(9,"li"),y.Zb(10,"a",5),y.Qc(11),y.lc(12,"localization"),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Yb(),y.Zb(13,"section",6),y.Zb(14,"div",1),y.Zb(15,"div",2),y.Zb(16,"div",3),y.Zb(17,"div",2),y.Zb(18,"div",7),y.Oc(19,Nl,3,5,"h3",8),y.Oc(20,Fl,4,8,"h3",8),y.Yb(),y.Zb(21,"div",7),y.Oc(22,Rl,3,6,"h4",9),y.Yb(),y.Yb(),y.Ub(23,"br"),y.Yb(),y.Yb(),y.Zb(24,"div",2),y.Zb(25,"div",10),y.Oc(26,Ml,3,6,"p",8),y.Yb(),y.Zb(27,"div",10),y.Zb(28,"p",11),y.lc(29,"orderStatusColor"),y.Qc(30),y.lc(31,"translate"),y.lc(32,"orderStatus"),y.Yb(),y.Yb(),y.Yb(),y.Zb(33,"div",2),y.Zb(34,"div",3),y.Ub(35,"div",12),y.Yb(),y.Yb(),y.Yb(),y.Yb()),2&e&&(y.Nc("background-color",r.style.backgroundColor),y.Hb(6),y.Nc("color",r.style.baseColor),y.rc("routerLink",y.vc(27,Ll))("queryParams",y.wc(28,ql,r.orderId)),y.Hb(1),y.Sc("",y.mc(8,17,"order")," Detail"),y.Hb(3),y.Nc("color",r.style.baseColor),y.Hb(1),y.Sc("",y.mc(12,19,"order")," Tracking"),y.Hb(8),y.rc("ngIf",0==r.self_pickup),y.Hb(1),y.rc("ngIf",1==r.self_pickup),y.Hb(2),y.rc("ngIf",r.location.estimatedTimeInMinutes),y.Hb(4),y.rc("ngIf",null==r.location?null:r.location.order_id),y.Hb(2),y.Nc("color",y.mc(29,21,null==r.location?null:r.location.status)),y.Hb(2),y.Sc("",y.mc(31,23,y.mc(32,25,null==r.location?null:r.location.status))," "))},directives:[ne.j,Y.a,h.m],pipes:[Z.a,Cr,Y.d,Ie],styles:["#trackLocation[_ngcontent-%COMP%]{height:550px;border-radius:4px}h3[_ngcontent-%COMP%]{font-weight:400}"]}),Bl),data:{title:"tracking",description:"Order tracking",keyword:"shopping, ecommerce"}},{path:"order-request",component:z,data:{title:"order request",description:"Order request",keyword:"shopping, ecommerce"}}],jl=((Ul=function e(){t(this,e)}).\u0275mod=y.Rb({type:Ul}),Ul.\u0275inj=y.Qb({factory:function(e){return new(e||Ul)},imports:[[h.c,ne.k.forChild($l)],ne.k]}),Ul),Wl=l("RH9n"),Vl=l("nO2T"),Gl=l("aLPR"),Xl=((Al=function e(){t(this,e)}).\u0275mod=y.Rb({type:Al}),Al.\u0275inj=y.Qb({factory:function(e){return new(e||Al)},providers:[s.a,o.a],imports:[[h.c,Vl.a,c.a,jl,Wl.b,Gl.a]]}),Al)}}])}();